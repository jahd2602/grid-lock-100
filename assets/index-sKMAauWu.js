(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();var sp={exports:{}},lu={};var RT;function A2(){if(RT)return lu;RT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return lu.Fragment=t,lu.jsx=e,lu.jsxs=e,lu}var CT;function b2(){return CT||(CT=1,sp.exports=A2()),sp.exports}var W=b2(),rp={exports:{}},xt={};var IT;function w2(){if(IT)return xt;IT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function G(N,J,ut){this.props=N,this.context=J,this.refs=F,this.updater=ut||P}G.prototype.isReactComponent={},G.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=G.prototype;function Q(N,J,ut){this.props=N,this.context=J,this.refs=F,this.updater=ut||P}var it=Q.prototype=new Y;it.constructor=Q,U(it,G.prototype),it.isPureReactComponent=!0;var rt=Array.isArray;function ct(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(N,J,ut){var ft=ut.ref;return{$$typeof:n,type:N,key:J,ref:ft!==void 0?ft:null,props:ut}}function M(N,J){return R(N.type,J,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function k(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return J[ut]})}var D=/\/+/g;function ie(N,J){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):J.toString(36)}function Te(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ct,ct):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function X(N,J,ut,ft,St){var Mt=typeof N;(Mt==="undefined"||Mt==="boolean")&&(N=null);var zt=!1;if(N===null)zt=!0;else switch(Mt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(N.$$typeof){case n:case t:zt=!0;break;case v:return zt=N._init,X(zt(N._payload),J,ut,ft,St)}}if(zt)return St=St(N),zt=ft===""?"."+ie(N,0):ft,rt(St)?(ut="",zt!=null&&(ut=zt.replace(D,"$&/")+"/"),X(St,J,ut,"",function(Tt){return Tt})):St!=null&&(V(St)&&(St=M(St,ut+(St.key==null||N&&N.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+zt)),J.push(St)),1;zt=0;var Ie=ft===""?".":ft+":";if(rt(N))for(var at=0;at<N.length;at++)ft=N[at],Mt=Ie+ie(ft,at),zt+=X(ft,J,ut,Mt,St);else if(at=C(N),typeof at=="function")for(N=at.call(N),at=0;!(ft=N.next()).done;)ft=ft.value,Mt=Ie+ie(ft,at++),zt+=X(ft,J,ut,Mt,St);else if(Mt==="object"){if(typeof N.then=="function")return X(Te(N),J,ut,ft,St);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return zt}function ot(N,J,ut){if(N==null)return N;var ft=[],St=0;return X(N,ft,"","",function(Mt){return J.call(ut,Mt,St++)}),ft}function ht(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var Rt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},kt={map:ot,forEach:function(N,J,ut){ot(N,function(){J.apply(this,arguments)},ut)},count:function(N){var J=0;return ot(N,function(){J++}),J},toArray:function(N){return ot(N,function(J){return J})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return xt.Activity=E,xt.Children=kt,xt.Component=G,xt.Fragment=e,xt.Profiler=o,xt.PureComponent=Q,xt.StrictMode=r,xt.Suspense=g,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},xt.cache=function(N){return function(){return N.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(N,J,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ft=U({},N.props),St=N.key;if(J!=null)for(Mt in J.key!==void 0&&(St=""+J.key),J)!w.call(J,Mt)||Mt==="key"||Mt==="__self"||Mt==="__source"||Mt==="ref"&&J.ref===void 0||(ft[Mt]=J[Mt]);var Mt=arguments.length-2;if(Mt===1)ft.children=ut;else if(1<Mt){for(var zt=Array(Mt),Ie=0;Ie<Mt;Ie++)zt[Ie]=arguments[Ie+2];ft.children=zt}return R(N.type,St,ft)},xt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},xt.createElement=function(N,J,ut){var ft,St={},Mt=null;if(J!=null)for(ft in J.key!==void 0&&(Mt=""+J.key),J)w.call(J,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=J[ft]);var zt=arguments.length-2;if(zt===1)St.children=ut;else if(1<zt){for(var Ie=Array(zt),at=0;at<zt;at++)Ie[at]=arguments[at+2];St.children=Ie}if(N&&N.defaultProps)for(ft in zt=N.defaultProps,zt)St[ft]===void 0&&(St[ft]=zt[ft]);return R(N,Mt,St)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(N){return{$$typeof:m,render:N}},xt.isValidElement=V,xt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ht}},xt.memo=function(N,J){return{$$typeof:p,type:N,compare:J===void 0?null:J}},xt.startTransition=function(N){var J=I.T,ut={};I.T=ut;try{var ft=N(),St=I.S;St!==null&&St(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ct,Rt)}catch(Mt){Rt(Mt)}finally{J!==null&&ut.types!==null&&(J.types=ut.types),I.T=J}},xt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xt.use=function(N){return I.H.use(N)},xt.useActionState=function(N,J,ut){return I.H.useActionState(N,J,ut)},xt.useCallback=function(N,J){return I.H.useCallback(N,J)},xt.useContext=function(N){return I.H.useContext(N)},xt.useDebugValue=function(){},xt.useDeferredValue=function(N,J){return I.H.useDeferredValue(N,J)},xt.useEffect=function(N,J){return I.H.useEffect(N,J)},xt.useEffectEvent=function(N){return I.H.useEffectEvent(N)},xt.useId=function(){return I.H.useId()},xt.useImperativeHandle=function(N,J,ut){return I.H.useImperativeHandle(N,J,ut)},xt.useInsertionEffect=function(N,J){return I.H.useInsertionEffect(N,J)},xt.useLayoutEffect=function(N,J){return I.H.useLayoutEffect(N,J)},xt.useMemo=function(N,J){return I.H.useMemo(N,J)},xt.useOptimistic=function(N,J){return I.H.useOptimistic(N,J)},xt.useReducer=function(N,J,ut){return I.H.useReducer(N,J,ut)},xt.useRef=function(N){return I.H.useRef(N)},xt.useState=function(N){return I.H.useState(N)},xt.useSyncExternalStore=function(N,J,ut){return I.H.useSyncExternalStore(N,J,ut)},xt.useTransition=function(){return I.H.useTransition()},xt.version="19.2.4",xt}var DT;function kg(){return DT||(DT=1,rp.exports=w2()),rp.exports}var st=kg(),ap={exports:{}},uu={},op={exports:{}},lp={};var xT;function R2(){return xT||(xT=1,(function(n){function t(X,ot){var ht=X.length;X.push(ot);t:for(;0<ht;){var Rt=ht-1>>>1,kt=X[Rt];if(0<o(kt,ot))X[Rt]=ot,X[ht]=kt,ht=Rt;else break t}}function e(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ot=X[0],ht=X.pop();if(ht!==ot){X[0]=ht;t:for(var Rt=0,kt=X.length,N=kt>>>1;Rt<N;){var J=2*(Rt+1)-1,ut=X[J],ft=J+1,St=X[ft];if(0>o(ut,ht))ft<kt&&0>o(St,ut)?(X[Rt]=St,X[ft]=ht,Rt=ft):(X[Rt]=ut,X[J]=ht,Rt=J);else if(ft<kt&&0>o(St,ht))X[Rt]=St,X[ft]=ht,Rt=ft;else break t}}return ot}function o(X,ot){var ht=X.sortIndex-ot.sortIndex;return ht!==0?ht:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var g=[],p=[],v=1,E=null,S=3,C=!1,P=!1,U=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function it(X){for(var ot=e(p);ot!==null;){if(ot.callback===null)r(p);else if(ot.startTime<=X)r(p),ot.sortIndex=ot.expirationTime,t(g,ot);else break;ot=e(p)}}function rt(X){if(U=!1,it(X),!P)if(e(g)!==null)P=!0,ct||(ct=!0,k());else{var ot=e(p);ot!==null&&Te(rt,ot.startTime-X)}}var ct=!1,I=-1,w=5,R=-1;function M(){return F?!0:!(n.unstable_now()-R<w)}function V(){if(F=!1,ct){var X=n.unstable_now();R=X;var ot=!0;try{t:{P=!1,U&&(U=!1,Y(I),I=-1),C=!0;var ht=S;try{e:{for(it(X),E=e(g);E!==null&&!(E.expirationTime>X&&M());){var Rt=E.callback;if(typeof Rt=="function"){E.callback=null,S=E.priorityLevel;var kt=Rt(E.expirationTime<=X);if(X=n.unstable_now(),typeof kt=="function"){E.callback=kt,it(X),ot=!0;break e}E===e(g)&&r(g),it(X)}else r(g);E=e(g)}if(E!==null)ot=!0;else{var N=e(p);N!==null&&Te(rt,N.startTime-X),ot=!1}}break t}finally{E=null,S=ht,C=!1}ot=void 0}}finally{ot?k():ct=!1}}}var k;if(typeof Q=="function")k=function(){Q(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ie=D.port2;D.port1.onmessage=V,k=function(){ie.postMessage(null)}}else k=function(){G(V,0)};function Te(X,ot){I=G(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var ht=S;S=ot;try{return X()}finally{S=ht}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ht=S;S=X;try{return ot()}finally{S=ht}},n.unstable_scheduleCallback=function(X,ot,ht){var Rt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Rt+ht:Rt):ht=Rt,X){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=ht+kt,X={id:v++,callback:ot,priorityLevel:X,startTime:ht,expirationTime:kt,sortIndex:-1},ht>Rt?(X.sortIndex=ht,t(p,X),e(g)===null&&X===e(p)&&(U?(Y(I),I=-1):U=!0,Te(rt,ht-Rt))):(X.sortIndex=kt,t(g,X),P||C||(P=!0,ct||(ct=!0,k()))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var ot=S;return function(){var ht=S;S=ot;try{return X.apply(this,arguments)}finally{S=ht}}}})(lp)),lp}var VT;function C2(){return VT||(VT=1,op.exports=R2()),op.exports}var up={exports:{}},yn={};var MT;function I2(){if(MT)return yn;MT=1;var n=kg();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,v)},yn.flushSync=function(g){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=v,r.d.f()}},yn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},yn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},yn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,E=m(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:C}):v==="script"&&r.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},yn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=m(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},yn.requestFormReset=function(g){r.d.r(g)},yn.unstable_batchedUpdates=function(g,p){return g(p)},yn.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.4",yn}var NT;function D2(){if(NT)return up.exports;NT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),up.exports=I2(),up.exports}var OT;function x2(){if(OT)return uu;OT=1;var n=C2(),t=kg(),e=D2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(u(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),i;if(d===l)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case G:return"Profiler";case F:return"StrictMode";case rt:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case Q:return i.displayName||"Context";case Y:return(i._context.displayName||"Context")+".Consumer";case it:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:ie(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return ie(i(s))}catch{}}return null}var Te=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Rt=[],kt=-1;function N(i){return{current:i}}function J(i){0>kt||(i.current=Rt[kt],Rt[kt]=null,kt--)}function ut(i,s){kt++,Rt[kt]=i.current,i.current=s}var ft=N(null),St=N(null),Mt=N(null),zt=N(null);function Ie(i,s){switch(ut(Mt,s),ut(St,i),ut(ft,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?X0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=X0(s),i=$0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ft),ut(ft,i)}function at(){J(ft),J(St),J(Mt)}function Tt(i){i.memoizedState!==null&&ut(zt,i);var s=ft.current,a=$0(s,i.type);s!==a&&(ut(St,i),ut(ft,a))}function At(i){St.current===i&&(J(ft),J(St)),zt.current===i&&(J(zt),su._currentValue=ht)}var bt,Qt;function Lt(i){if(bt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);bt=s&&s[1]||"",Qt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+i+Qt}var Zt=!1;function fe(i,s){if(!i||Zt)return"";Zt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var q=K}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(K){q=K}i.call(tt.prototype)}}else{try{throw Error()}catch(K){q=K}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var x=_.split(`
`),B=A.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===B.length)for(l=x.length-1,f=B.length-1;1<=l&&0<=f&&x[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==B[f]){var $=`
`+x[l].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=l&&0<=f);break}}}finally{Zt=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Lt(a):""}function Pe(i,s){switch(i.tag){case 26:case 27:case 5:return Lt(i.type);case 16:return Lt("Lazy");case 13:return i.child!==s&&s!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return fe(i.type,!1);case 11:return fe(i.type.render,!1);case 1:return fe(i.type,!0);case 31:return Lt("Activity");default:return""}}function me(i){try{var s="",a=null;do s+=Pe(i,a),a=i,i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ft=Object.prototype.hasOwnProperty,Ct=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,$t=n.unstable_requestPaint,Ut=n.unstable_now,rn=n.unstable_getCurrentPriorityLevel,ui=n.unstable_ImmediatePriority,qr=n.unstable_UserBlockingPriority,Di=n.unstable_NormalPriority,ll=n.unstable_LowPriority,ka=n.unstable_IdlePriority,xi=n.log,La=n.unstable_setDisableYieldValue,ci=null,an=null;function Kn(i){if(typeof xi=="function"&&La(i),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(ci,i)}catch{}}var De=Math.clz32?Math.clz32:oc,ac=Math.log,Ua=Math.LN2;function oc(i){return i>>>=0,i===0?32:31-(ac(i)/Ua|0)|0}var Vi=256,Hr=262144,ke=4194304;function Mi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,s,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,d=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=Mi(l):(_&=A,_!==0?f=Mi(_):a||(a=A&~i,a!==0&&(f=Mi(a))))):(A=l&~d,A!==0?f=Mi(A):_!==0?f=Mi(_):a||(a=l&~i,a!==0&&(f=Mi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function hi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ld(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lc(){var i=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),i}function Oi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Gr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ud(i,s,a,l,f,d){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,x=i.expirationTimes,B=i.hiddenUpdates;for(a=_&~a;0<a;){var $=31-De(a),tt=1<<$;A[$]=0,x[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var K=q[$];K!==null&&(K.lane&=-536870913)}a&=~tt}l!==0&&Kr(i,l,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(_&~s))}function Kr(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var l=31-De(s);i.entangledLanes|=s,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function ul(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var l=31-De(a),f=1<<l;f&s|i[l]&s&&(i[l]|=s),a&=~f}}function cl(i,s){var a=s&-s;return a=(a&42)!==0?1:Yr(a),(a&(i.suspendedLanes|s))!==0?0:a}function Yr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function cs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function uc(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:_T(i.type))}function fi(i,s){var a=ot.p;try{return ot.p=i,s()}finally{ot.p=a}}var di=Math.random().toString(36).slice(2),Le="__reactFiber$"+di,tn="__reactProps$"+di,Pi="__reactContainer$"+di,za="__reactEvents$"+di,cd="__reactListeners$"+di,cc="__reactHandles$"+di,hc="__reactResources$"+di,ki="__reactMarker$"+di;function ja(i){delete i[Le],delete i[tn],delete i[za],delete i[cd],delete i[cc]}function Li(i){var s=i[Le];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Pi]||a[Le]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=iT(i);i!==null;){if(a=i[Le])return a;i=iT(i)}return s}i=a,a=i.parentNode}return null}function Yn(i){if(i=i[Le]||i[Pi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function kn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ui(i){var s=i[hc];return s||(s=i[hc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ue(i){i[ki]=!0}var hl=new Set,fl={};function zi(i,s){ji(i,s),ji(i+"Capture",s)}function ji(i,s){for(fl[i]=s,i=0;i<s.length;i++)hl.add(s[i])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function fc(i){return Ft.call(pl,i)?!0:Ft.call(ml,i)?!1:dl.test(i)?pl[i]=!0:(ml[i]=!0,!1)}function Ba(i,s,a){if(fc(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Ln(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function ze(i,s,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+l)}}function en(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Us(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gl(i,s,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function re(i){if(!i._valueTracker){var s=Us(i)?"checked":"value";i._valueTracker=gl(i,s,""+i[s])}}function Qr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return i&&(l=Us(i)?i.checked?"true":"false":i.value),i=l,i!==a?(s.setValue(i),!0):!1}function Bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Xr=/[\n"\\]/g;function Cn(i){return i.replace(Xr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fa(i,s,a,l,f,d,_,A){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+en(s)):i.value!==""+en(s)&&(i.value=""+en(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?yl(i,_,en(s)):a!=null?yl(i,_,en(a)):l!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+en(A):i.removeAttribute("name")}function dc(i,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){re(i);return}a=a!=null?""+en(a):"",s=s!=null?""+en(s):a,A||s===i.value||(i.value=s),i.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),re(i)}function yl(i,s,a){s==="number"&&Bi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function zs(i,s,a,l){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+en(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function mc(i,s,a){if(s!=null&&(s=""+en(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+en(a):""}function js(i,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=en(s),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),re(i)}function In(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(i,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":l?i.setProperty(s,a):typeof a!="number"||a===0||pc.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function _l(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&vl(i,f,l)}else for(var d in s)s.hasOwnProperty(d)&&vl(i,d,s[d])}function qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function mi(){}var Tl=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,Fi=null;function $r(i){var s=Yn(i);if(s&&(i=s.stateNode)){var a=i[tn]||null;t:switch(i=s.stateNode,s.type){case"input":if(Fa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Cn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==i&&l.form===i.form){var f=l[tn]||null;if(!f)throw Error(r(90));Fa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===i.form&&Qr(l)}break t;case"textarea":mc(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&zs(i,!!a.multiple,s,!1)}}}var Ga=!1;function qs(i,s,a){if(Ga)return i(s,a);Ga=!0;try{var l=i(s);return l}finally{if(Ga=!1,(Fs!==null||Fi!==null)&&(uh(),Fs&&(s=Fs,i=Fi,Fi=Fs=null,$r(s),i)))for(s=0;s<i.length;s++)$r(i[s])}}function pi(i,s){var a=i.stateNode;if(a===null)return null;var l=a[tn]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Xn)try{var le={};Object.defineProperty(le,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{Wr=!1}var qi=null,El=null,Zr=null;function Sl(){if(Zr)return Zr;var i,s=El,a=s.length,l,f="value"in qi?qi.value:qi.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Zr=f.slice(i,1<l?1-l:void 0)}function Jr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function gi(){return!1}function on(i){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:gi,this.isPropagationStopped=gi,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=on(fs),Hs=E({},fs,{view:0,detail:0}),Al=on(Hs),Gs,Ka,Gi,Ya=E({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Gi&&(Gi&&i.type==="mousemove"?(Gs=i.screenX-Gi.screenX,Ka=i.screenY-Gi.screenY):Ka=Gs=0,Gi=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),bl=on(Ya),ta=E({},Ya,{dataTransfer:0}),yc=on(ta),vc=E({},Hs,{relatedTarget:0}),ea=on(vc),wl=E({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),_c=on(wl),Qa=E({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tc=on(Qa),Ec=E({},fs,{data:0}),Ki=on(Ec),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=bc[i])?!!s[i]:!1}function Ks(){return wc}var An=E({},Hs,{key:function(i){if(i.key){var s=Sc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Jr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(i){return i.type==="keypress"?Jr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Jr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rc=on(An),Cc=E({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=on(Cc),h=E({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),y=on(h),T=E({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=on(T),z=E({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),H=on(z),lt=E({},fs,{newState:0,oldState:0}),Nt=on(lt),xe=[9,13,27,32],ee=Xn&&"CompositionEvent"in window,Ee=null;Xn&&"documentMode"in document&&(Ee=document.documentMode);var $n=Xn&&"TextEvent"in window&&!Ee,Yi=Xn&&(!ee||Ee&&8<Ee&&11>=Ee),yi=" ",vi=!1;function na(i,s){switch(i){case"keyup":return xe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function YR(i,s){switch(i){case"compositionend":return Xa(s);case"keypress":return s.which!==32?null:(vi=!0,yi);case"textInput":return i=s.data,i===yi&&vi?null:i;default:return null}}function QR(i,s){if($a)return i==="compositionend"||!ee&&na(i,s)?(i=Sl(),Zr=El=qi=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!XR[i.type]:s==="textarea"}function ov(i,s,a,l){Fs?Fi?Fi.push(l):Fi=[l]:Fs=l,s=gh(s,"onChange"),0<s.length&&(a=new Hi("onChange","change",null,a,l),i.push({event:a,listeners:s}))}var Rl=null,Cl=null;function $R(i){q0(i,0)}function Ic(i){var s=kn(i);if(Qr(s))return i}function lv(i,s){if(i==="change")return s}var uv=!1;if(Xn){var hd;if(Xn){var fd="oninput"in document;if(!fd){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),fd=typeof cv.oninput=="function"}hd=fd}else hd=!1;uv=hd&&(!document.documentMode||9<document.documentMode)}function hv(){Rl&&(Rl.detachEvent("onpropertychange",fv),Cl=Rl=null)}function fv(i){if(i.propertyName==="value"&&Ic(Cl)){var s=[];ov(s,Cl,i,Qn(i)),qs($R,s)}}function WR(i,s,a){i==="focusin"?(hv(),Rl=s,Cl=a,Rl.attachEvent("onpropertychange",fv)):i==="focusout"&&hv()}function ZR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ic(Cl)}function JR(i,s){if(i==="click")return Ic(s)}function tC(i,s){if(i==="input"||i==="change")return Ic(s)}function eC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Un=typeof Object.is=="function"?Object.is:eC;function Il(i,s){if(Un(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ft.call(s,f)||!Un(i[f],s[f]))return!1}return!0}function dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mv(i,s){var a=dv(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=s&&l>=s)return{node:a,offset:s-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=dv(a)}}function pv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?pv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bi(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Bi(i.document)}return s}function dd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var nC=Xn&&"documentMode"in document&&11>=document.documentMode,Wa=null,md=null,Dl=null,pd=!1;function yv(i,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pd||Wa==null||Wa!==Bi(l)||(l=Wa,"selectionStart"in l&&dd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Il(Dl,l)||(Dl=l,l=gh(md,"onSelect"),0<l.length&&(s=new Hi("onSelect","select",null,s,a),i.push({event:s,listeners:l}),s.target=Wa)))}function ia(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Za={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},gd={},vv={};Xn&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function sa(i){if(gd[i])return gd[i];if(!Za[i])return i;var s=Za[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in vv)return gd[i]=s[a];return i}var _v=sa("animationend"),Tv=sa("animationiteration"),Ev=sa("animationstart"),iC=sa("transitionrun"),sC=sa("transitionstart"),rC=sa("transitioncancel"),Sv=sa("transitionend"),Av=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function _i(i,s){Av.set(i,s),zi(s,[i])}var Dc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Wn=[],Ja=0,vd=0;function xc(){for(var i=Ja,s=vd=Ja=0;s<i;){var a=Wn[s];Wn[s++]=null;var l=Wn[s];Wn[s++]=null;var f=Wn[s];Wn[s++]=null;var d=Wn[s];if(Wn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&bv(a,f,d)}}function Vc(i,s,a,l){Wn[Ja++]=i,Wn[Ja++]=s,Wn[Ja++]=a,Wn[Ja++]=l,vd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function _d(i,s,a,l){return Vc(i,s,a,l),Mc(i)}function ra(i,s){return Vc(i,null,null,s),Mc(i)}function bv(i,s,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-De(a),i=d.hiddenUpdates,l=i[f],l===null?i[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Mc(i){if(50<Wl)throw Wl=0,Im=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var to={};function aC(i,s,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,s,a,l){return new aC(i,s,a,l)}function Td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,s){var a=i.alternate;return a===null?(a=zn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function wv(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Nc(i,s,a,l,f,d){var _=0;if(l=i,typeof i=="function")Td(i)&&(_=1);else if(typeof i=="string")_=h2(i,a,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=zn(31,a,s,f),i.elementType=R,i.lanes=d,i;case U:return aa(a.children,f,d,s);case F:_=8,f|=24;break;case G:return i=zn(12,a,s,f|2),i.elementType=G,i.lanes=d,i;case rt:return i=zn(13,a,s,f),i.elementType=rt,i.lanes=d,i;case ct:return i=zn(19,a,s,f),i.elementType=ct,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:_=10;break t;case Y:_=9;break t;case it:_=11;break t;case I:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(r(130,i===null?"null":typeof i,"")),l=null}return s=zn(_,a,s,f),s.elementType=i,s.type=l,s.lanes=d,s}function aa(i,s,a,l){return i=zn(7,i,l,s),i.lanes=a,i}function Ed(i,s,a){return i=zn(6,i,null,s),i.lanes=a,i}function Rv(i){var s=zn(18,null,null,0);return s.stateNode=i,s}function Sd(i,s,a){return s=zn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Cv=new WeakMap;function Zn(i,s){if(typeof i=="object"&&i!==null){var a=Cv.get(i);return a!==void 0?a:(s={value:i,source:s,stack:me(s)},Cv.set(i,s),s)}return{value:i,source:s,stack:me(s)}}var eo=[],no=0,Oc=null,xl=0,Jn=[],ti=0,Ys=null,Qi=1,Xi="";function ps(i,s){eo[no++]=xl,eo[no++]=Oc,Oc=i,xl=s}function Iv(i,s,a){Jn[ti++]=Qi,Jn[ti++]=Xi,Jn[ti++]=Ys,Ys=i;var l=Qi;i=Xi;var f=32-De(l)-1;l&=~(1<<f),a+=1;var d=32-De(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Qi=1<<32-De(s)+f|a<<f|l,Xi=d+i}else Qi=1<<d|a<<f|l,Xi=i}function Ad(i){i.return!==null&&(ps(i,1),Iv(i,1,0))}function bd(i){for(;i===Oc;)Oc=eo[--no],eo[no]=null,xl=eo[--no],eo[no]=null;for(;i===Ys;)Ys=Jn[--ti],Jn[ti]=null,Xi=Jn[--ti],Jn[ti]=null,Qi=Jn[--ti],Jn[ti]=null}function Dv(i,s){Jn[ti++]=Qi,Jn[ti++]=Xi,Jn[ti++]=Ys,Qi=s.id,Xi=s.overflow,Ys=i}var ln=null,ye=null,Xt=!1,Qs=null,ei=!1,wd=Error(r(519));function Xs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Zn(s,i)),wd}function xv(i){var s=i.stateNode,a=i.type,l=i.memoizedProps;switch(s[Le]=i,s[tn]=l,a){case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":case"embed":Bt("load",s);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Bt(Jl[a],s);break;case"source":Bt("error",s);break;case"img":case"image":case"link":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"input":Bt("invalid",s),dc(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",s);break;case"textarea":Bt("invalid",s),js(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Y0(s.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",s),Bt("toggle",s)),l.onScroll!=null&&Bt("scroll",s),l.onScrollEnd!=null&&Bt("scrollend",s),l.onClick!=null&&(s.onclick=mi),s=!0):s=!1,s||Xs(i,!0)}function Vv(i){for(ln=i.return;ln;)switch(ln.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:ln=ln.return}}function io(i){if(i!==ln)return!1;if(!Xt)return Vv(i),Xt=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||qm(i.type,i.memoizedProps)),a=!a),a&&ye&&Xs(i),Vv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ye=nT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ye=nT(i)}else s===27?(s=ye,ur(i.type)?(i=Qm,Qm=null,ye=i):ye=s):ye=ln?ii(i.stateNode.nextSibling):null;return!0}function oa(){ye=ln=null,Xt=!1}function Rd(){var i=Qs;return i!==null&&(Mn===null?Mn=i:Mn.push.apply(Mn,i),Qs=null),i}function Vl(i){Qs===null?Qs=[i]:Qs.push(i)}var Cd=N(null),la=null,gs=null;function $s(i,s,a){ut(Cd,s._currentValue),s._currentValue=a}function ys(i){i._currentValue=Cd.current,J(Cd)}function Id(i,s,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),i===a)break;i=i.return}}function Dd(i,s,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var x=0;x<s.length;x++)if(A.context===s[x]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Id(d.return,a,i),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Id(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function so(i,s,a,l){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Un(f.pendingProps.value,_.value)||(i!==null?i.push(A):i=[A])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}f=f.return}i!==null&&Dd(s,i,a,l),s.flags|=262144}function Pc(i){for(i=i.firstContext;i!==null;){if(!Un(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return Mv(la,i)}function kc(i,s){return la===null&&ua(i),Mv(i,s)}function Mv(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},gs===null){if(i===null)throw Error(r(308));gs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else gs=gs.next=s;return a}var oC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},lC=n.unstable_scheduleCallback,uC=n.unstable_NormalPriority,je={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xd(){return{controller:new oC,data:new Map,refCount:0}}function Ml(i){i.refCount--,i.refCount===0&&lC(uC,function(){i.controller.abort()})}var Nl=null,Vd=0,ro=0,ao=null;function cC(i,s){if(Nl===null){var a=Nl=[];Vd=0,ro=Om(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vd++,s.then(Nv,Nv),s}function Nv(){if(--Vd===0&&Nl!==null){ao!==null&&(ao.status="fulfilled");var i=Nl;Nl=null,ro=0,ao=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function hC(i,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ov=X.S;X.S=function(i,s){y0=Ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cC(i,s),Ov!==null&&Ov(i,s)};var ca=N(null);function Md(){var i=ca.current;return i!==null?i:de.pooledCache}function Lc(i,s){s===null?ut(ca,ca.current):ut(ca,s.pool)}function Pv(){var i=Md();return i===null?null:{parent:je._currentValue,pool:i}}var oo=Error(r(460)),Nd=Error(r(474)),Uc=Error(r(542)),zc={then:function(){}};function kv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Lv(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(mi,mi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,zv(i),i;default:if(typeof s.status=="string")s.then(mi,mi);else{if(i=de,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,zv(i),i}throw fa=s,oo}}function ha(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fa=a,oo):a}}var fa=null;function Uv(){if(fa===null)throw Error(r(459));var i=fa;return fa=null,i}function zv(i){if(i===oo||i===Uc)throw Error(r(483))}var lo=null,Ol=0;function jc(i){var s=Ol;return Ol+=1,lo===null&&(lo=[]),Lv(lo,i,s)}function Pl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Bc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function jv(i){function s(L,O){if(i){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function a(L,O){if(!i)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=ms(L,O),L.index=0,L.sibling=null,L}function d(L,O,j){return L.index=j,i?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,j,Z){return O===null||O.tag!==6?(O=Ed(j,L.mode,Z),O.return=L,O):(O=f(O,j),O.return=L,O)}function x(L,O,j,Z){var vt=j.type;return vt===U?$(L,O,j.props.children,Z,j.key):O!==null&&(O.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ha(vt)===O.type)?(O=f(O,j.props),Pl(O,j),O.return=L,O):(O=Nc(j.type,j.key,j.props,null,L.mode,Z),Pl(O,j),O.return=L,O)}function B(L,O,j,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Sd(j,L.mode,Z),O.return=L,O):(O=f(O,j.children||[]),O.return=L,O)}function $(L,O,j,Z,vt){return O===null||O.tag!==7?(O=aa(j,L.mode,Z,vt),O.return=L,O):(O=f(O,j),O.return=L,O)}function tt(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ed(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return j=Nc(O.type,O.key,O.props,null,L.mode,j),Pl(j,O),j.return=L,j;case P:return O=Sd(O,L.mode,j),O.return=L,O;case w:return O=ha(O),tt(L,O,j)}if(Te(O)||k(O))return O=aa(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return tt(L,jc(O),j);if(O.$$typeof===Q)return tt(L,kc(L,O),j);Bc(L,O)}return null}function q(L,O,j,Z){var vt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return vt!==null?null:A(L,O,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return j.key===vt?x(L,O,j,Z):null;case P:return j.key===vt?B(L,O,j,Z):null;case w:return j=ha(j),q(L,O,j,Z)}if(Te(j)||k(j))return vt!==null?null:$(L,O,j,Z,null);if(typeof j.then=="function")return q(L,O,jc(j),Z);if(j.$$typeof===Q)return q(L,O,kc(L,j),Z);Bc(L,j)}return null}function K(L,O,j,Z,vt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(j)||null,A(O,L,""+Z,vt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return L=L.get(Z.key===null?j:Z.key)||null,x(O,L,Z,vt);case P:return L=L.get(Z.key===null?j:Z.key)||null,B(O,L,Z,vt);case w:return Z=ha(Z),K(L,O,j,Z,vt)}if(Te(Z)||k(Z))return L=L.get(j)||null,$(O,L,Z,vt,null);if(typeof Z.then=="function")return K(L,O,j,jc(Z),vt);if(Z.$$typeof===Q)return K(L,O,j,kc(O,Z),vt);Bc(O,Z)}return null}function pt(L,O,j,Z){for(var vt=null,Jt=null,yt=O,Pt=O=0,Ht=null;yt!==null&&Pt<j.length;Pt++){yt.index>Pt?(Ht=yt,yt=null):Ht=yt.sibling;var te=q(L,yt,j[Pt],Z);if(te===null){yt===null&&(yt=Ht);break}i&&yt&&te.alternate===null&&s(L,yt),O=d(te,O,Pt),Jt===null?vt=te:Jt.sibling=te,Jt=te,yt=Ht}if(Pt===j.length)return a(L,yt),Xt&&ps(L,Pt),vt;if(yt===null){for(;Pt<j.length;Pt++)yt=tt(L,j[Pt],Z),yt!==null&&(O=d(yt,O,Pt),Jt===null?vt=yt:Jt.sibling=yt,Jt=yt);return Xt&&ps(L,Pt),vt}for(yt=l(yt);Pt<j.length;Pt++)Ht=K(yt,L,Pt,j[Pt],Z),Ht!==null&&(i&&Ht.alternate!==null&&yt.delete(Ht.key===null?Pt:Ht.key),O=d(Ht,O,Pt),Jt===null?vt=Ht:Jt.sibling=Ht,Jt=Ht);return i&&yt.forEach(function(mr){return s(L,mr)}),Xt&&ps(L,Pt),vt}function Et(L,O,j,Z){if(j==null)throw Error(r(151));for(var vt=null,Jt=null,yt=O,Pt=O=0,Ht=null,te=j.next();yt!==null&&!te.done;Pt++,te=j.next()){yt.index>Pt?(Ht=yt,yt=null):Ht=yt.sibling;var mr=q(L,yt,te.value,Z);if(mr===null){yt===null&&(yt=Ht);break}i&&yt&&mr.alternate===null&&s(L,yt),O=d(mr,O,Pt),Jt===null?vt=mr:Jt.sibling=mr,Jt=mr,yt=Ht}if(te.done)return a(L,yt),Xt&&ps(L,Pt),vt;if(yt===null){for(;!te.done;Pt++,te=j.next())te=tt(L,te.value,Z),te!==null&&(O=d(te,O,Pt),Jt===null?vt=te:Jt.sibling=te,Jt=te);return Xt&&ps(L,Pt),vt}for(yt=l(yt);!te.done;Pt++,te=j.next())te=K(yt,L,Pt,te.value,Z),te!==null&&(i&&te.alternate!==null&&yt.delete(te.key===null?Pt:te.key),O=d(te,O,Pt),Jt===null?vt=te:Jt.sibling=te,Jt=te);return i&&yt.forEach(function(S2){return s(L,S2)}),Xt&&ps(L,Pt),vt}function he(L,O,j,Z){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case C:t:{for(var vt=j.key;O!==null;){if(O.key===vt){if(vt=j.type,vt===U){if(O.tag===7){a(L,O.sibling),Z=f(O,j.props.children),Z.return=L,L=Z;break t}}else if(O.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ha(vt)===O.type){a(L,O.sibling),Z=f(O,j.props),Pl(Z,j),Z.return=L,L=Z;break t}a(L,O);break}else s(L,O);O=O.sibling}j.type===U?(Z=aa(j.props.children,L.mode,Z,j.key),Z.return=L,L=Z):(Z=Nc(j.type,j.key,j.props,null,L.mode,Z),Pl(Z,j),Z.return=L,L=Z)}return _(L);case P:t:{for(vt=j.key;O!==null;){if(O.key===vt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(L,O.sibling),Z=f(O,j.children||[]),Z.return=L,L=Z;break t}else{a(L,O);break}else s(L,O);O=O.sibling}Z=Sd(j,L.mode,Z),Z.return=L,L=Z}return _(L);case w:return j=ha(j),he(L,O,j,Z)}if(Te(j))return pt(L,O,j,Z);if(k(j)){if(vt=k(j),typeof vt!="function")throw Error(r(150));return j=vt.call(j),Et(L,O,j,Z)}if(typeof j.then=="function")return he(L,O,jc(j),Z);if(j.$$typeof===Q)return he(L,O,kc(L,j),Z);Bc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(L,O.sibling),Z=f(O,j),Z.return=L,L=Z):(a(L,O),Z=Ed(j,L.mode,Z),Z.return=L,L=Z),_(L)):a(L,O)}return function(L,O,j,Z){try{Ol=0;var vt=he(L,O,j,Z);return lo=null,vt}catch(yt){if(yt===oo||yt===Uc)throw yt;var Jt=zn(29,yt,null,L.mode);return Jt.lanes=Z,Jt.return=L,Jt}}}var da=jv(!0),Bv=jv(!1),Ws=!1;function Od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,s,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Mc(i),bv(i,null,a),s}return Vc(i,l,s,a),Mc(i)}function kl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,ul(i,a)}}function kd(i,s){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Ld=!1;function Ll(){if(Ld){var i=ao;if(i!==null)throw i}}function Ul(i,s,a,l){Ld=!1;var f=i.updateQueue;Ws=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,B=x.next;x.next=null,_===null?d=B:_.next=B,_=x;var $=i.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=B:A.next=B,$.lastBaseUpdate=x))}if(d!==null){var tt=f.baseState;_=0,$=B=x=null,A=d;do{var q=A.lane&-536870913,K=q!==A.lane;if(K?(qt&q)===q:(l&q)===q){q!==0&&q===ro&&(Ld=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var pt=i,Et=A;q=s;var he=a;switch(Et.tag){case 1:if(pt=Et.payload,typeof pt=="function"){tt=pt.call(he,tt,q);break t}tt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Et.payload,q=typeof pt=="function"?pt.call(he,tt,q):pt,q==null)break t;tt=E({},tt,q);break t;case 2:Ws=!0}}q=A.callback,q!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(B=$=K,x=tt):$=$.next=K,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;K=A,A=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);$===null&&(x=tt),f.baseState=x,f.firstBaseUpdate=B,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),sr|=_,i.lanes=_,i.memoizedState=tt}}function Fv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function qv(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Fv(a[i],s)}var uo=N(null),Fc=N(0);function Hv(i,s){i=Rs,ut(Fc,i),ut(uo,s),Rs=i|s.baseLanes}function Ud(){ut(Fc,Rs),ut(uo,uo.current)}function zd(){Rs=Fc.current,J(uo),J(Fc)}var jn=N(null),ni=null;function tr(i){var s=i.alternate;ut(Ve,Ve.current&1),ut(jn,i),ni===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(ni=i)}function jd(i){ut(Ve,Ve.current),ut(jn,i),ni===null&&(ni=i)}function Gv(i){i.tag===22?(ut(Ve,Ve.current),ut(jn,i),ni===null&&(ni=i)):er()}function er(){ut(Ve,Ve.current),ut(jn,jn.current)}function Bn(i){J(jn),ni===i&&(ni=null),J(Ve)}var Ve=N(0);function qc(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Km(a)||Ym(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vs=0,Ot=null,ue=null,Be=null,Hc=!1,co=!1,ma=!1,Gc=0,zl=0,ho=null,fC=0;function we(){throw Error(r(321))}function Bd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Un(i[a],s[a]))return!1;return!0}function Fd(i,s,a,l,f,d){return vs=d,Ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?I_:im,ma=!1,d=a(l,f),ma=!1,co&&(d=Yv(s,a,l,f)),Kv(i),d}function Kv(i){X.H=Fl;var s=ue!==null&&ue.next!==null;if(vs=0,Be=ue=Ot=null,Hc=!1,zl=0,ho=null,s)throw Error(r(300));i===null||Fe||(i=i.dependencies,i!==null&&Pc(i)&&(Fe=!0))}function Yv(i,s,a,l){Ot=i;var f=0;do{if(co&&(ho=null),zl=0,co=!1,25<=f)throw Error(r(301));if(f+=1,Be=ue=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=D_,d=s(a,l)}while(co);return d}function dC(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?jl(s):s,i=i.useState()[0],(ue!==null?ue.memoizedState:null)!==i&&(Ot.flags|=1024),s}function qd(){var i=Gc!==0;return Gc=0,i}function Hd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Gd(i){if(Hc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hc=!1}vs=0,Be=ue=Ot=null,co=!1,zl=Gc=0,ho=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ot.memoizedState=Be=i:Be=Be.next=i,Be}function Me(){if(ue===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=ue.next;var s=Be===null?Ot.memoizedState:Be.next;if(s!==null)Be=s,ue=i;else{if(i===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));ue=i,i={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Be===null?Ot.memoizedState=Be=i:Be=Be.next=i}return Be}function Kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(i){var s=zl;return zl+=1,ho===null&&(ho=[]),i=Lv(ho,i,s),s=Ot,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?I_:im),i}function Yc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return jl(i);if(i.$$typeof===Q)return un(i)}throw Error(r(438,String(i)))}function Kd(i){var s=null,a=Ot.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Kc(),Ot.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),l=0;l<i;l++)a[l]=M;return s.index++,a}function _s(i,s){return typeof s=="function"?s(i):s}function Qc(i){var s=Me();return Yd(s,ue,i)}function Yd(i,s,a){var l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=i.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var A=_=null,x=null,B=s,$=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(qt&tt)===tt:(vs&tt)===tt){var q=B.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===ro&&($=!0);else if((vs&q)===q){B=B.next,q===ro&&($=!0);continue}else tt={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(A=x=tt,_=d):x=x.next=tt,Ot.lanes|=q,sr|=q;tt=B.action,ma&&a(d,tt),d=B.hasEagerState?B.eagerState:a(d,tt)}else q={lane:tt,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(A=x=q,_=d):x=x.next=q,Ot.lanes|=tt,sr|=tt;B=B.next}while(B!==null&&B!==s);if(x===null?_=d:x.next=A,!Un(d,i.memoizedState)&&(Fe=!0,$&&(a=ao,a!==null)))throw a;i.memoizedState=d,i.baseState=_,i.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Qd(i){var s=Me(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=i(d,_.action),_=_.next;while(_!==f);Un(d,s.memoizedState)||(Fe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Qv(i,s,a){var l=Ot,f=Me(),d=Xt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Un((ue||f).memoizedState,a);if(_&&(f.memoizedState=a,Fe=!0),f=f.queue,Wd(Wv.bind(null,l,f,i),[i]),f.getSnapshot!==s||_||Be!==null&&Be.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},$v.bind(null,l,f,a,s),null),de===null)throw Error(r(349));d||(vs&127)!==0||Xv(l,s,a)}return a}function Xv(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Ot.updateQueue,s===null?(s=Kc(),Ot.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function $v(i,s,a,l){s.value=a,s.getSnapshot=l,Zv(s)&&Jv(i)}function Wv(i,s,a){return a(function(){Zv(s)&&Jv(i)})}function Zv(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Un(i,a)}catch{return!0}}function Jv(i){var s=ra(i,2);s!==null&&Nn(s,i,2)}function Xd(i){var s=bn();if(typeof i=="function"){var a=i;if(i=a(),ma){Kn(!0);try{a()}finally{Kn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},s}function t_(i,s,a,l){return i.baseState=a,Yd(i,ue,typeof l=="function"?l:_s)}function mC(i,s,a,l,f){if(Wc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,e_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function e_(i,s){var a=s.action,l=s.payload,f=i.state;if(s.isTransition){var d=X.T,_={};X.T=_;try{var A=a(f,l),x=X.S;x!==null&&x(_,A),n_(i,s,A)}catch(B){$d(i,s,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),n_(i,s,d)}catch(B){$d(i,s,B)}}function n_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){i_(i,s,l)},function(l){return $d(i,s,l)}):i_(i,s,a)}function i_(i,s,a){s.status="fulfilled",s.value=a,s_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,e_(i,a)))}function $d(i,s,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,s_(s),s=s.next;while(s!==l)}i.action=null}function s_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function r_(i,s){return s}function a_(i,s){if(Xt){var a=de.formState;if(a!==null){t:{var l=Ot;if(Xt){if(ye){e:{for(var f=ye,d=ei;f.nodeType!==8;){if(!d){f=null;break e}if(f=ii(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ye=ii(f.nextSibling),l=f.data==="F!";break t}}Xs(l)}l=!1}l&&(s=a[0])}}return a=bn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:s},a.queue=l,a=w_.bind(null,Ot,l),l.dispatch=a,l=Xd(!1),d=nm.bind(null,Ot,!1,l.queue),l=bn(),f={state:s,dispatch:null,action:i,pending:null},l.queue=f,a=mC.bind(null,Ot,f,d,a),f.dispatch=a,l.memoizedState=i,[s,a,!1]}function o_(i){var s=Me();return l_(s,ue,i)}function l_(i,s,a){if(s=Yd(i,s,r_)[0],i=Qc(_s)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=jl(s)}catch(_){throw _===oo?Uc:_}else l=s;s=Me();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Ot.flags|=2048,fo(9,{destroy:void 0},pC.bind(null,f,a),null)),[l,d,i]}function pC(i,s){i.action=s}function u_(i){var s=Me(),a=ue;if(a!==null)return l_(s,a,i);Me(),s=s.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=i,[s,l,!1]}function fo(i,s,a,l){return i={tag:i,create:a,deps:l,inst:s,next:null},s=Ot.updateQueue,s===null&&(s=Kc(),Ot.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,s.lastEffect=i),i}function c_(){return Me().memoizedState}function Xc(i,s,a,l){var f=bn();Ot.flags|=i,f.memoizedState=fo(1|s,{destroy:void 0},a,l===void 0?null:l)}function $c(i,s,a,l){var f=Me();l=l===void 0?null:l;var d=f.memoizedState.inst;ue!==null&&l!==null&&Bd(l,ue.memoizedState.deps)?f.memoizedState=fo(s,d,a,l):(Ot.flags|=i,f.memoizedState=fo(1|s,d,a,l))}function h_(i,s){Xc(8390656,8,i,s)}function Wd(i,s){$c(2048,8,i,s)}function gC(i){Ot.flags|=4;var s=Ot.updateQueue;if(s===null)s=Kc(),Ot.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function f_(i){var s=Me().memoizedState;return gC({ref:s,nextImpl:i}),function(){if((ne&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function d_(i,s){return $c(4,2,i,s)}function m_(i,s){return $c(4,4,i,s)}function p_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function g_(i,s,a){a=a!=null?a.concat([i]):null,$c(4,4,p_.bind(null,s,i),a)}function Zd(){}function y_(i,s){var a=Me();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Bd(s,l[1])?l[0]:(a.memoizedState=[i,s],i)}function v_(i,s){var a=Me();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Bd(s,l[1]))return l[0];if(l=i(),ma){Kn(!0);try{i()}finally{Kn(!1)}}return a.memoizedState=[l,s],l}function Jd(i,s,a){return a===void 0||(vs&1073741824)!==0&&(qt&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=_0(),Ot.lanes|=i,sr|=i,a)}function __(i,s,a,l){return Un(a,s)?a:uo.current!==null?(i=Jd(i,a,l),Un(i,s)||(Fe=!0),i):(vs&42)===0||(vs&1073741824)!==0&&(qt&261930)===0?(Fe=!0,i.memoizedState=a):(i=_0(),Ot.lanes|=i,sr|=i,s)}function T_(i,s,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=X.T,A={};X.T=A,nm(i,!1,s,a);try{var x=f(),B=X.S;if(B!==null&&B(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=hC(x,l);Bl(i,s,$,Hn(i))}else Bl(i,s,l,Hn(i))}catch(tt){Bl(i,s,{then:function(){},status:"rejected",reason:tt},Hn())}finally{ot.p=d,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function yC(){}function tm(i,s,a,l){if(i.tag!==5)throw Error(r(476));var f=E_(i).queue;T_(i,f,s,ht,a===null?yC:function(){return S_(i),a(l)})}function E_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ht},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function S_(i){var s=E_(i);s.next===null&&(s=i.alternate.memoizedState),Bl(i,s.next.queue,{},Hn())}function em(){return un(su)}function A_(){return Me().memoizedState}function b_(){return Me().memoizedState}function vC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Hn();i=Zs(a);var l=Js(s,i,a);l!==null&&(Nn(l,s,a),kl(l,s,a)),s={cache:xd()},i.payload=s;return}s=s.return}}function _C(i,s,a){var l=Hn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(i)?R_(s,a):(a=_d(i,s,a,l),a!==null&&(Nn(a,i,l),C_(a,s,l)))}function w_(i,s,a){var l=Hn();Bl(i,s,a,l)}function Bl(i,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(i))R_(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Un(A,_))return Vc(i,s,f,0),de===null&&xc(),!1}catch{}if(a=_d(i,s,f,l),a!==null)return Nn(a,i,l),C_(a,s,l),!0}return!1}function nm(i,s,a,l){if(l={lane:2,revertLane:Om(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wc(i)){if(s)throw Error(r(479))}else s=_d(i,a,l,2),s!==null&&Nn(s,i,2)}function Wc(i){var s=i.alternate;return i===Ot||s!==null&&s===Ot}function R_(i,s){co=Hc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function C_(i,s,a){if((a&4194048)!==0){var l=s.lanes;l&=i.pendingLanes,a|=l,s.lanes=a,ul(i,a)}}var Fl={readContext:un,use:Yc,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Fl.useEffectEvent=we;var I_={readContext:un,use:Yc,useCallback:function(i,s){return bn().memoizedState=[i,s===void 0?null:s],i},useContext:un,useEffect:h_,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Xc(4194308,4,p_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Xc(4194308,4,i,s)},useInsertionEffect:function(i,s){Xc(4,2,i,s)},useMemo:function(i,s){var a=bn();s=s===void 0?null:s;var l=i();if(ma){Kn(!0);try{i()}finally{Kn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(i,s,a){var l=bn();if(a!==void 0){var f=a(s);if(ma){Kn(!0);try{a(s)}finally{Kn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=_C.bind(null,Ot,i),[l.memoizedState,i]},useRef:function(i){var s=bn();return i={current:i},s.memoizedState=i},useState:function(i){i=Xd(i);var s=i.queue,a=w_.bind(null,Ot,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Zd,useDeferredValue:function(i,s){var a=bn();return Jd(a,i,s)},useTransition:function(){var i=Xd(!1);return i=T_.bind(null,Ot,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var l=Ot,f=bn();if(Xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),de===null)throw Error(r(349));(qt&127)!==0||Xv(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,h_(Wv.bind(null,l,d,i),[i]),l.flags|=2048,fo(9,{destroy:void 0},$v.bind(null,l,d,a,s),null),a},useId:function(){var i=bn(),s=de.identifierPrefix;if(Xt){var a=Xi,l=Qi;a=(l&~(1<<32-De(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Gc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=fC++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:em,useFormState:a_,useActionState:a_,useOptimistic:function(i){var s=bn();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=nm.bind(null,Ot,!0,a),a.dispatch=s,[i,s]},useMemoCache:Kd,useCacheRefresh:function(){return bn().memoizedState=vC.bind(null,Ot)},useEffectEvent:function(i){var s=bn(),a={impl:i};return s.memoizedState=a,function(){if((ne&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},im={readContext:un,use:Yc,useCallback:y_,useContext:un,useEffect:Wd,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:v_,useReducer:Qc,useRef:c_,useState:function(){return Qc(_s)},useDebugValue:Zd,useDeferredValue:function(i,s){var a=Me();return __(a,ue.memoizedState,i,s)},useTransition:function(){var i=Qc(_s)[0],s=Me().memoizedState;return[typeof i=="boolean"?i:jl(i),s]},useSyncExternalStore:Qv,useId:A_,useHostTransitionStatus:em,useFormState:o_,useActionState:o_,useOptimistic:function(i,s){var a=Me();return t_(a,ue,i,s)},useMemoCache:Kd,useCacheRefresh:b_};im.useEffectEvent=f_;var D_={readContext:un,use:Yc,useCallback:y_,useContext:un,useEffect:Wd,useImperativeHandle:g_,useInsertionEffect:d_,useLayoutEffect:m_,useMemo:v_,useReducer:Qd,useRef:c_,useState:function(){return Qd(_s)},useDebugValue:Zd,useDeferredValue:function(i,s){var a=Me();return ue===null?Jd(a,i,s):__(a,ue.memoizedState,i,s)},useTransition:function(){var i=Qd(_s)[0],s=Me().memoizedState;return[typeof i=="boolean"?i:jl(i),s]},useSyncExternalStore:Qv,useId:A_,useHostTransitionStatus:em,useFormState:u_,useActionState:u_,useOptimistic:function(i,s){var a=Me();return ue!==null?t_(a,ue,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Kd,useCacheRefresh:b_};D_.useEffectEvent=f_;function sm(i,s,a,l){s=i.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var rm={enqueueSetState:function(i,s,a){i=i._reactInternals;var l=Hn(),f=Zs(l);f.payload=s,a!=null&&(f.callback=a),s=Js(i,f,l),s!==null&&(Nn(s,i,l),kl(s,i,l))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var l=Hn(),f=Zs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Js(i,f,l),s!==null&&(Nn(s,i,l),kl(s,i,l))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Hn(),l=Zs(a);l.tag=2,s!=null&&(l.callback=s),s=Js(i,l,a),s!==null&&(Nn(s,i,a),kl(s,i,a))}};function x_(i,s,a,l,f,d,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!Il(a,l)||!Il(f,d):!0}function V_(i,s,a,l){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==i&&rm.enqueueReplaceState(s,s.state,null)}function pa(i,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(i=i.defaultProps){a===s&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function M_(i){Dc(i)}function N_(i){console.error(i)}function O_(i){Dc(i)}function Zc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function P_(i,s,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(i,s,a){return a=Zs(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(i,s)},a}function k_(i){return i=Zs(i),i.tag=3,i}function L_(i,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;i.payload=function(){return f(d)},i.callback=function(){P_(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){P_(s,a,l),typeof f!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function TC(i,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&so(s,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return ni===null?ch():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===zc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Vm(i,l,f)),!1;case 22:return a.flags|=65536,l===zc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Vm(i,l,f)),!1}throw Error(r(435,a.tag))}return Vm(i,l,f),ch(),!1}if(Xt)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==wd&&(i=Error(r(422),{cause:l}),Vl(Zn(i,a)))):(l!==wd&&(s=Error(r(423),{cause:l}),Vl(Zn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=Zn(l,a),f=am(i.stateNode,l,f),kd(i,f),Re!==4&&(Re=2)),!1;var d=Error(r(520),{cause:l});if(d=Zn(d,a),$l===null?$l=[d]:$l.push(d),Re!==4&&(Re=2),s===null)return!0;l=Zn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=am(a.stateNode,l,i),kd(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(rr===null||!rr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=k_(f),L_(f,i,a,l),kd(a,f),!1}a=a.return}while(a!==null);return!1}var om=Error(r(461)),Fe=!1;function cn(i,s,a,l){s.child=i===null?Bv(s,null,a,l):da(s,i.child,a,l)}function U_(i,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return ua(s),l=Fd(i,s,a,_,d,f),A=qd(),i!==null&&!Fe?(Hd(i,s,f),Ts(i,s,f)):(Xt&&A&&Ad(s),s.flags|=1,cn(i,s,l,f),s.child)}function z_(i,s,a,l,f){if(i===null){var d=a.type;return typeof d=="function"&&!Td(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,j_(i,s,d,l,f)):(i=Nc(a.type,null,l,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!pm(i,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(_,l)&&i.ref===s.ref)return Ts(i,s,f)}return s.flags|=1,i=ms(d,l),i.ref=s.ref,i.return=s,s.child=i}function j_(i,s,a,l,f){if(i!==null){var d=i.memoizedProps;if(Il(d,l)&&i.ref===s.ref)if(Fe=!1,s.pendingProps=l=d,pm(i,f))(i.flags&131072)!==0&&(Fe=!0);else return s.lanes=i.lanes,Ts(i,s,f)}return lm(i,s,a,l,f)}function B_(i,s,a,l){var f=l.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(l=s.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return F_(i,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Lc(s,d!==null?d.cachePool:null),d!==null?Hv(s,d):Ud(),Gv(s);else return l=s.lanes=536870912,F_(i,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Lc(s,d.cachePool),Hv(s,d),er(),s.memoizedState=null):(i!==null&&Lc(s,null),Ud(),er());return cn(i,s,f,a),s.child}function ql(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function F_(i,s,a,l,f){var d=Md();return d=d===null?null:{parent:je._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Lc(s,null),Ud(),Gv(s),i!==null&&so(i,s,l,!0),s.childLanes=f,null}function Jc(i,s){return s=eh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function q_(i,s,a){return da(s,i.child,null,a),i=Jc(s,s.pendingProps),i.flags|=2,Bn(s),s.memoizedState=null,i}function EC(i,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Xt){if(l.mode==="hidden")return i=Jc(s,l),s.lanes=536870912,ql(null,i);if(jd(s),(i=ye)?(i=eT(i,ei),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},a=Rv(i),a.return=s,s.child=a,ln=s,ye=null)):i=null,i===null)throw Xs(s);return s.lanes=536870912,null}return Jc(s,l)}var d=i.memoizedState;if(d!==null){var _=d.dehydrated;if(jd(s),f)if(s.flags&256)s.flags&=-257,s=q_(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Fe||so(i,s,a,!1),f=(a&i.childLanes)!==0,Fe||f){if(l=de,l!==null&&(_=cl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ra(i,_),Nn(l,i,_),om;ch(),s=q_(i,s,a)}else i=d.treeContext,ye=ii(_.nextSibling),ln=s,Xt=!0,Qs=null,ei=!1,i!==null&&Dv(s,i),s=Jc(s,l),s.flags|=4096;return s}return i=ms(i.child,{mode:l.mode,children:l.children}),i.ref=s.ref,s.child=i,i.return=s,i}function th(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function lm(i,s,a,l,f){return ua(s),a=Fd(i,s,a,l,void 0,f),l=qd(),i!==null&&!Fe?(Hd(i,s,f),Ts(i,s,f)):(Xt&&l&&Ad(s),s.flags|=1,cn(i,s,a,f),s.child)}function H_(i,s,a,l,f,d){return ua(s),s.updateQueue=null,a=Yv(s,l,a,f),Kv(i),l=qd(),i!==null&&!Fe?(Hd(i,s,d),Ts(i,s,d)):(Xt&&l&&Ad(s),s.flags|=1,cn(i,s,a,d),s.child)}function G_(i,s,a,l,f){if(ua(s),s.stateNode===null){var d=to,_=a.contextType;typeof _=="object"&&_!==null&&(d=un(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Od(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?un(_):to,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(sm(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&rm.enqueueReplaceState(d,d.state,null),Ul(s,l,d,f),Ll(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(i===null){d=s.stateNode;var A=s.memoizedProps,x=pa(a,A);d.props=x;var B=d.context,$=a.contextType;_=to,typeof $=="object"&&$!==null&&(_=un($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==_)&&V_(s,d,l,_),Ws=!1;var q=s.memoizedState;d.state=q,Ul(s,l,d,f),Ll(),B=s.memoizedState,A||q!==B||Ws?(typeof tt=="function"&&(sm(s,a,tt,l),B=s.memoizedState),(x=Ws||x_(s,a,x,l,q,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),d.props=l,d.state=B,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Pd(i,s),_=s.memoizedProps,$=pa(a,_),d.props=$,tt=s.pendingProps,q=d.context,B=a.contextType,x=to,typeof B=="object"&&B!==null&&(x=un(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||q!==x)&&V_(s,d,l,x),Ws=!1,q=s.memoizedState,d.state=q,Ul(s,l,d,f),Ll();var K=s.memoizedState;_!==tt||q!==K||Ws||i!==null&&i.dependencies!==null&&Pc(i.dependencies)?(typeof A=="function"&&(sm(s,a,A,l),K=s.memoizedState),($=Ws||x_(s,a,$,l,q,K,x)||i!==null&&i.dependencies!==null&&Pc(i.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=K),d.props=l,d.state=K,d.context=x,l=$):(typeof d.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),l=!1)}return d=l,th(i,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&l?(s.child=da(s,i.child,null,f),s.child=da(s,null,a,f)):cn(i,s,a,f),s.memoizedState=d.state,i=s.child):i=Ts(i,s,f),i}function K_(i,s,a,l){return oa(),s.flags|=256,cn(i,s,a,l),s.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(i){return{baseLanes:i,cachePool:Pv()}}function hm(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=qn),i}function Y_(i,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xt){if(f?tr(s):er(),(i=ye)?(i=eT(i,ei),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},a=Rv(i),a.return=s,s.child=a,ln=s,ye=null)):i=null,i===null)throw Xs(s);return Ym(i)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(er(),f=s.mode,A=eh({mode:"hidden",children:A},f),l=aa(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=cm(a),l.childLanes=hm(i,_,a),s.memoizedState=um,ql(null,l)):(tr(s),fm(s,A))}var x=i.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(d)s.flags&256?(tr(s),s.flags&=-257,s=dm(i,s,a)):s.memoizedState!==null?(er(),s.child=i.child,s.flags|=128,s=null):(er(),A=l.fallback,f=s.mode,l=eh({mode:"visible",children:l.children},f),A=aa(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,da(s,i.child,null,a),l=s.child,l.memoizedState=cm(a),l.childLanes=hm(i,_,a),s.memoizedState=um,s=ql(null,l));else if(tr(s),Ym(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Vl({value:l,source:null,stack:null}),s=dm(i,s,a)}else if(Fe||so(i,s,a,!1),_=(a&i.childLanes)!==0,Fe||_){if(_=de,_!==null&&(l=cl(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,ra(i,l),Nn(_,i,l),om;Km(A)||ch(),s=dm(i,s,a)}else Km(A)?(s.flags|=192,s.child=i.child,s=null):(i=x.treeContext,ye=ii(A.nextSibling),ln=s,Xt=!0,Qs=null,ei=!1,i!==null&&Dv(s,i),s=fm(s,l.children),s.flags|=4096);return s}return f?(er(),A=l.fallback,f=s.mode,x=i.child,B=x.sibling,l=ms(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,B!==null?A=ms(B,A):(A=aa(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,ql(null,l),l=s.child,A=i.child.memoizedState,A===null?A=cm(a):(f=A.cachePool,f!==null?(x=je._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Pv(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=hm(i,_,a),s.memoizedState=um,ql(i.child,l)):(tr(s),a=i.child,i=a.sibling,a=ms(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function fm(i,s){return s=eh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function eh(i,s){return i=zn(22,i,null,s),i.lanes=0,i}function dm(i,s,a){return da(s,i.child,null,a),i=fm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Q_(i,s,a){i.lanes|=s;var l=i.alternate;l!==null&&(l.lanes|=s),Id(i.return,s,a)}function mm(i,s,a,l,f,d){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function X_(i,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Ve.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,ut(Ve,_),cn(i,s,l,a),l=Xt?xl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Q_(i,a,s);else if(i.tag===19)Q_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&qc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),mm(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&qc(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}mm(s,!0,a,null,d,l);break;case"together":mm(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ts(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),sr|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(so(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=ms(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=ms(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function pm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Pc(i)))}function SC(i,s,a){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),$s(s,je,i.memoizedState.cache),oa();break;case 27:case 5:Tt(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:$s(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,jd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Y_(i,s,a):(tr(s),i=Ts(i,s,a),i!==null?i.sibling:null);tr(s);break;case 19:var f=(i.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(so(i,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return X_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Ve,Ve.current),l)break;return null;case 22:return s.lanes=0,B_(i,s,a,s.pendingProps);case 24:$s(s,je,i.memoizedState.cache)}return Ts(i,s,a)}function $_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)Fe=!0;else{if(!pm(i,a)&&(s.flags&128)===0)return Fe=!1,SC(i,s,a);Fe=(i.flags&131072)!==0}else Fe=!1,Xt&&(s.flags&1048576)!==0&&Iv(s,xl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(i=ha(s.elementType),s.type=i,typeof i=="function")Td(i)?(l=pa(i,l),s.tag=1,s=G_(null,s,i,l,a)):(s.tag=0,s=lm(null,s,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===it){s.tag=11,s=U_(null,s,i,l,a);break t}else if(f===I){s.tag=14,s=z_(null,s,i,l,a);break t}}throw s=ie(i)||i,Error(r(306,s,""))}}return s;case 0:return lm(i,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=pa(l,s.pendingProps),G_(i,s,l,f,a);case 3:t:{if(Ie(s,s.stateNode.containerInfo),i===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Pd(i,s),Ul(s,l,null,a);var _=s.memoizedState;if(l=_.cache,$s(s,je,l),l!==d.cache&&Dd(s,[je],a,!0),Ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=K_(i,s,l,a);break t}else if(l!==f){f=Zn(Error(r(424)),s),Vl(f),s=K_(i,s,l,a);break t}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ye=ii(i.firstChild),ln=s,Xt=!0,Qs=null,ei=!0,a=Bv(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oa(),l===f){s=Ts(i,s,a);break t}cn(i,s,l,a)}s=s.child}return s;case 26:return th(i,s),i===null?(a=oT(s.type,null,s.pendingProps,null))?s.memoizedState=a:Xt||(a=s.type,i=s.pendingProps,l=yh(Mt.current).createElement(a),l[Le]=s,l[tn]=i,hn(l,a,i),Ue(l),s.stateNode=l):s.memoizedState=oT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Tt(s),i===null&&Xt&&(l=s.stateNode=sT(s.type,s.pendingProps,Mt.current),ln=s,ei=!0,f=ye,ur(s.type)?(Qm=f,ye=ii(l.firstChild)):ye=f),cn(i,s,s.pendingProps.children,a),th(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xt&&((f=l=ye)&&(l=ZC(l,s.type,s.pendingProps,ei),l!==null?(s.stateNode=l,ln=s,ye=ii(l.firstChild),ei=!1,f=!0):f=!1),f||Xs(s)),Tt(s),f=s.type,d=s.pendingProps,_=i!==null?i.memoizedProps:null,l=d.children,qm(f,d)?l=null:_!==null&&qm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Fd(i,s,dC,null,null,a),su._currentValue=f),th(i,s),cn(i,s,l,a),s.child;case 6:return i===null&&Xt&&((i=a=ye)&&(a=JC(a,s.pendingProps,ei),a!==null?(s.stateNode=a,ln=s,ye=null,i=!0):i=!1),i||Xs(s)),null;case 13:return Y_(i,s,a);case 4:return Ie(s,s.stateNode.containerInfo),l=s.pendingProps,i===null?s.child=da(s,null,l,a):cn(i,s,l,a),s.child;case 11:return U_(i,s,s.type,s.pendingProps,a);case 7:return cn(i,s,s.pendingProps,a),s.child;case 8:return cn(i,s,s.pendingProps.children,a),s.child;case 12:return cn(i,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,$s(s,s.type,l.value),cn(i,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,ua(s),f=un(f),l=l(f),s.flags|=1,cn(i,s,l,a),s.child;case 14:return z_(i,s,s.type,s.pendingProps,a);case 15:return j_(i,s,s.type,s.pendingProps,a);case 19:return X_(i,s,a);case 31:return EC(i,s,a);case 22:return B_(i,s,a,s.pendingProps);case 24:return ua(s),l=un(je),i===null?(f=Md(),f===null&&(f=de,d=xd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},Od(s),$s(s,je,f)):((i.lanes&a)!==0&&(Pd(i,s),Ul(s,null,null,a),Ll()),f=i.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),$s(s,je,l)):(l=d.cache,$s(s,je,l),l!==f.cache&&Dd(s,[je],a,!0))),cn(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Es(i){i.flags|=4}function gm(i,s,a,l,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(A0())i.flags|=8192;else throw fa=zc,Nd}else i.flags&=-16777217}function W_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!fT(s))if(A0())i.flags|=8192;else throw fa=zc,Nd}function nh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?lc():536870912,i.lanes|=s,yo|=s)}function Hl(i,s){if(!Xt)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ve(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,s}function AC(i,s,a){var l=s.pendingProps;switch(bd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(s),null;case 1:return ve(s),null;case 3:return a=s.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ys(je),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(io(s)?Es(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rd())),ve(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(Es(s),d!==null?(ve(s),W_(s,d)):(ve(s),gm(s,f,null,l,a))):d?d!==i.memoizedState?(Es(s),ve(s),W_(s,d)):(ve(s),s.flags&=-16777217):(i=i.memoizedProps,i!==l&&Es(s),ve(s),gm(s,f,i,l,a)),null;case 27:if(At(s),a=Mt.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ve(s),null}i=ft.current,io(s)?xv(s):(i=sT(f,l,a),s.stateNode=i,Es(s))}return ve(s),null;case 5:if(At(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==l&&Es(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ve(s),null}if(d=ft.current,io(s))xv(s);else{var _=yh(Mt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Le]=s,d[tn]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(hn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Es(s)}}return ve(s),gm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==l&&Es(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(i=Mt.current,io(s)){if(i=s.stateNode,a=s.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Le]=s,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y0(i.nodeValue,a)),i||Xs(s,!0)}else i=yh(i).createTextNode(l),i[Le]=s,s.stateNode=i}return ve(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(l=io(s),a!==null){if(i===null){if(!l)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Le]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ve(s),i=!1}else a=Rd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ve(s),null;case 13:if(l=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=io(s),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Le]=s}else oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ve(s),f=!1}else f=Rd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),nh(s,s.updateQueue),ve(s),null);case 4:return at(),i===null&&Um(s.stateNode.containerInfo),ve(s),null;case 10:return ys(s.type),ve(s),null;case 19:if(J(Ve),l=s.memoizedState,l===null)return ve(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)Hl(l,!1);else{if(Re!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=qc(i),d!==null){for(s.flags|=128,Hl(l,!1),i=d.updateQueue,s.updateQueue=i,nh(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)wv(a,i),a=a.sibling;return ut(Ve,Ve.current&1|2),Xt&&ps(s,l.treeForkCount),s.child}i=i.sibling}l.tail!==null&&Ut()>oh&&(s.flags|=128,f=!0,Hl(l,!1),s.lanes=4194304)}else{if(!f)if(i=qc(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,nh(s,i),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Xt)return ve(s),null}else 2*Ut()-l.renderingStartTime>oh&&a!==536870912&&(s.flags|=128,f=!0,Hl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(i=l.last,i!==null?i.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=Ut(),i.sibling=null,a=Ve.current,ut(Ve,f?a&1|2:a&1),Xt&&ps(s,l.treeForkCount),i):(ve(s),null);case 22:case 23:return Bn(s),zd(),l=s.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ve(s),s.subtreeFlags&6&&(s.flags|=8192)):ve(s),a=s.updateQueue,a!==null&&nh(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),i!==null&&J(ca),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ys(je),ve(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function bC(i,s){switch(bd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ys(je),at(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return At(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(r(340));oa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Bn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));oa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return J(Ve),null;case 4:return at(),null;case 10:return ys(s.type),null;case 22:case 23:return Bn(s),zd(),i!==null&&J(ca),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ys(je),null;case 25:return null;default:return null}}function Z_(i,s){switch(bd(s),s.tag){case 3:ys(je),at();break;case 26:case 27:case 5:At(s);break;case 4:at();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:J(Ve);break;case 10:ys(s.type);break;case 22:case 23:Bn(s),zd(),i!==null&&J(ca);break;case 24:ys(je)}}function Gl(i,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){oe(s,s.return,A)}}function nr(i,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&i)===i){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var x=a,B=A;try{B()}catch($){oe(f,x,$)}}}l=l.next}while(l!==d)}}catch($){oe(s,s.return,$)}}function J_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{qv(s,a)}catch(l){oe(i,i.return,l)}}}function t0(i,s,a){a.props=pa(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){oe(i,s,l)}}function Kl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){oe(i,s,f)}}function $i(i,s){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){oe(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){oe(i,s,f)}else a.current=null}function e0(i){var s=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){oe(i,i.return,f)}}function ym(i,s,a){try{var l=i.stateNode;KC(l,i.type,a,s),l[tn]=s}catch(f){oe(i,i.return,f)}}function n0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function vm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||n0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _m(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=mi));else if(l!==4&&(l===27&&ur(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(_m(i,s,a),i=i.sibling;i!==null;)_m(i,s,a),i=i.sibling}function ih(i,s,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(l!==4&&(l===27&&ur(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ih(i,s,a),i=i.sibling;i!==null;)ih(i,s,a),i=i.sibling}function i0(i){var s=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);hn(s,l,a),s[Le]=i,s[tn]=a}catch(d){oe(i,i.return,d)}}var Ss=!1,qe=!1,Tm=!1,s0=typeof WeakSet=="function"?WeakSet:Set,nn=null;function wC(i,s){if(i=i.containerInfo,Bm=bh,i=gv(i),dd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,x=-1,B=0,$=0,tt=i,q=null;e:for(;;){for(var K;tt!==a||f!==0&&tt.nodeType!==3||(A=_+f),tt!==d||l!==0&&tt.nodeType!==3||(x=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(K=tt.firstChild)!==null;)q=tt,tt=K;for(;;){if(tt===i)break e;if(q===a&&++B===f&&(A=_),q===d&&++$===l&&(x=_),(K=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=K}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fm={focusedElem:i,selectionRange:a},bh=!1,nn=s;nn!==null;)if(s=nn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,nn=i;else for(;nn!==null;){switch(s=nn,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=pa(a.type,f);i=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=i}catch(Et){oe(a,a.return,Et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Gm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,nn=i;break}nn=s.return}}function r0(i,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bs(i,a),l&4&&Gl(5,a);break;case 1:if(bs(i,a),l&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){oe(a,a.return,_)}else{var f=pa(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){oe(a,a.return,_)}}l&64&&J_(a),l&512&&Kl(a,a.return);break;case 3:if(bs(i,a),l&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{qv(i,s)}catch(_){oe(a,a.return,_)}}break;case 27:s===null&&l&4&&i0(a);case 26:case 5:bs(i,a),s===null&&l&4&&e0(a),l&512&&Kl(a,a.return);break;case 12:bs(i,a);break;case 31:bs(i,a),l&4&&l0(i,a);break;case 13:bs(i,a),l&4&&u0(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=OC.bind(null,a),t2(i,a))));break;case 22:if(l=a.memoizedState!==null||Ss,!l){s=s!==null&&s.memoizedState!==null||qe,f=Ss;var d=qe;Ss=l,(qe=s)&&!d?ws(i,a,(a.subtreeFlags&8772)!==0):bs(i,a),Ss=f,qe=d}break;case 30:break;default:bs(i,a)}}function a0(i){var s=i.alternate;s!==null&&(i.alternate=null,a0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ja(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Se=null,Dn=!1;function As(i,s,a){for(a=a.child;a!==null;)o0(i,s,a),a=a.sibling}function o0(i,s,a){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(ci,a)}catch{}switch(a.tag){case 26:qe||$i(a,s),As(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||$i(a,s);var l=Se,f=Dn;ur(a.type)&&(Se=a.stateNode,Dn=!1),As(i,s,a),eu(a.stateNode),Se=l,Dn=f;break;case 5:qe||$i(a,s);case 6:if(l=Se,f=Dn,Se=null,As(i,s,a),Se=l,Dn=f,Se!==null)if(Dn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(a.stateNode)}catch(d){oe(a,s,d)}else try{Se.removeChild(a.stateNode)}catch(d){oe(a,s,d)}break;case 18:Se!==null&&(Dn?(i=Se,J0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),wo(i)):J0(Se,a.stateNode));break;case 4:l=Se,f=Dn,Se=a.stateNode.containerInfo,Dn=!0,As(i,s,a),Se=l,Dn=f;break;case 0:case 11:case 14:case 15:nr(2,a,s),qe||nr(4,a,s),As(i,s,a);break;case 1:qe||($i(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t0(a,s,l)),As(i,s,a);break;case 21:As(i,s,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,As(i,s,a),qe=l;break;default:As(i,s,a)}}function l0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{wo(i)}catch(a){oe(s,s.return,a)}}}function u0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wo(i)}catch(a){oe(s,s.return,a)}}function RC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new s0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new s0),s;default:throw Error(r(435,i.tag))}}function sh(i,s){var a=RC(i);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=PC.bind(null,i,l);l.then(f,f)}})}function xn(i,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=i,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(ur(A.type)){Se=A.stateNode,Dn=!1;break t}break;case 5:Se=A.stateNode,Dn=!1;break t;case 3:case 4:Se=A.stateNode.containerInfo,Dn=!0;break t}A=A.return}if(Se===null)throw Error(r(160));o0(d,_,f),Se=null,Dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)c0(s,i),s=s.sibling}var Ti=null;function c0(i,s){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:xn(s,i),Vn(i),l&4&&(nr(3,i,i.return),Gl(3,i),nr(5,i,i.return));break;case 1:xn(s,i),Vn(i),l&512&&(qe||a===null||$i(a,a.return)),l&64&&Ss&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ti;if(xn(s,i),Vn(i),l&512&&(qe||a===null||$i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ki]||d[Le]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),hn(d,l,a),d[Le]=i,Ue(d),l=d;break t;case"link":var _=cT("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),hn(d,l,a),f.head.appendChild(d);break;case"meta":if(_=cT("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),hn(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Le]=i,Ue(d),l=d}i.stateNode=l}else hT(f,i.type,i.stateNode);else i.stateNode=uT(f,l,i.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hT(f,i.type,i.stateNode):uT(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&ym(i,i.memoizedProps,a.memoizedProps)}break;case 27:xn(s,i),Vn(i),l&512&&(qe||a===null||$i(a,a.return)),a!==null&&l&4&&ym(i,i.memoizedProps,a.memoizedProps);break;case 5:if(xn(s,i),Vn(i),l&512&&(qe||a===null||$i(a,a.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch(pt){oe(i,i.return,pt)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,ym(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Tm=!0);break;case 6:if(xn(s,i),Vn(i),l&4){if(i.stateNode===null)throw Error(r(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(pt){oe(i,i.return,pt)}}break;case 3:if(Th=null,f=Ti,Ti=vh(s.containerInfo),xn(s,i),Ti=f,Vn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(s.containerInfo)}catch(pt){oe(i,i.return,pt)}Tm&&(Tm=!1,h0(i));break;case 4:l=Ti,Ti=vh(i.stateNode.containerInfo),xn(s,i),Vn(i),Ti=l;break;case 12:xn(s,i),Vn(i);break;case 31:xn(s,i),Vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sh(i,l)));break;case 13:xn(s,i),Vn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ah=Ut()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sh(i,l)));break;case 22:f=i.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,B=Ss,$=qe;if(Ss=B||f,qe=$||x,xn(s,i),qe=$,Ss=B,Vn(i),l&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||x||Ss||qe||ga(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){x=a=s;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=x.stateNode;var tt=x.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pt){oe(x,x.return,pt)}}}else if(s.tag===6){if(a===null){x=s;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(pt){oe(x,x.return,pt)}}}else if(s.tag===18){if(a===null){x=s;try{var K=x.stateNode;f?tT(K,!0):tT(x.stateNode,!1)}catch(pt){oe(x,x.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sh(i,a))));break;case 19:xn(s,i),Vn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,sh(i,l)));break;case 30:break;case 21:break;default:xn(s,i),Vn(i)}}function Vn(i){var s=i.flags;if(s&2){try{for(var a,l=i.return;l!==null;){if(n0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=vm(i);ih(i,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(In(_,""),a.flags&=-33);var A=vm(i);ih(i,A,_);break;case 3:case 4:var x=a.stateNode.containerInfo,B=vm(i);_m(i,B,x);break;default:throw Error(r(161))}}catch($){oe(i,i.return,$)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function h0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;h0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function bs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r0(i,s.alternate,s),s=s.sibling}function ga(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:nr(4,s,s.return),ga(s);break;case 1:$i(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&t0(s,s.return,a),ga(s);break;case 27:eu(s.stateNode);case 26:case 5:$i(s,s.return),ga(s);break;case 22:s.memoizedState===null&&ga(s);break;case 30:ga(s);break;default:ga(s)}i=i.sibling}}function ws(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=i,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:ws(f,d,a),Gl(4,d);break;case 1:if(ws(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){oe(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Fv(x[f],A)}catch(B){oe(l,l.return,B)}}a&&_&64&&J_(d),Kl(d,d.return);break;case 27:i0(d);case 26:case 5:ws(f,d,a),a&&l===null&&_&4&&e0(d),Kl(d,d.return);break;case 12:ws(f,d,a);break;case 31:ws(f,d,a),a&&_&4&&l0(f,d);break;case 13:ws(f,d,a),a&&_&4&&u0(f,d);break;case 22:d.memoizedState===null&&ws(f,d,a),Kl(d,d.return);break;case 30:break;default:ws(f,d,a)}s=s.sibling}}function Em(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ml(a))}function Sm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ml(i))}function Ei(i,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f0(i,s,a,l),s=s.sibling}function f0(i,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(i,s,a,l),f&2048&&Gl(9,s);break;case 1:Ei(i,s,a,l);break;case 3:Ei(i,s,a,l),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ml(i)));break;case 12:if(f&2048){Ei(i,s,a,l),i=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){oe(s,s.return,x)}}else Ei(i,s,a,l);break;case 31:Ei(i,s,a,l);break;case 13:Ei(i,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?Ei(i,s,a,l):Yl(i,s):d._visibility&2?Ei(i,s,a,l):(d._visibility|=2,mo(i,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Em(_,s);break;case 24:Ei(i,s,a,l),f&2048&&Sm(s.alternate,s);break;default:Ei(i,s,a,l)}}function mo(i,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,_=s,A=a,x=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:mo(d,_,A,x,f),Gl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?mo(d,_,A,x,f):Yl(d,_):($._visibility|=2,mo(d,_,A,x,f)),f&&B&2048&&Em(_.alternate,_);break;case 24:mo(d,_,A,x,f),f&&B&2048&&Sm(_.alternate,_);break;default:mo(d,_,A,x,f)}s=s.sibling}}function Yl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,l=s,f=l.flags;switch(l.tag){case 22:Yl(a,l),f&2048&&Em(l.alternate,l);break;case 24:Yl(a,l),f&2048&&Sm(l.alternate,l);break;default:Yl(a,l)}s=s.sibling}}var Ql=8192;function po(i,s,a){if(i.subtreeFlags&Ql)for(i=i.child;i!==null;)d0(i,s,a),i=i.sibling}function d0(i,s,a){switch(i.tag){case 26:po(i,s,a),i.flags&Ql&&i.memoizedState!==null&&f2(a,Ti,i.memoizedState,i.memoizedProps);break;case 5:po(i,s,a);break;case 3:case 4:var l=Ti;Ti=vh(i.stateNode.containerInfo),po(i,s,a),Ti=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,po(i,s,a),Ql=l):po(i,s,a));break;default:po(i,s,a)}}function m0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Xl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];nn=l,g0(l,i)}m0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p0(i),i=i.sibling}function p0(i){switch(i.tag){case 0:case 11:case 15:Xl(i),i.flags&2048&&nr(9,i,i.return);break;case 3:Xl(i);break;case 12:Xl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rh(i)):Xl(i);break;default:Xl(i)}}function rh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];nn=l,g0(l,i)}m0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:nr(8,s,s.return),rh(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,rh(s));break;default:rh(s)}i=i.sibling}}function g0(i,s){for(;nn!==null;){var a=nn;switch(a.tag){case 0:case 11:case 15:nr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,nn=l;else t:for(a=i;nn!==null;){l=nn;var f=l.sibling,d=l.return;if(a0(l),l===a){nn=null;break t}if(f!==null){f.return=d,nn=f;break t}nn=d}}}var CC={getCacheForType:function(i){var s=un(je),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return un(je).controller.signal}},IC=typeof WeakMap=="function"?WeakMap:Map,ne=0,de=null,jt=null,qt=0,ae=0,Fn=null,ir=!1,go=!1,Am=!1,Rs=0,Re=0,sr=0,ya=0,bm=0,qn=0,yo=0,$l=null,Mn=null,wm=!1,ah=0,y0=0,oh=1/0,lh=null,rr=null,$e=0,ar=null,vo=null,Cs=0,Rm=0,Cm=null,v0=null,Wl=0,Im=null;function Hn(){return(ne&2)!==0&&qt!==0?qt&-qt:X.T!==null?Om():uc()}function _0(){if(qn===0)if((qt&536870912)===0||Xt){var i=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),qn=i}else qn=536870912;return i=jn.current,i!==null&&(i.flags|=32),qn}function Nn(i,s,a){(i===de&&(ae===2||ae===9)||i.cancelPendingCommit!==null)&&(_o(i,0),or(i,qt,qn,!1)),Gr(i,a),((ne&2)===0||i!==de)&&(i===de&&((ne&2)===0&&(ya|=a),Re===4&&or(i,qt,qn,!1)),Wi(i))}function T0(i,s,a){if((ne&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&i.expiredLanes)===0||hi(i,s),f=l?VC(i,s):xm(i,s,!0),d=l;do{if(f===0){go&&!l&&or(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!DC(a)){f=xm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=i;f=$l;var x=A.current.memoizedState.isDehydrated;if(x&&(_o(A,_).flags|=256),_=xm(A,_,!1),_!==2){if(Am&&!x){A.errorRecoveryDisabledLanes|=d,ya|=d,f=4;break t}d=Mn,Mn=f,d!==null&&(Mn===null?Mn=d:Mn.push.apply(Mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){_o(i,0),or(i,s,0,!0);break}t:{switch(l=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:or(l,s,qn,!ir);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=ah+300-Ut(),10<f)){if(or(l,s,qn,!ir),Ni(l,0,!0)!==0)break t;Cs=s,l.timeoutHandle=W0(E0.bind(null,l,a,Mn,lh,wm,s,qn,ya,yo,ir,d,"Throttled",-0,0),f);break t}E0(l,a,Mn,lh,wm,s,qn,ya,yo,ir,d,null,-0,0)}}break}while(!0);Wi(i)}function E0(i,s,a,l,f,d,_,A,x,B,$,tt,q,K){if(i.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},d0(s,d,tt);var pt=(d&62914560)===d?ah-Ut():(d&4194048)===d?y0-Ut():0;if(pt=d2(tt,pt),pt!==null){Cs=d,i.cancelPendingCommit=pt(D0.bind(null,i,s,d,a,l,f,_,A,x,$,tt,null,q,K)),or(i,d,_,!B);return}}D0(i,s,d,a,l,f,_,A,x)}function DC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Un(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function or(i,s,a,l){s&=~bm,s&=~ya,i.suspendedLanes|=s,i.pingedLanes&=~s,l&&(i.warmLanes|=s),l=i.expirationTimes;for(var f=s;0<f;){var d=31-De(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Kr(i,a,s)}function uh(){return(ne&6)===0?(Zl(0),!1):!0}function Dm(){if(jt!==null){if(ae===0)var i=jt.return;else i=jt,gs=la=null,Gd(i),lo=null,Ol=0,i=jt;for(;i!==null;)Z_(i.alternate,i),i=i.return;jt=null}}function _o(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,XC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Cs=0,Dm(),de=i,jt=a=ms(i.current,null),qt=s,ae=0,Fn=null,ir=!1,go=hi(i,s),Am=!1,yo=qn=bm=ya=sr=Re=0,Mn=$l=null,wm=!1,(s&8)!==0&&(s|=s&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=s;0<l;){var f=31-De(l),d=1<<f;s|=i[f],l&=~d}return Rs=s,xc(),a}function S0(i,s){Ot=null,X.H=Fl,s===oo||s===Uc?(s=Uv(),ae=3):s===Nd?(s=Uv(),ae=4):ae=s===om?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,jt===null&&(Re=1,Zc(i,Zn(s,i.current)))}function A0(){var i=jn.current;return i===null?!0:(qt&4194048)===qt?ni===null:(qt&62914560)===qt||(qt&536870912)!==0?i===ni:!1}function b0(){var i=X.H;return X.H=Fl,i===null?Fl:i}function w0(){var i=X.A;return X.A=CC,i}function ch(){Re=4,ir||(qt&4194048)!==qt&&jn.current!==null||(go=!0),(sr&134217727)===0&&(ya&134217727)===0||de===null||or(de,qt,qn,!1)}function xm(i,s,a){var l=ne;ne|=2;var f=b0(),d=w0();(de!==i||qt!==s)&&(lh=null,_o(i,s)),s=!1;var _=Re;t:do try{if(ae!==0&&jt!==null){var A=jt,x=Fn;switch(ae){case 8:Dm(),_=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var B=ae;if(ae=0,Fn=null,To(i,A,x,B),a&&go){_=0;break t}break;default:B=ae,ae=0,Fn=null,To(i,A,x,B)}}xC(),_=Re;break}catch($){S0(i,$)}while(!0);return s&&i.shellSuspendCounter++,gs=la=null,ne=l,X.H=f,X.A=d,jt===null&&(de=null,qt=0,xc()),_}function xC(){for(;jt!==null;)R0(jt)}function VC(i,s){var a=ne;ne|=2;var l=b0(),f=w0();de!==i||qt!==s?(lh=null,oh=Ut()+500,_o(i,s)):go=hi(i,s);t:do try{if(ae!==0&&jt!==null){s=jt;var d=Fn;e:switch(ae){case 1:ae=0,Fn=null,To(i,s,d,1);break;case 2:case 9:if(kv(d)){ae=0,Fn=null,C0(s);break}s=function(){ae!==2&&ae!==9||de!==i||(ae=7),Wi(i)},d.then(s,s);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:kv(d)?(ae=0,Fn=null,C0(s)):(ae=0,Fn=null,To(i,s,d,7));break;case 5:var _=null;switch(jt.tag){case 26:_=jt.memoizedState;case 5:case 27:var A=jt;if(_?fT(_):A.stateNode.complete){ae=0,Fn=null;var x=A.sibling;if(x!==null)jt=x;else{var B=A.return;B!==null?(jt=B,hh(B)):jt=null}break e}}ae=0,Fn=null,To(i,s,d,5);break;case 6:ae=0,Fn=null,To(i,s,d,6);break;case 8:Dm(),Re=6;break t;default:throw Error(r(462))}}MC();break}catch($){S0(i,$)}while(!0);return gs=la=null,X.H=l,X.A=f,ne=a,jt!==null?0:(de=null,qt=0,xc(),Re)}function MC(){for(;jt!==null&&!Xe();)R0(jt)}function R0(i){var s=$_(i.alternate,i,Rs);i.memoizedProps=i.pendingProps,s===null?hh(i):jt=s}function C0(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=H_(a,s,s.pendingProps,s.type,void 0,qt);break;case 11:s=H_(a,s,s.pendingProps,s.type.render,s.ref,qt);break;case 5:Gd(s);default:Z_(a,s),s=jt=wv(s,Rs),s=$_(a,s,Rs)}i.memoizedProps=i.pendingProps,s===null?hh(i):jt=s}function To(i,s,a,l){gs=la=null,Gd(s),lo=null,Ol=0;var f=s.return;try{if(TC(i,f,s,a,qt)){Re=1,Zc(i,Zn(a,i.current)),jt=null;return}}catch(d){if(f!==null)throw jt=f,d;Re=1,Zc(i,Zn(a,i.current)),jt=null;return}s.flags&32768?(Xt||l===1?i=!0:go||(qt&536870912)!==0?i=!1:(ir=i=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I0(s,i)):hh(s)}function hh(i){var s=i;do{if((s.flags&32768)!==0){I0(s,ir);return}i=s.return;var a=AC(s.alternate,s,Rs);if(a!==null){jt=a;return}if(s=s.sibling,s!==null){jt=s;return}jt=s=i}while(s!==null);Re===0&&(Re=5)}function I0(i,s){do{var a=bC(i.alternate,i);if(a!==null){a.flags&=32767,jt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){jt=i;return}jt=i=a}while(i!==null);Re=6,jt=null}function D0(i,s,a,l,f,d,_,A,x){i.cancelPendingCommit=null;do fh();while($e!==0);if((ne&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=vd,ud(i,a,d,_,A,x),i===de&&(jt=de=null,qt=0),vo=s,ar=i,Cs=a,Rm=d,Cm=f,v0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,kC(Di,function(){return O0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ot.p,ot.p=2,_=ne,ne|=4;try{wC(i,s,a)}finally{ne=_,ot.p=f,X.T=l}}$e=1,x0(),V0(),M0()}}function x0(){if($e===1){$e=0;var i=ar,s=vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ot.p;ot.p=2;var f=ne;ne|=4;try{c0(s,i);var d=Fm,_=gv(i.containerInfo),A=d.focusedElem,x=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&pv(A.ownerDocument.documentElement,A)){if(x!==null&&dd(A)){var B=x.start,$=x.end;if($===void 0&&($=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min($,A.value.length);else{var tt=A.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var K=q.getSelection(),pt=A.textContent.length,Et=Math.min(x.start,pt),he=x.end===void 0?Et:Math.min(x.end,pt);!K.extend&&Et>he&&(_=he,he=Et,Et=_);var L=mv(A,Et),O=mv(A,he);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var j=tt.createRange();j.setStart(L.node,L.offset),K.removeAllRanges(),Et>he?(K.addRange(j),K.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),K.addRange(j))}}}}for(tt=[],K=A;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var Z=tt[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}bh=!!Bm,Fm=Bm=null}finally{ne=f,ot.p=l,X.T=a}}i.current=s,$e=2}}function V0(){if($e===2){$e=0;var i=ar,s=vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ot.p;ot.p=2;var f=ne;ne|=4;try{r0(i,s.alternate,s)}finally{ne=f,ot.p=l,X.T=a}}$e=3}}function M0(){if($e===4||$e===3){$e=0,$t();var i=ar,s=vo,a=Cs,l=v0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$e=5:($e=0,vo=ar=null,N0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(rr=null),cs(a),s=s.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(ci,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=X.T,f=ot.p,ot.p=2,X.T=null;try{for(var d=i.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{X.T=s,ot.p=f}}(Cs&3)!==0&&fh(),Wi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Im?Wl++:(Wl=0,Im=i):Wl=0,Zl(0)}}function N0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ml(s)))}function fh(){return x0(),V0(),M0(),O0()}function O0(){if($e!==5)return!1;var i=ar,s=Rm;Rm=0;var a=cs(Cs),l=X.T,f=ot.p;try{ot.p=32>a?32:a,X.T=null,a=Cm,Cm=null;var d=ar,_=Cs;if($e=0,vo=ar=null,Cs=0,(ne&6)!==0)throw Error(r(331));var A=ne;if(ne|=4,p0(d.current),f0(d,d.current,_,a),ne=A,Zl(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(ci,d)}catch{}return!0}finally{ot.p=f,X.T=l,N0(i,s)}}function P0(i,s,a){s=Zn(a,s),s=am(i.stateNode,s,2),i=Js(i,s,2),i!==null&&(Gr(i,2),Wi(i))}function oe(i,s,a){if(i.tag===3)P0(i,i,a);else for(;s!==null;){if(s.tag===3){P0(s,i,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){i=Zn(a,i),a=k_(2),l=Js(s,a,2),l!==null&&(L_(a,l,s,i),Gr(l,2),Wi(l));break}}s=s.return}}function Vm(i,s,a){var l=i.pingCache;if(l===null){l=i.pingCache=new IC;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Am=!0,f.add(a),i=NC.bind(null,i,s,a),s.then(i,i))}function NC(i,s,a){var l=i.pingCache;l!==null&&l.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,de===i&&(qt&a)===a&&(Re===4||Re===3&&(qt&62914560)===qt&&300>Ut()-ah?(ne&2)===0&&_o(i,0):bm|=a,yo===qt&&(yo=0)),Wi(i)}function k0(i,s){s===0&&(s=lc()),i=ra(i,s),i!==null&&(Gr(i,s),Wi(i))}function OC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),k0(i,a)}function PC(i,s){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),k0(i,a)}function kC(i,s){return Ct(i,s)}var dh=null,Eo=null,Mm=!1,mh=!1,Nm=!1,lr=0;function Wi(i){i!==Eo&&i.next===null&&(Eo===null?dh=Eo=i:Eo=Eo.next=i),mh=!0,Mm||(Mm=!0,UC())}function Zl(i,s){if(!Nm&&mh){Nm=!0;do for(var a=!1,l=dh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-De(42|i)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j0(l,d))}else d=qt,d=Ni(l,l===de?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hi(l,d)||(a=!0,j0(l,d));l=l.next}while(a);Nm=!1}}function LC(){L0()}function L0(){mh=Mm=!1;var i=0;lr!==0&&QC()&&(i=lr);for(var s=Ut(),a=null,l=dh;l!==null;){var f=l.next,d=U0(l,s);d===0?(l.next=null,a===null?dh=f:a.next=f,f===null&&(Eo=a)):(a=l,(i!==0||(d&3)!==0)&&(mh=!0)),l=f}$e!==0&&$e!==5||Zl(i),lr!==0&&(lr=0)}function U0(i,s){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var _=31-De(d),A=1<<_,x=f[_];x===-1?((A&a)===0||(A&l)!==0)&&(f[_]=ld(A,s)):x<=s&&(i.expiredLanes|=A),d&=~A}if(s=de,a=qt,a=Ni(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===s&&(ae===2||ae===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Je(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||hi(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(l!==null&&Je(l),cs(a)){case 2:case 8:a=qr;break;case 32:a=Di;break;case 268435456:a=ka;break;default:a=Di}return l=z0.bind(null,i),a=Ct(a,l),i.callbackPriority=s,i.callbackNode=a,s}return l!==null&&l!==null&&Je(l),i.callbackPriority=2,i.callbackNode=null,2}function z0(i,s){if($e!==0&&$e!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(fh()&&i.callbackNode!==a)return null;var l=qt;return l=Ni(i,i===de?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(T0(i,l,s),U0(i,Ut()),i.callbackNode!=null&&i.callbackNode===a?z0.bind(null,i):null)}function j0(i,s){if(fh())return null;T0(i,s,!0)}function UC(){$C(function(){(ne&6)!==0?Ct(ui,LC):L0()})}function Om(){if(lr===0){var i=ro;i===0&&(i=Vi,Vi<<=1,(Vi&261888)===0&&(Vi=256)),lr=i}return lr}function B0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ha(""+i)}function F0(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function zC(i,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=B0((f[tn]||null).action),_=l.submitter;_&&(s=(s=_[tn]||null)?B0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new Hi("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var x=_?F0(f,_):new FormData(f);tm(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(A.preventDefault(),x=_?F0(f,_):new FormData(f),tm(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var Pm=0;Pm<yd.length;Pm++){var km=yd[Pm],jC=km.toLowerCase(),BC=km[0].toUpperCase()+km.slice(1);_i(jC,"on"+BC)}_i(_v,"onAnimationEnd"),_i(Tv,"onAnimationIteration"),_i(Ev,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(iC,"onTransitionRun"),_i(sC,"onTransitionStart"),_i(rC,"onTransitionCancel"),_i(Sv,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function q0(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],x=A.instance,B=A.currentTarget;if(A=A.listener,x!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=B;try{d(f)}catch($){Dc($)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(A=l[_],x=A.instance,B=A.currentTarget,A=A.listener,x!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=B;try{d(f)}catch($){Dc($)}f.currentTarget=null,d=x}}}}function Bt(i,s){var a=s[za];a===void 0&&(a=s[za]=new Set);var l=i+"__bubble";a.has(l)||(H0(s,i,2,!1),a.add(l))}function Lm(i,s,a){var l=0;s&&(l|=4),H0(a,i,l,s)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Um(i){if(!i[ph]){i[ph]=!0,hl.forEach(function(a){a!=="selectionchange"&&(FC.has(a)||Lm(a,!1,i),Lm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ph]||(s[ph]=!0,Lm("selectionchange",!1,s))}}function H0(i,s,a,l){switch(_T(s)){case 2:var f=g2;break;case 8:f=y2;break;default:f=Jm}a=f.bind(null,s,a,i),f=void 0,!Wr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function zm(i,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Li(A),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue t}A=A.parentNode}}l=l.return}qs(function(){var B=d,$=Qn(a),tt=[];t:{var q=Av.get(i);if(q!==void 0){var K=Hi,pt=i;switch(i){case"keypress":if(Jr(a)===0)break t;case"keydown":case"keyup":K=Rc;break;case"focusin":pt="focus",K=ea;break;case"focusout":pt="blur",K=ea;break;case"beforeblur":case"afterblur":K=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case _v:case Tv:case Ev:K=_c;break;case Sv:K=b;break;case"scroll":case"scrollend":K=Al;break;case"wheel":K=H;break;case"copy":case"cut":case"paste":K=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ds;break;case"toggle":case"beforetoggle":K=Nt}var Et=(s&4)!==0,he=!Et&&(i==="scroll"||i==="scrollend"),L=Et?q!==null?q+"Capture":null:q;Et=[];for(var O=B,j;O!==null;){var Z=O;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||L===null||(Z=pi(O,L),Z!=null&&Et.push(tu(O,Z,j))),he)break;O=O.return}0<Et.length&&(q=new K(q,pt,null,a,$),tt.push({event:q,listeners:Et}))}}if((s&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",q&&a!==Tl&&(pt=a.relatedTarget||a.fromElement)&&(Li(pt)||pt[Pi]))break t;if((K||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,K?(pt=a.relatedTarget||a.toElement,K=B,pt=pt?Li(pt):null,pt!==null&&(he=u(pt),Et=pt.tag,pt!==he||Et!==5&&Et!==27&&Et!==6)&&(pt=null)):(K=null,pt=B),K!==pt)){if(Et=bl,Z="onMouseLeave",L="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(Et=ds,Z="onPointerLeave",L="onPointerEnter",O="pointer"),he=K==null?q:kn(K),j=pt==null?q:kn(pt),q=new Et(Z,O+"leave",K,a,$),q.target=he,q.relatedTarget=j,Z=null,Li($)===B&&(Et=new Et(L,O+"enter",pt,a,$),Et.target=j,Et.relatedTarget=he,Z=Et),he=Z,K&&pt)e:{for(Et=qC,L=K,O=pt,j=0,Z=L;Z;Z=Et(Z))j++;Z=0;for(var vt=O;vt;vt=Et(vt))Z++;for(;0<j-Z;)L=Et(L),j--;for(;0<Z-j;)O=Et(O),Z--;for(;j--;){if(L===O||O!==null&&L===O.alternate){Et=L;break e}L=Et(L),O=Et(O)}Et=null}else Et=null;K!==null&&G0(tt,q,K,Et,!1),pt!==null&&he!==null&&G0(tt,he,pt,Et,!0)}}t:{if(q=B?kn(B):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var Jt=lv;else if(av(q))if(uv)Jt=tC;else{Jt=ZR;var yt=WR}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&qa(B.elementType)&&(Jt=lv):Jt=JR;if(Jt&&(Jt=Jt(i,B))){ov(tt,Jt,a,$);break t}yt&&yt(i,q,B),i==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&yl(q,"number",q.value)}switch(yt=B?kn(B):window,i){case"focusin":(av(yt)||yt.contentEditable==="true")&&(Wa=yt,md=B,Dl=null);break;case"focusout":Dl=md=Wa=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,yv(tt,a,$);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":yv(tt,a,$)}var Pt;if(ee)t:{switch(i){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else $a?na(i,a)&&(Ht="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ht="onCompositionStart");Ht&&(Yi&&a.locale!=="ko"&&($a||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&$a&&(Pt=Sl()):(qi=$,El="value"in qi?qi.value:qi.textContent,$a=!0)),yt=gh(B,Ht),0<yt.length&&(Ht=new Ki(Ht,i,null,a,$),tt.push({event:Ht,listeners:yt}),Pt?Ht.data=Pt:(Pt=Xa(a),Pt!==null&&(Ht.data=Pt)))),(Pt=$n?YR(i,a):QR(i,a))&&(Ht=gh(B,"onBeforeInput"),0<Ht.length&&(yt=new Ki("onBeforeInput","beforeinput",null,a,$),tt.push({event:yt,listeners:Ht}),yt.data=Pt)),zC(tt,i,B,a,$)}q0(tt,s)})}function tu(i,s,a){return{instance:i,listener:s,currentTarget:a}}function gh(i,s){for(var a=s+"Capture",l=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=pi(i,a),f!=null&&l.unshift(tu(i,f,d)),f=pi(i,s),f!=null&&l.push(tu(i,f,d))),i.tag===3)return l;i=i.return}return[]}function qC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function G0(i,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,x=A.alternate,B=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||B===null||(x=B,f?(B=pi(a,d),B!=null&&_.unshift(tu(a,B,x))):f||(B=pi(a,d),B!=null&&_.push(tu(a,B,x)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var HC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function K0(i){return(typeof i=="string"?i:""+i).replace(HC,`
`).replace(GC,"")}function Y0(i,s){return s=K0(s),K0(i)===s}function ce(i,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||In(i,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&In(i,""+l);break;case"className":Ln(i,"class",l);break;case"tabIndex":Ln(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(i,a,l);break;case"style":_l(i,l,d);break;case"data":if(s!=="object"){Ln(i,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ha(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&ce(i,s,"name",f.name,f,null),ce(i,s,"formEncType",f.formEncType,f,null),ce(i,s,"formMethod",f.formMethod,f,null),ce(i,s,"formTarget",f.formTarget,f,null)):(ce(i,s,"encType",f.encType,f,null),ce(i,s,"method",f.method,f,null),ce(i,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ha(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=mi);break;case"onScroll":l!=null&&Bt("scroll",i);break;case"onScrollEnd":l!=null&&Bt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ha(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Bt("beforetoggle",i),Bt("toggle",i),Ba(i,"popover",l);break;case"xlinkActuate":ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gc.get(a)||a,Ba(i,a,l))}}function jm(i,s,a,l,f,d){switch(a){case"style":_l(i,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof l=="string"?In(i,l):(typeof l=="number"||typeof l=="bigint")&&In(i,""+l);break;case"onScroll":l!=null&&Bt("scroll",i);break;case"onScrollEnd":l!=null&&Bt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[tn]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Ba(i,a,l)}}}function hn(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",i),Bt("load",i);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ce(i,s,d,_,a,null)}}f&&ce(i,s,"srcSet",a.srcSet,a,null),l&&ce(i,s,"src",a.src,a,null);return;case"input":Bt("invalid",i);var A=d=_=f=null,x=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":x=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:ce(i,s,l,$,a,null)}}dc(i,d,A,x,B,_,f,!1);return;case"select":Bt("invalid",i),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:ce(i,s,f,A,a,null)}s=d,a=_,i.multiple=!!l,s!=null?zs(i,!!l,s,!1):a!=null&&zs(i,!!l,a,!0);return;case"textarea":Bt("invalid",i),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ce(i,s,_,A,a,null)}js(i,l,f,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":ce(i,s,x,l,a,null));return;case"dialog":Bt("beforetoggle",i),Bt("toggle",i),Bt("cancel",i),Bt("close",i);break;case"iframe":case"object":Bt("load",i);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Bt(Jl[l],i);break;case"image":Bt("error",i),Bt("load",i);break;case"details":Bt("toggle",i);break;case"embed":case"source":case"link":Bt("error",i),Bt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ce(i,s,B,l,a,null)}return;default:if(qa(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&jm(i,s,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ce(i,s,A,l,a,null))}function KC(i,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,x=null,B=null,$=null;for(K in a){var tt=a[K];if(a.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=tt;default:l.hasOwnProperty(K)||ce(i,s,K,null,l,tt)}}for(var q in l){var K=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(K!=null||tt!=null))switch(q){case"type":d=K;break;case"name":f=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==tt&&ce(i,s,q,K,l,tt)}}Fa(i,_,A,x,B,$,d,f);return;case"select":K=_=A=q=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||ce(i,s,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==x&&ce(i,s,f,d,l,x)}s=A,a=_,l=K,q!=null?zs(i,!!a,q,!1):!!l!=!!a&&(s!=null?zs(i,!!a,s,!0):zs(i,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ce(i,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ce(i,s,_,f,l,d)}mc(i,q,K);return;case"option":for(var pt in a)q=a[pt],a.hasOwnProperty(pt)&&q!=null&&!l.hasOwnProperty(pt)&&(pt==="selected"?i.selected=!1:ce(i,s,pt,null,l,q));for(x in l)q=l[x],K=a[x],l.hasOwnProperty(x)&&q!==K&&(q!=null||K!=null)&&(x==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":ce(i,s,x,q,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et)&&ce(i,s,Et,null,l,q);for(B in l)if(q=l[B],K=a[B],l.hasOwnProperty(B)&&q!==K&&(q!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:ce(i,s,B,q,l,K)}return;default:if(qa(s)){for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!==void 0&&!l.hasOwnProperty(he)&&jm(i,s,he,void 0,l,q);for($ in l)q=l[$],K=a[$],!l.hasOwnProperty($)||q===K||q===void 0&&K===void 0||jm(i,s,$,q,l,K);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&ce(i,s,L,null,l,q);for(tt in l)q=l[tt],K=a[tt],!l.hasOwnProperty(tt)||q===K||q==null&&K==null||ce(i,s,tt,q,l,K)}function Q0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&Q0(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],B=x.startTime;if(B>A)break;var $=x.transferSize,tt=x.initiatorType;$&&Q0(tt)&&(x=x.responseEnd,_+=$*(x<A?1:(A-B)/(x-B)))}if(--l,s+=8*(d+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bm=null,Fm=null;function yh(i){return i.nodeType===9?i:i.ownerDocument}function X0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function qm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hm=null;function QC(){var i=window.event;return i&&i.type==="popstate"?i===Hm?!1:(Hm=i,!0):(Hm=null,!1)}var W0=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,$C=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(i){return Z0.resolve(null).then(i).catch(WC)}:W0;function WC(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function J0(i,s){var a=s,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),wo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")eu(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,eu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[ki]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&eu(i.ownerDocument.body);a=f}while(a);wo(s)}function tT(i,s){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function Gm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gm(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function ZC(i,s,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[ki])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=ii(i.nextSibling),i===null)break}return null}function JC(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ii(i.nextSibling),i===null))return null;return i}function eT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ii(i.nextSibling),i===null))return null;return i}function Km(i){return i.data==="$?"||i.data==="$~"}function Ym(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function t2(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ii(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Qm=null;function nT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return ii(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function iT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function sT(i,s,a){switch(s=yh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function eu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ja(i)}var si=new Map,rT=new Set;function vh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Is=ot.d;ot.d={f:e2,r:n2,D:i2,C:s2,L:r2,m:a2,X:l2,S:o2,M:u2};function e2(){var i=Is.f(),s=uh();return i||s}function n2(i){var s=Yn(i);s!==null&&s.tag===5&&s.type==="form"?S_(s):Is.r(i)}var So=typeof document>"u"?null:document;function aT(i,s,a){var l=So;if(l&&typeof s=="string"&&s){var f=Cn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),rT.has(f)||(rT.add(f),i={rel:i,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),hn(s,"link",i),Ue(s),l.head.appendChild(s)))}}function i2(i){Is.D(i),aT("dns-prefetch",i,null)}function s2(i,s){Is.C(i,s),aT("preconnect",i,s)}function r2(i,s,a){Is.L(i,s,a);var l=So;if(l&&i&&s){var f='link[rel="preload"][as="'+Cn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Cn(a.imageSizes)+'"]')):f+='[href="'+Cn(i)+'"]';var d=f;switch(s){case"style":d=Ao(i);break;case"script":d=bo(i)}si.has(d)||(i=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),si.set(d,i),l.querySelector(f)!==null||s==="style"&&l.querySelector(nu(d))||s==="script"&&l.querySelector(iu(d))||(s=l.createElement("link"),hn(s,"link",i),Ue(s),l.head.appendChild(s)))}}function a2(i,s){Is.m(i,s);var a=So;if(a&&i){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(i)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=bo(i)}if(!si.has(d)&&(i=E({rel:"modulepreload",href:i},s),si.set(d,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(iu(d)))return}l=a.createElement("link"),hn(l,"link",i),Ue(l),a.head.appendChild(l)}}}function o2(i,s,a){Is.S(i,s,a);var l=So;if(l&&i){var f=Ui(l).hoistableStyles,d=Ao(i);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(nu(d)))A.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},a),(a=si.get(d))&&Xm(i,a);var x=_=l.createElement("link");Ue(x),hn(x,"link",i),x._p=new Promise(function(B,$){x.onload=B,x.onerror=$}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_h(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function l2(i,s){Is.X(i,s);var a=So;if(a&&i){var l=Ui(a).hoistableScripts,f=bo(i),d=l.get(f);d||(d=a.querySelector(iu(f)),d||(i=E({src:i,async:!0},s),(s=si.get(f))&&$m(i,s),d=a.createElement("script"),Ue(d),hn(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function u2(i,s){Is.M(i,s);var a=So;if(a&&i){var l=Ui(a).hoistableScripts,f=bo(i),d=l.get(f);d||(d=a.querySelector(iu(f)),d||(i=E({src:i,async:!0,type:"module"},s),(s=si.get(f))&&$m(i,s),d=a.createElement("script"),Ue(d),hn(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function oT(i,s,a,l){var f=(f=Mt.current)?vh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ao(a.href),a=Ui(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ao(a.href);var d=Ui(f).hoistableStyles,_=d.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,_),(d=f.querySelector(nu(i)))&&!d._p&&(_.instance=d,_.state.loading=5),si.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(i,a),d||c2(f,i,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bo(a),a=Ui(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ao(i){return'href="'+Cn(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function lT(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function c2(i,s,a,l){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hn(s,"link",a),Ue(s),i.head.appendChild(s))}function bo(i){return'[src="'+Cn(i)+'"]'}function iu(i){return"script[async]"+i}function uT(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=i.querySelector('style[data-href~="'+Cn(a.href)+'"]');if(l)return s.instance=l,Ue(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ue(l),hn(l,"style",f),_h(l,a.precedence,i),s.instance=l;case"stylesheet":f=Ao(a.href);var d=i.querySelector(nu(f));if(d)return s.state.loading|=4,s.instance=d,Ue(d),d;l=lT(a),(f=si.get(f))&&Xm(l,f),d=(i.ownerDocument||i).createElement("link"),Ue(d);var _=d;return _._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),hn(d,"link",l),s.state.loading|=4,_h(d,a.precedence,i),s.instance=d;case"script":return d=bo(a.src),(f=i.querySelector(iu(d)))?(s.instance=f,Ue(f),f):(l=a,(f=si.get(d))&&(l=E({},a),$m(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ue(f),hn(f,"link",l),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,_h(l,a.precedence,i));return s.instance}function _h(i,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Xm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function $m(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Th=null;function cT(i,s,a){if(Th===null){var l=new Map,f=Th=new Map;f.set(a,l)}else f=Th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[ki]||d[Le]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=i+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function hT(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function h2(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function fT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function f2(i,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ao(l.href),d=s.querySelector(nu(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Eh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,Ue(d);return}d=s.ownerDocument||s,l=lT(l),(f=si.get(f))&&Xm(l,f),d=d.createElement("link"),Ue(d);var _=d;_._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),hn(d,"link",l),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=Eh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Wm=0;function d2(i,s){return i.stylesheets&&i.count===0&&Ah(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Wm===0&&(Wm=62500*YC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ah(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Wm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Sh=null;function Ah(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Sh=new Map,s.forEach(m2,i),Sh=null,Eh.call(i))}function m2(i,s){if(!(s.state.loading&4)){var a=Sh.get(i);if(a)var l=a.get(null);else{a=new Map,Sh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var su={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function p2(i,s,a,l,f,d,_,A,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function dT(i,s,a,l,f,d,_,A,x,B,$,tt){return i=new p2(i,s,a,_,x,B,$,tt,A),s=1,d===!0&&(s|=24),d=zn(3,null,null,s),i.current=d,d.stateNode=i,s=xd(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Od(d),i}function mT(i){return i?(i=to,i):to}function pT(i,s,a,l,f,d){f=mT(f),l.context===null?l.context=f:l.pendingContext=f,l=Zs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Js(i,l,s),a!==null&&(Nn(a,i,s),kl(a,i,s))}function gT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Zm(i,s){gT(i,s),(i=i.alternate)&&gT(i,s)}function yT(i){if(i.tag===13||i.tag===31){var s=ra(i,67108864);s!==null&&Nn(s,i,67108864),Zm(i,67108864)}}function vT(i){if(i.tag===13||i.tag===31){var s=Hn();s=Yr(s);var a=ra(i,s);a!==null&&Nn(a,i,s),Zm(i,s)}}var bh=!0;function g2(i,s,a,l){var f=X.T;X.T=null;var d=ot.p;try{ot.p=2,Jm(i,s,a,l)}finally{ot.p=d,X.T=f}}function y2(i,s,a,l){var f=X.T;X.T=null;var d=ot.p;try{ot.p=8,Jm(i,s,a,l)}finally{ot.p=d,X.T=f}}function Jm(i,s,a,l){if(bh){var f=tp(l);if(f===null)zm(i,s,l,wh,a),TT(i,l);else if(_2(f,i,s,a,l))l.stopPropagation();else if(TT(i,l),s&4&&-1<v2.indexOf(i)){for(;f!==null;){var d=Yn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Mi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var x=1<<31-De(_);A.entanglements[1]|=x,_&=~x}Wi(d),(ne&6)===0&&(oh=Ut()+500,Zl(0))}}break;case 31:case 13:A=ra(d,2),A!==null&&Nn(A,d,2),uh(),Zm(d,2)}if(d=tp(l),d===null&&zm(i,s,l,wh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else zm(i,s,l,null,a)}}function tp(i){return i=Qn(i),ep(i)}var wh=null;function ep(i){if(wh=null,i=Li(i),i!==null){var s=u(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wh=i,null}function _T(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case ui:return 2;case qr:return 8;case Di:case ll:return 32;case ka:return 268435456;default:return 32}default:return 32}}var np=!1,cr=null,hr=null,fr=null,ru=new Map,au=new Map,dr=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TT(i,s){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function ou(i,s,a,l,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Yn(s),s!==null&&yT(s)),i):(i.eventSystemFlags|=l,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function _2(i,s,a,l,f){switch(s){case"focusin":return cr=ou(cr,i,s,a,l,f),!0;case"dragenter":return hr=ou(hr,i,s,a,l,f),!0;case"mouseover":return fr=ou(fr,i,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return ru.set(d,ou(ru.get(d)||null,i,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,au.set(d,ou(au.get(d)||null,i,s,a,l,f)),!0}return!1}function ET(i){var s=Li(i.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,fi(i.priority,function(){vT(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,fi(i.priority,function(){vT(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=tp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Tl=l,a.target.dispatchEvent(l),Tl=null}else return s=Yn(a),s!==null&&yT(s),i.blockedOn=a,!1;s.shift()}return!0}function ST(i,s,a){Rh(i)&&a.delete(s)}function T2(){np=!1,cr!==null&&Rh(cr)&&(cr=null),hr!==null&&Rh(hr)&&(hr=null),fr!==null&&Rh(fr)&&(fr=null),ru.forEach(ST),au.forEach(ST)}function Ch(i,s){i.blockedOn===s&&(i.blockedOn=null,np||(np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,T2)))}var Ih=null;function AT(i){Ih!==i&&(Ih=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ih===i&&(Ih=null);for(var s=0;s<i.length;s+=3){var a=i[s],l=i[s+1],f=i[s+2];if(typeof l!="function"){if(ep(l||a)===null)continue;break}var d=Yn(a);d!==null&&(i.splice(s,3),s-=3,tm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function wo(i){function s(x){return Ch(x,i)}cr!==null&&Ch(cr,i),hr!==null&&Ch(hr,i),fr!==null&&Ch(fr,i),ru.forEach(s),au.forEach(s);for(var a=0;a<dr.length;a++){var l=dr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)ET(a),a.blockedOn===null&&dr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[tn]||null;if(typeof d=="function")_||AT(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[tn]||null)A=_.formAction;else if(ep(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),AT(a)}}}function bT(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function ip(i){this._internalRoot=i}Dh.prototype.render=ip.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Hn();pT(a,l,i,s,null,null)},Dh.prototype.unmount=ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;pT(i.current,2,null,i,null,null),uh(),s[Pi]=null}};function Dh(i){this._internalRoot=i}Dh.prototype.unstable_scheduleHydration=function(i){if(i){var s=uc();i={blockedOn:null,target:i,priority:s};for(var a=0;a<dr.length&&s!==0&&s<dr[a].priority;a++);dr.splice(a,0,i),a===0&&ET(i)}};var wT=t.version;if(wT!=="19.2.4")throw Error(r(527,wT,"19.2.4"));ot.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var E2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{ci=xh.inject(E2),an=xh}catch{}}return uu.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,l="",f=M_,d=N_,_=O_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=dT(i,1,!1,null,null,a,l,null,f,d,_,bT),i[Pi]=s.current,Um(i),new ip(s)},uu.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var l=!1,f="",d=M_,_=N_,A=O_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),s=dT(i,1,!0,s,a??null,l,f,x,d,_,A,bT),s.context=mT(null),a=s.current,l=Hn(),l=Yr(l),f=Zs(l),f.callback=null,Js(a,f,l),a=l,s.current.lanes=a,Gr(s,a),Wi(s),i[Pi]=s.current,Um(i),new Dh(s)},uu.version="19.2.4",uu}var PT;function V2(){if(PT)return ap.exports;PT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ap.exports=x2(),ap.exports}var M2=V2();const N2=()=>{};var kT={};const NS=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},O2=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],m=n[e++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=n[e++],c=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,g=o+2<n.length,p=g?n[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,C=p&63;g||(C=64,c||(S=64)),r.push(e[v],e[E],e[S],e[C])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(NS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):O2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],m=o<n.length?e[n.charAt(o)]:0;++o;const p=o<n.length?e[n.charAt(o)]:64;++o;const E=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||m==null||p==null||E==null)throw new P2;const S=u<<2|m>>4;if(r.push(S),p!==64){const C=m<<4&240|p>>2;if(r.push(C),E!==64){const P=p<<6&192|E;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class P2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k2=function(n){const t=NS(n);return OS.encodeByteArray(t,!0)},uf=function(n){return k2(n).replace(/\./g,"")},PS=function(n){try{return OS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function L2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U2=()=>L2().__FIREBASE_DEFAULTS__,z2=()=>{if(typeof process>"u"||typeof kT>"u")return;const n=kT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},j2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&PS(n[1]);return t&&JSON.parse(t)},Lf=()=>{try{return N2()||U2()||z2()||j2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kS=n=>Lf()?.emulatorHosts?.[n],B2=n=>{const t=kS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},LS=()=>Lf()?.config,US=n=>Lf()?.[`_${n}`];class F2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}function Zo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(n){return(await fetch(n,{credentials:"include"})).ok}function q2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[uf(JSON.stringify(e)),uf(JSON.stringify(c)),""].join(".")}const _u={};function H2(){const n={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?n.emulator.push(t):n.prod.push(t);return n}function G2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let LT=!1;function jS(n,t){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||_u[n]===t||_u[n]||LT)return;_u[n]=t;function e(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=H2().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{LT=!0,c()},S}function v(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=G2(r),C=e("text"),P=document.getElementById(C)||document.createElement("span"),U=e("learnmore"),F=document.getElementById(U)||document.createElement("a"),G=e("preprendIcon"),Y=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;m(Q),v(F,U);const it=p();g(Y,G),Q.append(Y,P,F,it),document.body.appendChild(Q)}u?(P.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Y2(){const n=Lf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W2(){const n=Sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Z2(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J2(){try{return typeof indexedDB=="object"}catch{return!1}}function tI(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}const eI="FirebaseError";class Ls extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=eI,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?nI(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ls(o,m,r)}}function nI(n,t){return n.replace(iI,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const iI=/\{\$([^}]+)}/g;function sI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ia(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(UT(u)&&UT(c)){if(!Ia(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function UT(n){return n!==null&&typeof n=="object"}function Gu(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rI(n,t){const e=new aI(n,t);return e.subscribe.bind(e)}class aI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");oI(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function cp(){}function pn(n){return n&&n._delegate?n._delegate:n}class Da{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const _a="[DEFAULT]";class lI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new F2;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cI(t))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=_a){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_a){return this.instances.has(t)}getOptions(t=_a){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uI(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_a){return this.component?this.component.multipleInstances?t:_a:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(n){return n===_a?void 0:n}function cI(n){return n.instantiationMode==="EAGER"}class hI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const fI={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},dI=Gt.INFO,mI={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},pI=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=mI[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lg{constructor(t){this.name=t,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const gI=(n,t)=>t.some(e=>n instanceof e);let zT,jT;function yI(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vI(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,jp=new WeakMap,FS=new WeakMap,hp=new WeakMap,Ug=new WeakMap;function _I(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Ar(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&BS.set(e,n)}).catch(()=>{}),Ug.set(t,n),t}function TI(n){if(jp.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});jp.set(n,t)}let Bp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return jp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||FS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ar(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function EI(n){Bp=n(Bp)}function SI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(fp(this),t,...e);return FS.set(r,t.sort?t.sort():[t]),Ar(r)}:vI().includes(n)?function(...t){return n.apply(fp(this),t),Ar(BS.get(this))}:function(...t){return Ar(n.apply(fp(this),t))}}function AI(n){return typeof n=="function"?SI(n):(n instanceof IDBTransaction&&TI(n),gI(n,yI())?new Proxy(n,Bp):n)}function Ar(n){if(n instanceof IDBRequest)return _I(n);if(hp.has(n))return hp.get(n);const t=AI(n);return t!==n&&(hp.set(n,t),Ug.set(t,n)),t}const fp=n=>Ug.get(n);function bI(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=Ar(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Ar(c.result),g.oldVersion,g.newVersion,Ar(c.transaction),g)}),e&&c.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const wI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],dp=new Map;function BT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(dp.get(t))return dp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=RI.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wI.includes(e)))return;const u=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[e](...m),o&&g.done]))[0]};return dp.set(t,u),u}EI(n=>({...n,get:(t,e,r)=>BT(t,e)||n.get(t,e,r),has:(t,e)=>!!BT(t,e)||n.has(t,e)}));class CI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(II(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function II(n){return n.getComponent()?.type==="VERSION"}const Fp="@firebase/app",FT="0.14.8";const Vs=new Lg("@firebase/app"),DI="@firebase/app-compat",xI="@firebase/analytics-compat",VI="@firebase/analytics",MI="@firebase/app-check-compat",NI="@firebase/app-check",OI="@firebase/auth",PI="@firebase/auth-compat",kI="@firebase/database",LI="@firebase/data-connect",UI="@firebase/database-compat",zI="@firebase/functions",jI="@firebase/functions-compat",BI="@firebase/installations",FI="@firebase/installations-compat",qI="@firebase/messaging",HI="@firebase/messaging-compat",GI="@firebase/performance",KI="@firebase/performance-compat",YI="@firebase/remote-config",QI="@firebase/remote-config-compat",XI="@firebase/storage",$I="@firebase/storage-compat",WI="@firebase/firestore",ZI="@firebase/ai",JI="@firebase/firestore-compat",tD="firebase",eD="12.9.0";const qp="[DEFAULT]",nD={[Fp]:"fire-core",[DI]:"fire-core-compat",[VI]:"fire-analytics",[xI]:"fire-analytics-compat",[NI]:"fire-app-check",[MI]:"fire-app-check-compat",[OI]:"fire-auth",[PI]:"fire-auth-compat",[kI]:"fire-rtdb",[LI]:"fire-data-connect",[UI]:"fire-rtdb-compat",[zI]:"fire-fn",[jI]:"fire-fn-compat",[BI]:"fire-iid",[FI]:"fire-iid-compat",[qI]:"fire-fcm",[HI]:"fire-fcm-compat",[GI]:"fire-perf",[KI]:"fire-perf-compat",[YI]:"fire-rc",[QI]:"fire-rc-compat",[XI]:"fire-gcs",[$I]:"fire-gcs-compat",[WI]:"fire-fst",[JI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[tD]:"fire-js-all"};const cf=new Map,iD=new Map,Hp=new Map;function qT(n,t){try{n.container.addComponent(t)}catch(e){Vs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function qo(n){const t=n.name;if(Hp.has(t))return Vs.debug(`There were multiple attempts to register component ${t}.`),!1;Hp.set(t,n);for(const e of cf.values())qT(e,n);for(const e of iD.values())qT(e,n);return!0}function zg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function bi(n){return n==null?!1:n.settings!==void 0}const sD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Hu("app","Firebase",sD);class rD{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Jo=eD;function qS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:qp,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw br.create("bad-app-name",{appName:String(o)});if(e||(e=LS()),!e)throw br.create("no-options");const u=cf.get(o);if(u){if(Ia(e,u.options)&&Ia(r,u.config))return u;throw br.create("duplicate-app",{appName:o})}const c=new hI(o);for(const g of Hp.values())c.addComponent(g);const m=new rD(e,r,c);return cf.set(o,m),m}function HS(n=qp){const t=cf.get(n);if(!t&&n===qp&&LS())return qS();if(!t)throw br.create("no-app",{appName:n});return t}function wr(n,t,e){let r=nD[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vs.warn(c.join(" "));return}qo(new Da(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const aD="firebase-heartbeat-database",oD=1,xu="firebase-heartbeat-store";let mp=null;function GS(){return mp||(mp=bI(aD,oD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(xu)}catch(e){console.warn(e)}}}}).catch(n=>{throw br.create("idb-open",{originalErrorMessage:n.message})})),mp}async function lD(n){try{const e=(await GS()).transaction(xu),r=await e.objectStore(xu).get(KS(n));return await e.done,r}catch(t){if(t instanceof Ls)Vs.warn(t.message);else{const e=br.create("idb-get",{originalErrorMessage:t?.message});Vs.warn(e.message)}}}async function HT(n,t){try{const r=(await GS()).transaction(xu,"readwrite");await r.objectStore(xu).put(t,KS(n)),await r.done}catch(e){if(e instanceof Ls)Vs.warn(e.message);else{const r=br.create("idb-set",{originalErrorMessage:e?.message});Vs.warn(r.message)}}}function KS(n){return`${n.name}!${n.options.appId}`}const uD=1024,cD=30;class hD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new dD(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=GT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>cD){const o=mD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Vs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GT(),{heartbeatsToSend:e,unsentEntries:r}=fD(this._heartbeatsCache.heartbeats),o=uf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vs.warn(t),""}}}function GT(){return new Date().toISOString().substring(0,10)}function fD(n,t=uD){const e=[];let r=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),KT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),KT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class dD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J2()?tI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await lD(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return HT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return HT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function KT(n){return uf(JSON.stringify({version:2,heartbeats:n})).length}function mD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}function pD(n){qo(new Da("platform-logger",t=>new CI(t),"PRIVATE")),qo(new Da("heartbeat",t=>new hD(t),"PRIVATE")),wr(Fp,FT,n),wr(Fp,FT,"esm2020"),wr("fire-js","")}pD("");var gD="firebase",yD="12.9.0";wr(gD,yD,"app");function YS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vD=YS,QS=new Hu("auth","Firebase",YS());const hf=new Lg("@firebase/auth");function _D(n,...t){hf.logLevel<=Gt.WARN&&hf.warn(`Auth (${Jo}): ${n}`,...t)}function Hh(n,...t){hf.logLevel<=Gt.ERROR&&hf.error(`Auth (${Jo}): ${n}`,...t)}function Ms(n,...t){throw jg(n,...t)}function ts(n,...t){return jg(n,...t)}function XS(n,t,e){const r={...vD(),[t]:e};return new Hu("auth","Firebase",r).create(t,{appName:n.name})}function Rr(n){return XS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return QS.create(n,...t)}function It(n,t,...e){if(!n)throw jg(t,...e)}function Ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Hh(t),new Error(t)}function Ns(n,t){n||Ds(t)}function Gp(){return typeof self<"u"&&self.location?.href||""}function TD(){return YT()==="http:"||YT()==="https:"}function YT(){return typeof self<"u"&&self.location?.protocol||null}function ED(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TD()||X2()||"connection"in navigator)?navigator.onLine:!0}function SD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ku{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ns(e>t,"Short delay should be less than long delay!"),this.isMobile=K2()||$2()}get(){return ED()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bg(n,t){Ns(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class $S{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wD=new Ku(3e4,6e4);function Uf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function tl(n,t,e,r,o={}){return WS(n,o,async()=>{let u={},c={};r&&(t==="GET"?c=r:u={body:JSON.stringify(r)});const m=Gu({key:n.config.apiKey,...c}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:g,...u};return Q2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(p.credentials="include"),$S.fetch()(await JS(n,n.config.apiHost,e,m),p)})}async function WS(n,t,e){n._canInitEmulator=!1;const r={...AD,...t};try{const o=new RD(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Vh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(n,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Vh(n,"email-already-in-use",c);if(g==="USER_DISABLED")throw Vh(n,"user-disabled",c);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw XS(n,v,p);Ms(n,v)}}catch(o){if(o instanceof Ls)throw o;Ms(n,"network-request-failed",{message:String(o)})}}async function ZS(n,t,e,r,o={}){const u=await tl(n,t,e,r,o);return"mfaPendingCredential"in u&&Ms(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function JS(n,t,e,r){const o=`${t}${e}?${r}`,u=n,c=u.config.emulator?Bg(n.config,o):`${n.config.apiScheme}://${o}`;return bD.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class RD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),wD.get())})}}function Vh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ts(n,t,r);return o.customData._tokenResponse=e,o}async function CD(n,t){return tl(n,"POST","/v1/accounts:delete",t)}async function ff(n,t){return tl(n,"POST","/v1/accounts:lookup",t)}function Tu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ID(n,t=!1){const e=pn(n),r=await e.getIdToken(t),o=Fg(r);It(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:r,authTime:Tu(pp(o.auth_time)),issuedAtTime:Tu(pp(o.iat)),expirationTime:Tu(pp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pp(n){return Number(n)*1e3}function Fg(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PS(e);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function QT(n){const t=Fg(n);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ls&&DD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class xD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function df(n){const t=n.auth,e=await n.getIdToken(),r=await Vu(n,ff(t,{idToken:e}));It(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?tA(o.providerUserInfo):[],c=MD(n.providerData,u),m=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!c?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function VD(n){const t=pn(n);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MD(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function tA(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function ND(n,t){const e=await WS(n,{},async()=>{const r=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await JS(n,o,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return n.emulatorConfig&&Zo(n.emulatorConfig.host)&&(g.credentials="include"),$S.fetch()(c,g)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function OD(n,t){return tl(n,"POST","/v2/accounts:revokeToken",Uf(n,t))}class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):QT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){It(t.length!==0,"internal-error");const e=QT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await ND(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,c=new Lo;return r&&(It(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),o&&(It(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(It(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function pr(n,t){It(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class wi{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new xD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Vu(this,this.stsTokenManager.getToken(this.auth,t));return It(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ID(this,t)}reload(){return VD(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new wi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(Rr(this.auth));const t=await this.getIdToken();return await Vu(this,CD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,m=e.tenantId??void 0,g=e._redirectEventId??void 0,p=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:C,providerData:P,stsTokenManager:U}=e;It(E&&U,t,"internal-error");const F=Lo.fromJSON(this.name,U);It(typeof E=="string",t,"internal-error"),pr(r,t.name),pr(o,t.name),It(typeof S=="boolean",t,"internal-error"),It(typeof C=="boolean",t,"internal-error"),pr(u,t.name),pr(c,t.name),pr(m,t.name),pr(g,t.name),pr(p,t.name),pr(v,t.name);const G=new wi({uid:E,auth:t,email:o,emailVerified:S,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:p,lastLoginAt:v});return P&&Array.isArray(P)&&(G.providerData=P.map(Y=>({...Y}))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(t,e,r=!1){const o=new Lo;o.updateFromServerResponse(e);const u=new wi({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await df(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];It(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Lo;m.updateFromIdToken(r);const g=new wi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const XT=new Map;function xs(n){Ns(n instanceof Function,"Expected a class definition");let t=XT.get(n);return t?(Ns(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,XT.set(n,t),t)}class eA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}eA.type="NONE";const $T=eA;function Gh(n,t,e){return`firebase:${n}:${t}:${e}`}class Uo{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?wi._fromGetAccountInfoResponse(this.auth,e,t):null}return wi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Uo(xs($T),t,r);const o=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||xs($T);const c=Gh(r,t.config.apiKey,t.name);let m=null;for(const p of e)try{const v=await p._get(c);if(v){let E;if(typeof v=="string"){const S=await ff(t,{idToken:v}).catch(()=>{});if(!S)break;E=await wi._fromGetAccountInfoResponse(t,S,v)}else E=wi._fromJSON(t,v);p!==u&&(m=E),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Uo(u,t,r):(u=g[0],m&&await u._set(c,m.toJSON()),await Promise.all(e.map(async p=>{if(p!==u)try{await p._remove(c)}catch{}})),new Uo(u,t,r))}}function WT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oA(t))return"Blackberry";if(lA(t))return"Webos";if(iA(t))return"Safari";if((t.includes("chrome/")||sA(t))&&!t.includes("edge/"))return"Chrome";if(aA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function nA(n=Sn()){return/firefox\//i.test(n)}function iA(n=Sn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sA(n=Sn()){return/crios\//i.test(n)}function rA(n=Sn()){return/iemobile/i.test(n)}function aA(n=Sn()){return/android/i.test(n)}function oA(n=Sn()){return/blackberry/i.test(n)}function lA(n=Sn()){return/webos/i.test(n)}function qg(n=Sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PD(n=Sn()){return qg(n)&&!!window.navigator?.standalone}function kD(){return W2()&&document.documentMode===10}function uA(n=Sn()){return qg(n)||aA(n)||lA(n)||oA(n)||/windows phone/i.test(n)||rA(n)}function cA(n,t=[]){let e;switch(n){case"Browser":e=WT(Sn());break;case"Worker":e=`${WT(Sn())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Jo}/${r}`}class LD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((c,m)=>{try{const g=t(u);c(g)}catch(g){m(g)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function UD(n,t={}){return tl(n,"GET","/v2/passwordPolicy",Uf(n,t))}const zD=6;class jD{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??zD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class BD{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZT(this),this.idTokenSubscription=new ZT(this),this.beforeStateQueue=new LD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),r=await wi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(bi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bi(this.app))return Promise.reject(Rr(this));const e=t?pn(t):null;return e&&It(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bi(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UD(this),e=new jD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await OD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xs(t)||this._popupRedirectResolver;It(e,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[xs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const g=t.addObserver(e,r,o);return()=>{c=!0,g()}}else{const g=t.addObserver(e);return()=>{c=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_D(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zf(n){return pn(n)}class ZT{constructor(t){this.auth=t,this.observer=null,this.addObserver=rI(e=>this.observer=e)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FD(n){Hg=n}function qD(n){return Hg.loadJS(n)}function HD(){return Hg.gapiScript}function GD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function KD(n,t){const e=zg(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Ia(u,t??{}))return o;Ms(o,"already-initialized")}return e.initialize({options:t})}function YD(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(xs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function QD(n,t,e){const r=zf(n);It(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=hA(t),{host:c,port:m}=XD(t),g=m===null?"":`:${m}`,p={url:`${u}//${c}${g}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){It(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),It(Ia(p,r.config.emulator)&&Ia(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Zo(c)?(zS(`${u}//${c}${g}`),jS("Auth",!0)):$D()}function hA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function XD(n){const t=hA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:JT(r.substr(u.length+1))}}else{const[u,c]=r.split(":");return{host:u,port:JT(c)}}}function JT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function $D(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class fA{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ds("not implemented")}_getIdTokenResponse(t){return Ds("not implemented")}_linkToIdToken(t,e){return Ds("not implemented")}_getReauthenticationResolver(t){return Ds("not implemented")}}async function zo(n,t){return ZS(n,"POST","/v1/accounts:signInWithIdp",Uf(n,t))}const WD="http://localhost";class xa extends fA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ms("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const c=new xa(r,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return zo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,zo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zo(t,e)}buildRequest(){const t={requestUri:WD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gu(e)}return t}}class dA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yu extends dA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yr extends Yu{constructor(){super("facebook.com")}static credential(t){return xa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yr.credential(t.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class vr extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return xa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return vr.credential(e,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class _r extends Yu{constructor(){super("github.com")}static credential(t){return xa._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class Tr extends Yu{constructor(){super("twitter.com")}static credential(t,e){return xa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Tr.credential(e,r)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";async function ZD(n,t){return ZS(n,"POST","/v1/accounts:signUp",Uf(n,t))}class xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await wi._fromIdTokenResponse(t,r,o),c=tE(r);return new xr({user:u,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=tE(r);return new xr({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function tE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function JD(n){if(bi(n.app))return Promise.reject(Rr(n));const t=zf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new xr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await ZD(t,{returnSecureToken:!0}),r=await xr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}class mf extends Ls{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new mf(t,e,r,o)}}function mA(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(n,u,t,r):u})}async function tx(n,t,e=!1){const r=await Vu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return xr._forOperation(n,"link",r)}async function ex(n,t,e=!1){const{auth:r}=n;if(bi(r.app))return Promise.reject(Rr(r));const o="reauthenticate";try{const u=await Vu(n,mA(r,o,t,n),e);It(u.idToken,r,"internal-error");const c=Fg(u.idToken);It(c,r,"internal-error");const{sub:m}=c;return It(n.uid===m,r,"user-mismatch"),xr._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ms(r,"user-mismatch"),u}}async function nx(n,t,e=!1){if(bi(n.app))return Promise.reject(Rr(n));const r="signIn",o=await mA(n,r,t),u=await xr._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}function ix(n,t,e,r){return pn(n).onIdTokenChanged(t,e,r)}function sx(n,t,e){return pn(n).beforeAuthStateChanged(t,e)}function rx(n,t,e,r){return pn(n).onAuthStateChanged(t,e,r)}const pf="__sak";class pA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ax=1e3,ox=10;class gA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},u=this.storage.getItem(r);kD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ox):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},ax)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}gA.type="LOCAL";const lx=gA;class yA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}yA.type="SESSION";const vA=yA;function ux(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new jf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async p=>p(e.origin,u)),g=await ux(m);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];function Gg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}class cx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,g)=>{const p=Gg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function es(){return window}function hx(n){es().location.href=n}function _A(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function fx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dx(){return navigator?.serviceWorker?.controller||null}function mx(){return _A()?self:null}const TA="firebaseLocalStorageDb",px=1,gf="firebaseLocalStorage",EA="fbase_key";class Qu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Bf(n,t){return n.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function gx(){const n=indexedDB.deleteDatabase(TA);return new Qu(n).toPromise()}function Yp(){const n=indexedDB.open(TA,px);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gf,{keyPath:EA})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gf)?t(r):(r.close(),await gx(),t(await Yp()))})})}async function eE(n,t,e){const r=Bf(n,!0).put({[EA]:t,value:e});return new Qu(r).toPromise()}async function yx(n,t){const e=Bf(n,!1).get(t),r=await new Qu(e).toPromise();return r===void 0?null:r.value}function nE(n,t){const e=Bf(n,!0).delete(t);return new Qu(e).toPromise()}const vx=800,_x=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>_x)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _A()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(mx()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fx(),!this.activeServiceWorker)return;this.sender=new cx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yp();return await eE(t,pf,"1"),await nE(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>yx(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>nE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Bf(o,!1).getAll();return new Qu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const Tx=SA;new Ku(3e4,6e4);function Ex(n,t){return t?xs(t):(It(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Kg extends fA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Sx(n){return nx(n.auth,new Kg(n),n.bypassAuthState)}function Ax(n){const{auth:t,user:e}=n;return It(e,t,"internal-error"),ex(e,new Kg(n),n.bypassAuthState)}async function bx(n){const{auth:t,user:e}=n;return It(e,t,"internal-error"),tx(e,new Kg(n),n.bypassAuthState)}class AA{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Sx;case"linkViaPopup":case"linkViaRedirect":return bx;case"reauthViaPopup":case"reauthViaRedirect":return Ax;default:Ms(this.auth,"internal-error")}}resolve(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wx=new Ku(2e3,1e4);class Vo extends AA{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const t=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wx.get())};t()}}Vo.currentPopupAction=null;const Rx="pendingRedirect",Kh=new Map;class Cx extends AA{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Kh.get(this.auth._key());if(!t){try{const r=await Ix(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Kh.set(this.auth._key(),t)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ix(n,t){const e=Vx(t),r=xx(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function Dx(n,t){Kh.set(n._key(),t)}function xx(n){return xs(n._redirectPersistence)}function Vx(n){return Gh(Rx,n.config.apiKey,n.name)}async function Mx(n,t,e=!1){if(bi(n.app))return Promise.reject(Rr(n));const r=zf(n),o=Ex(r,t),c=await new Cx(r,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const Nx=600*1e3;class Ox{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Px(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!bA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(ts(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nx&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(t))}saveEventToCache(t){this.cachedEventUids.add(iE(t)),this.lastProcessedEventTime=Date.now()}}function iE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function bA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Px(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}async function kx(n,t={}){return tl(n,"GET","/v1/projects",t)}const Lx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ux=/^https?/;async function zx(n){if(n.config.emulator)return;const{authorizedDomains:t}=await kx(n);for(const e of t)try{if(jx(e))return}catch{}Ms(n,"unauthorized-domain")}function jx(n){const t=Gp(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!Ux.test(e))return!1;if(Lx.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Bx=new Ku(3e4,6e4);function sE(){const n=es().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Fx(n){return new Promise((t,e)=>{function r(){sE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sE(),e(ts(n,"network-request-failed"))},timeout:Bx.get()})}if(es().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(es().gapi?.load)r();else{const o=GD("iframefcb");return es()[o]=()=>{gapi.load?r():e(ts(n,"network-request-failed"))},qD(`${HD()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Yh=null,t})}let Yh=null;function qx(n){return Yh=Yh||Fx(n),Yh}const Hx=new Ku(5e3,15e3),Gx="__/auth/iframe",Kx="emulator/auth/iframe",Yx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xx(n){const t=n.config;It(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Bg(t,Kx):`https://${n.config.authDomain}/${Gx}`,r={apiKey:t.apiKey,appName:n.name,v:Jo},o=Qx.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${Gu(r).slice(1)}`}async function $x(n){const t=await qx(n),e=es().gapi;return It(e,n,"internal-error"),t.open({where:document.body,url:Xx(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yx,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const c=ts(n,"network-request-failed"),m=es().setTimeout(()=>{u(c)},Hx.get());function g(){es().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(c)})}))}const Wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zx=500,Jx=600,tV="_blank",eV="http://localhost";class rE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nV(n,t,e,r=Zx,o=Jx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...Wx,width:r.toString(),height:o.toString(),top:u,left:c},p=Sn().toLowerCase();e&&(m=sA(p)?tV:e),nA(p)&&(t=t||eV,g.scrollbars="yes");const v=Object.entries(g).reduce((S,[C,P])=>`${S}${C}=${P},`,"");if(PD(p)&&m!=="_self")return iV(t||"",m),new rE(null);const E=window.open(t||"",m,v);It(E,n,"popup-blocked");try{E.focus()}catch{}return new rE(E)}function iV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}const sV="__/auth/handler",rV="emulator/auth/handler",aV=encodeURIComponent("fac");async function aE(n,t,e,r,o,u){It(n.config.authDomain,n,"auth-domain-config-required"),It(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Jo,eventId:o};if(t instanceof dA){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",sI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Yu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await n._getAppCheckToken(),p=g?`#${aV}=${encodeURIComponent(g)}`:"";return`${oV(n)}?${Gu(m).slice(1)}${p}`}function oV({config:n}){return n.emulator?Bg(n,rV):`https://${n.authDomain}/${sV}`}const gp="webStorageSupport";class lV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vA,this._completeRedirectFn=Mx,this._overrideRedirectResult=Dx}async _openPopup(t,e,r,o){Ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await aE(t,e,r,Gp(),o);return nV(t,u,Gg())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await aE(t,e,r,Gp(),o);return hx(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Ns(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await $x(t),r=new Ox(t);return e.register("authEvent",o=>(It(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(gp,{type:gp},o=>{const u=o?.[0]?.[gp];u!==void 0&&e(!!u),Ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=zx(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return uA()||iA()||qg()}}const uV=lV;var oE="@firebase/auth",lE="1.12.0";class cV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(n){qo(new Da("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;It(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cA(n)},p=new BD(r,o,u,g);return YD(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),qo(new Da("auth-internal",t=>{const e=zf(t.getProvider("auth").getImmediate());return(r=>new cV(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(oE,lE,hV(n)),wr(oE,lE,"esm2020")}const dV=300,mV=US("authIdTokenMaxAge")||dV;let uE=null;const pV=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>mV)return;const o=e?.token;uE!==o&&(uE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gV(n=HS()){const t=zg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=KD(n,{popupRedirectResolver:uV,persistence:[Tx,lx,vA]}),r=US("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const c=pV(u.toString());sx(e,c,()=>c(e.currentUser)),ix(e,m=>c(m))}}const o=kS("auth");return o&&QD(e,`http://${o}`),e}function yV(){return document.getElementsByTagName("head")?.[0]??document}FD({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=ts("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",yV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cr,wA;(function(){var n;function t(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,V,k){for(var D=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)D[ie-2]=arguments[ie];return w.prototype[V].apply(M,D)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)M[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;V<16;++V)M[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],V=I.g[2];let k=I.g[3],D;D=w+(k^R&(V^k))+M[0]+3614090360&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(V^w&(R^V))+M[1]+3905402710&4294967295,k=w+(D<<12&4294967295|D>>>20),D=V+(R^k&(w^R))+M[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(w^V&(k^w))+M[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(k^R&(V^k))+M[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(V^w&(R^V))+M[5]+1200080426&4294967295,k=w+(D<<12&4294967295|D>>>20),D=V+(R^k&(w^R))+M[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(w^V&(k^w))+M[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(k^R&(V^k))+M[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(V^w&(R^V))+M[9]+2336552879&4294967295,k=w+(D<<12&4294967295|D>>>20),D=V+(R^k&(w^R))+M[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(w^V&(k^w))+M[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(k^R&(V^k))+M[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=k+(V^w&(R^V))+M[13]+4254626195&4294967295,k=w+(D<<12&4294967295|D>>>20),D=V+(R^k&(w^R))+M[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(w^V&(k^w))+M[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=w+(V^k&(R^V))+M[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(w^R))+M[6]+3225465664&4294967295,k=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(k^w))+M[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(V^k))+M[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^k&(R^V))+M[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(w^R))+M[10]+38016083&4294967295,k=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(k^w))+M[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(V^k))+M[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^k&(R^V))+M[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(w^R))+M[14]+3275163606&4294967295,k=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(k^w))+M[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(V^k))+M[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(V^k&(R^V))+M[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(w^R))+M[2]+4243563512&4294967295,k=w+(D<<9&4294967295|D>>>23),D=V+(w^R&(k^w))+M[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^w&(V^k))+M[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=w+(R^V^k)+M[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^V)+M[8]+2272392833&4294967295,k=w+(D<<11&4294967295|D>>>21),D=V+(k^w^R)+M[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^w)+M[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^k)+M[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^V)+M[4]+1272893353&4294967295,k=w+(D<<11&4294967295|D>>>21),D=V+(k^w^R)+M[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^w)+M[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^k)+M[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^V)+M[0]+3936430074&4294967295,k=w+(D<<11&4294967295|D>>>21),D=V+(k^w^R)+M[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^w)+M[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(R^V^k)+M[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=k+(w^R^V)+M[12]+3873151461&4294967295,k=w+(D<<11&4294967295|D>>>21),D=V+(k^w^R)+M[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^w)+M[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=w+(V^(R|~k))+M[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~V))+M[7]+1126891415&4294967295,k=w+(D<<10&4294967295|D>>>22),D=V+(w^(k|~R))+M[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~w))+M[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~k))+M[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~V))+M[3]+2399980690&4294967295,k=w+(D<<10&4294967295|D>>>22),D=V+(w^(k|~R))+M[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~w))+M[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~k))+M[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~V))+M[15]+4264355552&4294967295,k=w+(D<<10&4294967295|D>>>22),D=V+(w^(k|~R))+M[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~w))+M[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=w+(V^(R|~k))+M[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=k+(R^(w|~V))+M[11]+3174756917&4294967295,k=w+(D<<10&4294967295|D>>>22),D=V+(w^(k|~R))+M[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,M=this.C;let V=this.h,k=0;for(;k<w;){if(V==0)for(;k<=R;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(M[V++]=I.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<w;)if(M[V++]=I[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[w++]=this.g[R]>>>M&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function c(I,w){this.h=w;const R=[];let M=!0;for(let V=I.length-1;V>=0;V--){const k=I[V]|0;M&&k==w||(R[V]=k,M=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return F(p(-I));const w=[];let R=1;for(let M=0;I>=R;M++)w[M]=I/R|0,R*=4294967296;return new c(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return F(v(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let M=E;for(let k=0;k<I.length;k+=8){var V=Math.min(8,I.length-k);const D=parseInt(I.substring(k,k+V),w);V<8?(V=p(Math.pow(w,V)),M=M.j(V).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var E=g(0),S=g(1),C=g(16777216);n=c.prototype,n.m=function(){if(U(this))return-F(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(U(this))return"-"+F(this).toString(I);const w=p(Math.pow(I,6));var R=this;let M="";for(;;){const V=it(R,w).g;R=G(R,V.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=V,P(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function U(I){return I.h==-1}n.l=function(I){return I=G(this,I),U(I)?-1:P(I)?0:1};function F(I){const w=I.g.length,R=[];for(let M=0;M<w;M++)R[M]=~I.g[M];return new c(R,~I.h).add(S)}n.abs=function(){return U(this)?F(this):this},n.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let V=0;V<=w;V++){let k=M+(this.i(V)&65535)+(I.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);M=D>>>16,k&=65535,D&=65535,R[V]=D<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function G(I,w){return I.add(F(w))}n.j=function(I){if(P(this)||P(I))return E;if(U(this))return U(I)?F(this).j(F(I)):F(F(this).j(I));if(U(I))return F(this.j(F(I)));if(this.l(C)<0&&I.l(C)<0)return p(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<I.g.length;V++){const k=this.i(M)>>>16,D=this.i(M)&65535,ie=I.i(V)>>>16,Te=I.i(V)&65535;R[2*M+2*V]+=D*Te,Y(R,2*M+2*V),R[2*M+2*V+1]+=k*Te,Y(R,2*M+2*V+1),R[2*M+2*V+1]+=D*ie,Y(R,2*M+2*V+1),R[2*M+2*V+2]+=k*ie,Y(R,2*M+2*V+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new c(R,0)};function Y(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Q(I,w){this.g=I,this.h=w}function it(I,w){if(P(w))throw Error("division by zero");if(P(I))return new Q(E,E);if(U(I))return w=it(F(I),w),new Q(F(w.g),F(w.h));if(U(w))return w=it(I,F(w)),new Q(F(w.g),w.h);if(I.g.length>30){if(U(I)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=w;M.l(I)<=0;)R=rt(R),M=rt(M);var V=ct(R,1),k=ct(M,1);for(M=ct(M,2),R=ct(R,2);!P(M);){var D=k.add(M);D.l(I)<=0&&(V=V.add(R),k=D),M=ct(M,1),R=ct(R,1)}return w=G(I,V.j(w)),new Q(V,w)}for(V=E;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=p(R),D=k.j(w);U(D)||D.l(I)>0;)R-=M,k=p(R),D=k.j(w);P(k)&&(k=S),V=V.add(k),I=G(I,D)}return new Q(V,I)}n.B=function(I){return it(this,I).h},n.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&I.i(M);return new c(R,this.h&I.h)},n.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|I.i(M);return new c(R,this.h|I.h)},n.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^I.i(M);return new c(R,this.h^I.h)};function rt(I){const w=I.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(R,I.h)}function ct(I,w){const R=w>>5;w%=32;const M=I.g.length-R,V=[];for(let k=0;k<M;k++)V[k]=w>0?I.i(k+R)>>>w|I.i(k+R+1)<<32-w:I.i(k+R);return new c(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Cr=c}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RA,du,CA,Qh,Qp,IA,DA,xA;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=e(this);function o(h,y){if(y)t:{var T=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var z=h[b];if(!(z in T))break t;T=T[z]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,T){return h.call.apply(h.bind,arguments)}function p(h,y,T){return p=g,p.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,z,H){for(var lt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)lt[Nt-2]=arguments[Nt];return y.prototype[z].apply(b,lt)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function P(h,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var T=typeof z;if(T=T!="object"?T:z?Array.isArray(z)?"array":T:"null",T=="array"||T=="object"&&typeof z.length=="number"){T=h.length||0;const H=z.length||0;h.length=T+H;for(let lt=0;lt<H;lt++)h[T+lt]=z[lt]}else h.push(z)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){c.setTimeout(()=>{throw h},0)}function G(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,T){const b=Q.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var Q=new U(()=>new it,h=>h.reset());class it{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ct=!1,I=new Y,w=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(R)}};function R(){for(var h;h=G();){try{h.h.call(h.g)}catch(T){F(T)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ie(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(ie,V),ie.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(h,y,T,b,z){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=z,this.key=++X,this.da=this.fa=!1}function ht(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Rt(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function kt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function N(h){const y={};for(const T in h)y[T]=h[T];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,y){let T,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(T in b)h[T]=b[T];for(let H=0;H<J.length;H++)T=J[H],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,y,T,b,z){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const lt=Mt(h,y,b,z);return lt>-1?(y=h[lt],T||(y.fa=!1)):(y=new ot(y,this.src,H,!!b,z),y.fa=T,h.push(y)),y};function St(h,y){const T=y.type;if(T in h.g){var b=h.g[T],z=Array.prototype.indexOf.call(b,y,void 0),H;(H=z>=0)&&Array.prototype.splice.call(b,z,1),H&&(ht(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Mt(h,y,T,b){for(let z=0;z<h.length;++z){const H=h[z];if(!H.da&&H.listener==y&&H.capture==!!T&&H.ha==b)return z}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ie={};function at(h,y,T,b,z){if(Array.isArray(y)){for(let H=0;H<y.length;H++)at(h,y[H],T,b,z);return null}return T=me(T),h&&h[Te]?h.J(y,T,m(b)?!!b.capture:!1,z):Tt(h,y,T,!1,b,z)}function Tt(h,y,T,b,z,H){if(!y)throw Error("Invalid event type");const lt=m(z)?!!z.capture:!!z;let Nt=fe(h);if(Nt||(h[zt]=Nt=new ft(h)),T=Nt.add(y,T,b,lt,H),T.proxy)return T;if(b=At(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)k||(z=lt),z===void 0&&(z=!1),h.addEventListener(y.toString(),b,z);else if(h.attachEvent)h.attachEvent(Lt(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function At(){function h(T){return y.call(h.src,h.listener,T)}const y=Zt;return h}function bt(h,y,T,b,z){if(Array.isArray(y))for(var H=0;H<y.length;H++)bt(h,y[H],T,b,z);else b=m(b)?!!b.capture:!!b,T=me(T),h&&h[Te]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],T=Mt(y,T,b,z),T>-1&&(ht(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=fe(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Mt(y,T,b,z)),(T=h>-1?y[h]:null)&&Qt(T))}function Qt(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Te])St(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(Lt(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=fe(y))?(St(T,h),T.h==0&&(T.src=null,y[zt]=null)):ht(h)}}}function Lt(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function Zt(h,y){if(h.da)h=!0;else{y=new ie(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&Qt(h),h=T.call(b,y)}return h}function fe(h){return h=h[zt],h instanceof ft?h:null}var Pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function me(h){return typeof h=="function"?h:(h[Pe]||(h[Pe]=function(y){return h.handleEvent(y)}),h[Pe])}function Ft(){M.call(this),this.i=new ft(this),this.M=this,this.G=null}E(Ft,M),Ft.prototype[Te]=!0,Ft.prototype.removeEventListener=function(h,y,T,b){bt(this,h,y,T,b)};function Ct(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var z=y;y=new V(b,h),ut(y,z)}z=!0;let H,lt;if(T)for(lt=T.length-1;lt>=0;lt--)H=y.g=T[lt],z=Je(H,b,!0,y)&&z;if(H=y.g=h,z=Je(H,b,!0,y)&&z,z=Je(H,b,!1,y)&&z,T)for(lt=0;lt<T.length;lt++)H=y.g=T[lt],z=Je(H,b,!1,y)&&z}Ft.prototype.N=function(){if(Ft.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ht(T[b]);delete h.g[y],h.h--}}this.G=null},Ft.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Ft.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function Je(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let H=0;H<y.length;++H){const lt=y[H];if(lt&&!lt.da&&lt.capture==T){const Nt=lt.listener,xe=lt.ha||lt.src;lt.fa&&St(h.i,lt),z=Nt.call(xe,b)!==!1&&z}}return z&&!b.defaultPrevented}function Xe(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function $t(h){h.g=Xe(()=>{h.g=null,h.i&&(h.i=!1,$t(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ut extends M{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(h){M.call(this),this.h=h,this.g={}}E(rn,M);var ui=[];function qr(h){Rt(h.g,function(y,T){this.g.hasOwnProperty(T)&&Qt(y)},h),h.g={}}rn.prototype.N=function(){rn.Z.N.call(this),qr(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=c.JSON.stringify,ll=c.JSON.parse,ka=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function xi(){}function La(){}var ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){V.call(this,"d")}E(an,V);function Kn(){V.call(this,"c")}E(Kn,V);var De={},ac=null;function Ua(){return ac=ac||new Ft}De.Ia="serverreachability";function oc(h){V.call(this,De.Ia,h)}E(oc,V);function Vi(h){const y=Ua();Ct(y,new oc(y))}De.STAT_EVENT="statevent";function Hr(h,y){V.call(this,De.STAT_EVENT,h),this.stat=y}E(Hr,V);function ke(h){const y=Ua();Ct(y,new Hr(y,h))}De.Ja="timingevent";function Mi(h,y){V.call(this,De.Ja,h),this.size=y}E(Mi,V);function Ni(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function hi(){this.g=!0}hi.prototype.ua=function(){this.g=!1};function ld(h,y,T,b,z,H){h.info(function(){if(h.g)if(H){var lt="",Nt=H.split("&");for(let ee=0;ee<Nt.length;ee++){var xe=Nt[ee].split("=");if(xe.length>1){const Ee=xe[0];xe=xe[1];const $n=Ee.split("_");lt=$n.length>=2&&$n[1]=="type"?lt+(Ee+"="+xe+"&"):lt+(Ee+"=redacted&")}}}else lt=null;else lt=H;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+T+`
`+lt})}function lc(h,y,T,b,z,H,lt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+T+`
`+H+" "+lt})}function Oi(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ud(h,T)+(b?" "+b:"")})}function Gr(h,y){h.info(function(){return"TIMEOUT: "+y})}hi.prototype.info=function(){};function ud(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var T=H[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return Di(H)}catch{return y}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function Yr(){}E(Yr,xi),Yr.prototype.g=function(){return new XMLHttpRequest},cl=new Yr;function cs(h){return encodeURIComponent(String(h))}function uc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function fi(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var Le={},tn={};function Pi(h,y,T){h.M=1,h.A=Qr(ze(y)),h.u=T,h.R=!0,za(h,null)}function za(h,y){h.F=Date.now(),ki(h),h.B=ze(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),qa(T.i,"t",b),h.C=0,T=h.j.L,h.h=new di,h.g=bc(h.j,T?y:null,!h.u),h.P>0&&(h.O=new Ut(p(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(ui[0]=z.toString()),z=ui);for(let H=0;H<z.length;H++){const lt=at(T,z[H],b||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Vi(),ld(h.i,h.v,h.B,h.l,h.S,h.u)}fi.prototype.ba=function(h){h=h.target;const y=this.O;y&&gi(h)==3?y.j():this.Y(h)},fi.prototype.Y=function(h){try{if(h==this.g)t:{const Nt=gi(this.g),xe=this.g.ya(),ee=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Nt!=4||xe==7||(xe==8||ee<=0?Vi(3):Vi(2)),Li(this);var y=this.g.ca();this.X=y;var T=cd(this);if(this.o=y==200,lc(this.i,this.v,this.B,this.l,this.S,Nt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var H=b;break e}}H=null}if(h=H)Oi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,h);else{this.o=!1,this.m=3,ke(12),kn(this),Yn(this);break t}}if(this.R){h=!0;let Ee;for(;!this.K&&this.C<T.length;)if(Ee=hc(this,T),Ee==tn){Nt==4&&(this.m=4,ke(14),h=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==Le){this.m=4,ke(15),Oi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Oi(this.i,this.l,Ee,null),Ui(this,Ee);if(cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||T.length!=0||this.h.h||(this.m=1,ke(16),h=!1),this.o=this.o&&h,!h)Oi(this.i,this.l,T,"[Invalid Chunked Response]"),kn(this),Yn(this);else if(T.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),wl(lt),lt.P=!0,ke(11))}}else Oi(this.i,this.l,T,null),Ui(this,T);Nt==4&&kn(this),this.o&&!this.K&&(Nt==4?Tc(this.j,this):(this.o=!1,ki(this)))}else fs(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),kn(this),Yn(this)}}}catch{}};function cd(h){if(!cc(h))return h.g.la();const y=on(h.g);if(y==="")return"";let T="";const b=y.length,z=gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Yn(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<b;H++)h.h.h=!0,T+=h.h.i.decode(y[H],{stream:!(z&&H==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function cc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function hc(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?tn:(T=Number(y.substring(T,b)),isNaN(T)?Le:(b+=1,b+T>y.length?tn:(y=y.slice(b,b+T),h.C=b+T,y)))}fi.prototype.cancel=function(){this.K=!0,kn(this)};function ki(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ni(p(h.aa,h),y)}function Li(h){h.D&&(c.clearTimeout(h.D),h.D=null)}fi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(Vi(),ke(17)),kn(this),this.m=2,Yn(this)):ja(this,this.T-h)};function Yn(h){h.j.I==0||h.K||Tc(h.j,h)}function kn(h){Li(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,qr(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ui(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||ji(T.h,h))){if(!h.L&&ji(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Qa(T),Gs(T);else break t;ea(T),ke(18)}}else T.xa=z[1],0<T.xa-T.K&&z[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ni(p(T.Va,T),6e3));zi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ki(T,11)}else if((h.L||T.g==h)&&Qa(T),!D(y))for(z=T.Ba.g.parse(y),y=0;y<z.length;y++){let ee=z[y];const Ee=ee[0];if(!(Ee<=T.K))if(T.K=Ee,ee=ee[1],T.I==2)if(ee[0]=="c"){T.M=ee[1],T.ba=ee[2];const $n=ee[3];$n!=null&&(T.ka=$n,T.j.info("VER="+T.ka));const Yi=ee[4];Yi!=null&&(T.za=Yi,T.j.info("SVER="+T.za));const yi=ee[5];yi!=null&&typeof yi=="number"&&yi>0&&(b=1.5*yi,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const vi=h.g;if(vi){const na=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var H=b.h;H.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(dl(H,H.h),H.h=null))}if(b.G){const Xa=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(b.wa=Xa,re(b.J,b.G,Xa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var lt=h;if(b.na=Ac(b,b.L?b.ba:null,b.W),lt.L){ml(b.h,lt);var Nt=lt,xe=b.O;xe&&(Nt.H=xe),Nt.D&&(Li(Nt),ki(Nt)),b.g=lt}else vc(b);T.i.length>0&&Gi(T)}else ee[0]!="stop"&&ee[0]!="close"||Ki(T,7);else T.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Ki(T,7):Al(T):ee[0]!="noop"&&T.l&&T.l.qa(ee),T.A=0)}}Vi(4)}catch{}}var Ue=class{constructor(h,y){this.g=h,this.map=y}};function hl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zi(h){return h.h?1:h.g?h.g.size:0}function ji(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function dl(h,y){h.g?h.g.add(y):h.h=y}function ml(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return C(h.i)}var fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let z,H=null;b>=0?(z=h[T].substring(0,b),H=h[T].substring(b+1)):z=h[T],y(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Ln?(this.l=h.l,en(this,h.j),this.o=h.o,this.g=h.g,Us(this,h.u),this.h=h.h,gl(this,gc(h.i)),this.m=h.m):h&&(y=String(h).match(fc))?(this.l=!1,en(this,y[1]||"",!0),this.o=Bi(y[2]||""),this.g=Bi(y[3]||"",!0),Us(this,y[4]),this.h=Bi(y[5]||"",!0),gl(this,y[6]||"",!0),this.m=Bi(y[7]||"")):(this.l=!1,this.i=new js(null,this.l))}Ln.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Xr(y,Fa,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Xr(y,Fa,!0),"@"),h.push(cs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Xr(T,T.charAt(0)=="/"?yl:dc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Xr(T,mc)),h.join("")},Ln.prototype.resolve=function(h){const y=ze(this);let T=!!h.j;T?en(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)Us(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let lt=0;lt<z.length;){const Nt=z[lt++];Nt=="."?b&&lt==z.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&lt==z.length&&H.push("")):(H.push(Nt),b=!0)}b=H.join("/")}else b=z}return T?y.h=b:T=h.i.toString()!=="",T?gl(y,gc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function ze(h){return new Ln(h)}function en(h,y,T){h.j=T?Bi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Us(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function gl(h,y,T){y instanceof js?(h.i=y,Ha(h.i,h.l)):(T||(y=Xr(y,zs)),h.i=new js(y,h.l))}function re(h,y,T){h.i.set(y,T)}function Qr(h){return re(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,Cn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,dc=/[#\?:]/g,yl=/[#\?]/g,zs=/[#\?@]/g,mc=/#/g;function js(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=js.prototype,n.add=function(h,y){In(this),this.i=null,h=Bs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function pc(h,y){In(h),y=Bs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function vl(h,y){return In(h),y=Bs(h,y),h.g.has(y)}n.forEach=function(h,y){In(this),this.g.forEach(function(T,b){T.forEach(function(z){h.call(y,z,b,this)},this)},this)};function _l(h,y){In(h);let T=[];if(typeof y=="string")vl(h,y)&&(T=T.concat(h.g.get(Bs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return In(this),this.i=null,h=Bs(this,h),vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=_l(this,h),h.length>0?String(h[0]):y):y};function qa(h,y,T){pc(h,y),T.length>0&&(h.i=null,h.g.set(Bs(h,y),C(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const z=cs(T);T=_l(this,T);for(let H=0;H<T.length;H++){let lt=z;T[H]!==""&&(lt+="="+cs(T[H])),h.push(lt)}}return this.i=h.join("&")};function gc(h){const y=new js;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Bs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ha(h,y){y&&!h.j&&(In(h),h.i=null,h.g.forEach(function(T,b){const z=b.toLowerCase();b!=z&&(pc(this,b),qa(this,z,T))},h)),h.j=y}function mi(h,y){const T=new hi;if(c.Image){const b=new Image;b.onload=v(Qn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Qn,T,"TestLoadImage: error",!1,y,b),b.onabort=v(Qn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Qn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Tl(h,y){const T=new hi,b=new AbortController,z=setTimeout(()=>{b.abort(),Qn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(H=>{clearTimeout(z),H.ok?Qn(T,"TestPingServer: ok",!0,y):Qn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Qn(T,"TestPingServer: error",!1,y)})}function Qn(h,y,T,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(T)}catch{}}function Fs(){this.g=new ka}function Fi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Fi,xi),Fi.prototype.g=function(){return new $r(this.i,this.h)};function $r(h,y){Ft.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E($r,Ft),n=$r.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,pi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?qs(this):pi(this),this.readyState==3&&Ga(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,qs(this))},n.Na=function(h){this.g&&(this.response=h,qs(this))},n.ga=function(){this.g&&qs(this)};function qs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,pi(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let y="";return Rt(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Wr(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Xn(T),typeof h=="string"?T!=null&&cs(T):re(h,y,T))}function le(h){Ft.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(le,Ft);var qi=/^https?$/i,El=["POST","PUT"];n=le.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Zr(this,H);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)T.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())T.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(H=>H.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,y,void 0)>=0)||b||z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,lt]of T)this.g.setRequestHeader(H,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Zr(this,H)}};function Zr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Sl(h),hs(h)}function Sl(h){h.A||(h.A=!0,Ct(h,"complete"),Ct(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ct(this,"complete"),Ct(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},n.Xa=function(){Jr(this)};function Jr(h){if(h.h&&typeof u<"u"){if(h.v&&gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ct(h,"readystatechange"),gi(h)==4){h.h=!1;try{const H=h.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=H===0){let lt=String(h.D).match(fc)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),b=!qi.test(lt?lt.toLowerCase():"")}T=b}if(T)Ct(h,"complete"),Ct(h,"success");else{h.o=6;try{var z=gi(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Sl(h)}}finally{hs(h)}}}}function hs(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Ct(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ll(y)}};function on(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fs(h){const y={};h=(h.g&&gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var T=uc(h[b]);const z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const H=y[z]||[];y[z]=H,H.push(T)}kt(y,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Hs(h){this.za=0,this.i=[],this.j=new hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,h),this.Za=Hi("retryDelaySeedMs",1e4,h),this.Ta=Hi("forwardChannelMaxRetries",2,h),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Hs.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,b){ke(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Ac(this,null,this.W),Gi(this)};function Al(h){if(Ka(h),h.I==3){var y=h.V++,T=ze(h.J);if(re(T,"SID",h.M),re(T,"RID",y),re(T,"TYPE","terminate"),ta(h,T),y=new fi(h,h.j,y),y.M=2,y.A=Qr(ze(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=bc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ki(y)}Sc(h)}function Gs(h){h.g&&(wl(h),h.g.cancel(),h.g=null)}function Ka(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gi(h){if(!fl(h.h)&&!h.m){h.m=!0;var y=h.Ea;rt||w(),ct||(rt(),ct=!0),I.add(y,h),h.D=0}}function Ya(h,y){return zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ni(p(h.Ea,h,y),Ec(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new fi(this,this.j,h);let H=this.o;if(this.U&&(H?(H=N(H),ut(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=yc(this,z,y),T=ze(this.J),re(T,"RID",h),re(T,"CVER",22),this.G&&re(T,"X-HTTP-Session-Id",this.G),ta(this,T),H&&(this.R?y="headers="+cs(Xn(H))+"&"+y:this.u&&Wr(T,this.u,H)),dl(this.h,z),this.Ra&&re(T,"TYPE","init"),this.S?(re(T,"$req",y),re(T,"SID","null"),z.U=!0,Pi(z,T,null)):Pi(z,T,y),this.I=2}}else this.I==3&&(h?bl(this,h):this.i.length==0||fl(this.h)||bl(this))};function bl(h,y){var T;y?T=y.l:T=h.V++;const b=ze(h.J);re(b,"SID",h.M),re(b,"RID",T),re(b,"AID",h.K),ta(h,b),h.u&&h.o&&Wr(b,h.u,h.o),T=new fi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=yc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),dl(h.h,T),Pi(T,b,y)}function ta(h,y){h.H&&Rt(h.H,function(T,b){re(y,b,T)}),h.l&&Rt({},function(T,b){re(y,b,T)})}function yc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?p(h.l.Ka,h.l,h):null;t:{var z=h.i;let Nt=-1;for(;;){const xe=["count="+T];Nt==-1?T>0?(Nt=z[0].g,xe.push("ofs="+Nt)):Nt=0:xe.push("ofs="+Nt);let ee=!0;for(let Ee=0;Ee<T;Ee++){var H=z[Ee].g;const $n=z[Ee].map;if(H-=Nt,H<0)Nt=Math.max(0,z[Ee].g-100),ee=!1;else try{H="req"+H+"_"||"";try{var lt=$n instanceof Map?$n:Object.entries($n);for(const[Yi,yi]of lt){let vi=yi;m(yi)&&(vi=Di(yi)),xe.push(H+Yi+"="+encodeURIComponent(vi))}}catch(Yi){throw xe.push(H+"type="+encodeURIComponent("_badmap")),Yi}}catch{b&&b($n)}}if(ee){lt=xe.join("&");break t}}lt=void 0}return h=h.i.splice(0,T),y.G=h,lt}function vc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;rt||w(),ct||(rt(),ct=!0),I.add(y,h),h.A=0}}function ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ni(p(h.Da,h),Ec(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,_c(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ni(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Gs(this),_c(this))};function wl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function _c(h){h.g=new fi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=ze(h.na);re(y,"RID","rpc"),re(y,"SID",h.M),re(y,"AID",h.K),re(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&re(y,"TO",h.ia),re(y,"TYPE","xmlhttp"),ta(h,y),h.u&&h.o&&Wr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Qr(ze(y)),T.u=null,T.R=!0,za(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Gs(this),ea(this),ke(19))};function Qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Tc(h,y){var T=null;if(h.g==y){Qa(h),wl(h),h.g=null;var b=2}else if(ji(h.h,y))T=y.G,ml(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;b=Ua(),Ct(b,new Mi(b,T)),Gi(h)}else vc(h);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&Ya(h,y)||b==2&&ea(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),z){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Ec(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Ki(h,y){if(h.j.info("Error code "+y),y==2){var T=p(h.bb,h),b=h.Ua;const z=!b;b=new Ln(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||en(b,"https"),Qr(b),z?mi(b.toString(),T):Tl(b.toString(),T)}else ke(2);h.I=0,h.l&&h.l.pa(y),Sc(h),Ka(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Sc(h){if(h.I=0,h.ja=[],h.l){const y=pl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function Ac(h,y,T){var b=T instanceof Ln?ze(T):new Ln(T);if(b.g!="")y&&(b.g=y+"."+b.g),Us(b,b.u);else{var z=c.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const H=new Ln(null);b&&en(H,b),y&&(H.g=y),z&&Us(H,z),T&&(H.h=T),b=H}return T=h.G,y=h.wa,T&&y&&re(b,T,y),re(b,"VER",h.ka),ta(h,b),b}function bc(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new le(new Fi({ab:T})):new le(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ks(){}Ks.prototype.g=function(h,y){return new An(h,y)};function An(h,y){Ft.call(this),this.g=new Hs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ds(this)}E(An,Ft),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Al(this.g)},An.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Di(h),h=T);y.i.push(new Ue(y.Ya++,h)),y.I==3&&Gi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,An.Z.N.call(this)};function Rc(h){an.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Rc,an);function Cc(){Kn.call(this),this.status=1}E(Cc,Kn);function ds(h){this.g=h}E(ds,wc),ds.prototype.ra=function(){Ct(this.g,"a")},ds.prototype.qa=function(h){Ct(this.g,new Rc(h))},ds.prototype.pa=function(h){Ct(this.g,new Cc)},ds.prototype.oa=function(){Ct(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,xA=function(){return new Ks},DA=function(){return Ua()},IA=De,Qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Qh=Kr,ul.COMPLETE="complete",CA=ul,La.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",Ft.prototype.listen=Ft.prototype.J,du=La,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,RA=le}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let el="12.9.0";function vV(n){el=n}const Va=new Lg("@firebase/firestore");function Ro(){return Va.logLevel}function mt(n,...t){if(Va.logLevel<=Gt.DEBUG){const e=t.map(Yg);Va.debug(`Firestore (${el}): ${n}`,...e)}}function Os(n,...t){if(Va.logLevel<=Gt.ERROR){const e=t.map(Yg);Va.error(`Firestore (${el}): ${n}`,...e)}}function Ma(n,...t){if(Va.logLevel<=Gt.WARN){const e=t.map(Yg);Va.warn(`Firestore (${el}): ${n}`,...e)}}function Yg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function wt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,VA(n,r,e)}function VA(n,t,e){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Os(r),new Error(r)}function se(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||VA(t,o,r)}function Vt(n,t){return n}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Ls{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class MA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(_n.UNAUTHENTICATED)))}shutdown(){}}class TV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class EV{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){se(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let u=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ir,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ir)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string",31837,{l:r}),new MA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class SV{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AV{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new SV(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bV{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){se(this.o===void 0,3512);const r=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(se(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new hE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wV(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Qg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=wV(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function Xp(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return yp(o)===yp(u)?Kt(o,u):yp(o)?1:-1}return Kt(n.length,t.length)}const RV=55296,CV=57343;function yp(n){const t=n.charCodeAt(0);return t>=RV&&t<=CV}function Ho(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}const fE="__name__";class Ji{constructor(t,e,r){e===void 0?e=0:e>t.length&&wt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&wt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ji.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ji?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Ji.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Kt(t.length,e.length)}static compareSegments(t,e){const r=Ji.isNumericId(t),o=Ji.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Ji.extractNumericId(t).compare(Ji.extractNumericId(e)):Xp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class pe extends Ji{construct(t,e,r){return new pe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new pe(e)}static emptyPath(){return new pe([])}}const IV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Ji{construct(t,e,r){return new mn(t,e,r)}static isValidIdentifier(t){return IV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new mn([fE])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new dt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new dt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new dt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new dt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(e)}static emptyPath(){return new mn([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(pe.fromString(t))}static fromName(t){return new _t(pe.fromString(t).popFirst(5))}static empty(){return new _t(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new pe(t.slice()))}}function NA(n,t,e){if(!e)throw new dt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function DV(n,t,e,r){if(t===!0&&r===!0)throw new dt(et.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dE(n){if(!_t.isDocumentKey(n))throw new dt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mE(n){if(_t.isDocumentKey(n))throw new dt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ff(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt(12329,{type:typeof n})}function ns(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ff(n);throw new dt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Qe(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xu(n,t){if(!OA(n))throw new dt(et.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new dt(et.INVALID_ARGUMENT,e);return!0}const pE=-62135596800,gE=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*gE);return new _e(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<pE)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Qe("string",_e._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new _e(0,0))}static max(){return new Dt(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mu=-1;function xV(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new _e(e+1,0):new _e(e,r));return new Vr(o,_t.empty(),t)}function VV(n){return new Vr(n.readTime,n.key,Mu)}class Vr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Vr(Dt.min(),_t.empty(),Mu)}static max(){return new Vr(Dt.max(),_t.empty(),Mu)}}function MV(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:Kt(n.largestBatchId,t.largestBatchId))}const NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function nl(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==NV)throw n;mt("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.reject(e)}static resolve(t){return new nt(((e,r)=>{e(t)}))}static reject(t){return new nt(((e,r)=>{r(t)}))}static waitFor(t){return new nt(((e,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&e()}),(g=>r(g)))})),c=!0,u===o&&e()}))}static or(t){let e=nt.resolve(!1);for(const r of t)e=e.next((o=>o?nt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;e(t[p]).next((v=>{c[p]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,e){return new nt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function PV(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function il(n){return n.name==="IndexedDbTransactionError"}class qf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}qf.ce=-1;const Xg=-1;function Hf(n){return n==null}function yf(n){return n===0&&1/n==-1/0}function kV(n){return typeof n=="number"&&Number.isInteger(n)&&!yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const PA="";function LV(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=yE(t)),t=UV(n.get(e),t);return yE(t)}function UV(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case PA:e+="";break;default:e+=u}}return e}function yE(n){return n+PA+""}function vE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function kA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class be{constructor(t,e){this.comparator=t,this.root=e||dn.EMPTY}insert(t,e){return new be(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nh(this.root,t,this.comparator,!0)}}class Nh{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??dn.RED,this.left=o??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new dn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new dn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(t){return new _E(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ze(this.comparator);return e.data=t,e}}class _E{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Gn([])}unionWith(t){let e=new Ze(mn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Gn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ho(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}class LA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LA("Invalid base64 string: "+u):u}})(t);return new gn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new gn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const zV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(n){if(se(!!n,39018),typeof n=="string"){let t=0;const e=zV.exec(n);if(se(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nr(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}const UA="server_timestamp",zA="__type__",jA="__previous_value__",BA="__local_write_time__";function $g(n){return(n?.mapValue?.fields||{})[zA]?.stringValue===UA}function Gf(n){const t=n.mapValue.fields[jA];return $g(t)?Gf(t):t}function Nu(n){const t=Mr(n.mapValue.fields[BA].timestampValue);return new _e(t.seconds,t.nanos)}class jV{constructor(t,e,r,o,u,c,m,g,p,v,E){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=E}}const vf="(default)";class Ou{constructor(t,e){this.projectId=t,this.database=e||vf}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===vf}isEqual(t){return t instanceof Ou&&t.projectId===this.projectId&&t.database===this.database}}function BV(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new dt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(n.options.projectId,t)}const FA="__type__",FV="__max__",Oh={mapValue:{}},qA="__vector__",_f="value";function Or(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$g(n)?4:HV(n)?9007199254740991:qV(n)?10:11:wt(28295,{value:n})}function ls(n,t){if(n===t)return!0;const e=Or(n);if(e!==Or(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Nu(n).isEqual(Nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Mr(o.timestampValue),m=Mr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return Nr(o.bytesValue).isEqual(Nr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ne(o.doubleValue),m=Ne(u.doubleValue);return c===m?yf(c)===yf(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return Ho(n.arrayValue.values||[],t.arrayValue.values||[],ls);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(vE(c)!==vE(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!ls(c[g],m[g])))return!1;return!0})(n,t);default:return wt(52216,{left:n})}}function Pu(n,t){return(n.values||[]).find((e=>ls(e,t)))!==void 0}function Go(n,t){if(n===t)return 0;const e=Or(n),r=Or(t);if(e!==r)return Kt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Ne(u.integerValue||u.doubleValue),g=Ne(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(n,t);case 3:return TE(n.timestampValue,t.timestampValue);case 4:return TE(Nu(n),Nu(t));case 5:return Xp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=Nr(u),g=Nr(c);return m.compareTo(g)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Kt(m[p],g[p]);if(v!==0)return v}return Kt(m.length,g.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Kt(Ne(u.latitude),Ne(c.latitude));return m!==0?m:Kt(Ne(u.longitude),Ne(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return EE(n.arrayValue,t.arrayValue);case 10:return(function(u,c){const m=u.fields||{},g=c.fields||{},p=m[_f]?.arrayValue,v=g[_f]?.arrayValue,E=Kt(p?.values?.length||0,v?.values?.length||0);return E!==0?E:EE(p,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===Oh.mapValue&&c===Oh.mapValue)return 0;if(u===Oh.mapValue)return 1;if(c===Oh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let E=0;E<g.length&&E<v.length;++E){const S=Xp(g[E],v[E]);if(S!==0)return S;const C=Go(m[g[E]],p[v[E]]);if(C!==0)return C}return Kt(g.length,v.length)})(n.mapValue,t.mapValue);default:throw wt(23264,{he:e})}}function TE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Kt(n,t);const e=Mr(n),r=Mr(t),o=Kt(e.seconds,r.seconds);return o!==0?o:Kt(e.nanos,r.nanos)}function EE(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Go(e[o],r[o]);if(u)return u}return Kt(e.length,r.length)}function Ko(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Mr(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Nr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return _t.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=$p(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${$p(e.fields[c])}`;return o+"}"})(n.mapValue):wt(61005,{value:n})}function Xh(n){switch(Or(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gf(n);return t?16+Xh(t):16;case 5:return 2*n.stringValue.length;case 6:return Nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Xh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return zr(r.fields,((u,c)=>{o+=u.length+Xh(c)})),o})(n.mapValue);default:throw wt(13486,{value:n})}}function SE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Wp(n){return!!n&&"integerValue"in n}function Wg(n){return!!n&&"arrayValue"in n}function AE(n){return!!n&&"nullValue"in n}function bE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $h(n){return!!n&&"mapValue"in n}function qV(n){return(n?.mapValue?.fields||{})[FA]?.stringValue===qA}function Eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return zr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Eu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Eu(n.arrayValue.values[e]);return t}return{...n}}function HV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FV}class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!$h(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(e)}setAll(t){let e=mn.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!e.isImmediateParentOf(m)){const g=this.getFieldsMap(e);this.applyChanges(g,r,o),r={},o=[],e=m.popLast()}c?r[m.lastSegment()]=Eu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());$h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ls(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];$h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){zr(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Pn(Eu(this.value))}}function HA(n){const t=[];return zr(n.fields,((e,r)=>{const o=new mn([e]);if($h(r)){const u=HA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Gn(t)}class Tn{constructor(t,e,r,o,u,c,m){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Tn(t,0,Dt.min(),Dt.min(),Dt.min(),Pn.empty(),0)}static newFoundDocument(t,e,r,o){return new Tn(t,1,e,Dt.min(),r,o,0)}static newNoDocument(t,e){return new Tn(t,2,e,Dt.min(),Dt.min(),Pn.empty(),0)}static newUnknownDocument(t,e){return new Tn(t,3,e,Dt.min(),Dt.min(),Pn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tf{constructor(t,e){this.position=t,this.inclusive=e}}function wE(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=_t.comparator(_t.fromName(c.referenceValue),e.key):r=Go(c,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function RE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ls(n.position[e],t.position[e]))return!1;return!0}class Ef{constructor(t,e="asc"){this.field=t,this.dir=e}}function GV(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class GA{}class Ye extends GA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new YV(t,e,r):e==="array-contains"?new $V(t,r):e==="in"?new WV(t,r):e==="not-in"?new ZV(t,r):e==="array-contains-any"?new JV(t,r):new Ye(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new QV(t,r):new XV(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Go(e,this.value)):e!==null&&Or(this.value)===Or(e)&&this.matchesComparison(Go(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends GA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ii(t,e)}matches(t){return KA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KA(n){return n.op==="and"}function YA(n){return KV(n)&&KA(n)}function KV(n){for(const t of n.filters)if(t instanceof Ii)return!1;return!0}function Zp(n){if(n instanceof Ye)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(YA(n))return n.filters.map((t=>Zp(t))).join(",");{const t=n.filters.map((e=>Zp(e))).join(",");return`${n.op}(${t})`}}function QA(n,t){return n instanceof Ye?(function(r,o){return o instanceof Ye&&r.op===o.op&&r.field.isEqual(o.field)&&ls(r.value,o.value)})(n,t):n instanceof Ii?(function(r,o){return o instanceof Ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&QA(c,o.filters[m])),!0):!1})(n,t):void wt(19439)}function XA(n){return n instanceof Ye?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ko(e.value)}`})(n):n instanceof Ii?(function(e){return e.op.toString()+" {"+e.getFilters().map(XA).join(" ,")+"}"})(n):"Filter"}class YV extends Ye{constructor(t,e,r){super(t,e,r),this.key=_t.fromName(r.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class QV extends Ye{constructor(t,e){super(t,"in",e),this.keys=$A("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class XV extends Ye{constructor(t,e){super(t,"not-in",e),this.keys=$A("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function $A(n,t){return(t.arrayValue?.values||[]).map((e=>_t.fromName(e.referenceValue)))}class $V extends Ye{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Wg(e)&&Pu(e.arrayValue,this.value)}}class WV extends Ye{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Pu(this.value.arrayValue,e)}}class ZV extends Ye{constructor(t,e){super(t,"not-in",e)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Pu(this.value.arrayValue,e)}}class JV extends Ye{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Wg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Pu(this.value.arrayValue,r)))}}class tM{constructor(t,e=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function CE(n,t=null,e=[],r=[],o=null,u=null,c=null){return new tM(n,t,e,r,o,u,c)}function Zg(n){const t=Vt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Zp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Hf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Ko(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Ko(r))).join(",")),t.Te=e}return t.Te}function Jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!GV(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!QA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!RE(n.startAt,t.startAt)&&RE(n.endAt,t.endAt)}function Jp(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class $u{constructor(t,e=null,r=[],o=[],u=null,c="F",m=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eM(n,t,e,r,o,u,c,m){return new $u(n,t,e,r,o,u,c,m)}function ty(n){return new $u(n)}function IE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nM(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function WA(n){return n.collectionGroup!==null}function Su(n){const t=Vt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ze(mn.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ef(u,r))})),e.has(mn.keyField().canonicalString())||t.Ie.push(new Ef(mn.keyField(),r))}return t.Ie}function is(n){const t=Vt(n);return t.Ee||(t.Ee=iM(t,Su(n))),t.Ee}function iM(n,t){if(n.limitType==="F")return CE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ef(o.field,u)}));const e=n.endAt?new Tf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Tf(n.startAt.position,n.startAt.inclusive):null;return CE(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function tg(n,t){const e=n.filters.concat([t]);return new $u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Sf(n,t,e){return new $u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Kf(n,t){return Jg(is(n),is(t))&&n.limitType===t.limitType}function ZA(n){return`${Zg(is(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>XA(o))).join(", ")}]`),Hf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Ko(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Ko(o))).join(",")),`Target(${r})`})(is(n))}; limitType=${n.limitType})`}function Yf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_t.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Su(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const p=wE(c,m,g);return c.inclusive?p<=0:p<0})(r.startAt,Su(r),o)||r.endAt&&!(function(c,m,g){const p=wE(c,m,g);return c.inclusive?p>=0:p>0})(r.endAt,Su(r),o))})(n,t)}function sM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JA(n){return(t,e)=>{let r=!1;for(const o of Su(n)){const u=rM(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function rM(n,t,e){const r=n.field.isKeyField()?_t.comparator(t.key,e.key):(function(u,c,m){const g=c.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Go(g,p):wt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wt(19790,{direction:n.dir})}}class Oa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}const aM=new be(_t.comparator);function Ps(){return aM}const tb=new be(_t.comparator);function mu(...n){let t=tb;for(const e of n)t=t.insert(e.key,e);return t}function eb(n){let t=tb;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Ea(){return Au()}function nb(){return Au()}function Au(){return new Oa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const oM=new be(_t.comparator),lM=new Ze(_t.comparator);function Yt(...n){let t=lM;for(const e of n)t=t.add(e);return t}const uM=new Ze(Kt);function cM(){return uM}function ey(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(t)?"-0":t}}function ib(n){return{integerValue:""+n}}function hM(n,t){return kV(t)?ib(t):ey(n,t)}class Qf{constructor(){this._=void 0}}function fM(n,t,e){return n instanceof ku?(function(o,u){const c={fields:{[zA]:{stringValue:UA},[BA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$g(u)&&(u=Gf(u)),u&&(c.fields[jA]=u),{mapValue:c}})(e,t):n instanceof Lu?rb(n,t):n instanceof Uu?ab(n,t):(function(o,u){const c=sb(o,u),m=DE(c)+DE(o.Ae);return Wp(c)&&Wp(o.Ae)?ib(m):ey(o.serializer,m)})(n,t)}function dM(n,t,e){return n instanceof Lu?rb(n,t):n instanceof Uu?ab(n,t):e}function sb(n,t){return n instanceof Af?(function(r){return Wp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ku extends Qf{}class Lu extends Qf{constructor(t){super(),this.elements=t}}function rb(n,t){const e=ob(t);for(const r of n.elements)e.some((o=>ls(o,r)))||e.push(r);return{arrayValue:{values:e}}}class Uu extends Qf{constructor(t){super(),this.elements=t}}function ab(n,t){let e=ob(t);for(const r of n.elements)e=e.filter((o=>!ls(o,r)));return{arrayValue:{values:e}}}class Af extends Qf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function DE(n){return Ne(n.integerValue||n.doubleValue)}function ob(n){return Wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mM{constructor(t,e){this.field=t,this.transform=e}}function pM(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Lu&&o instanceof Lu||r instanceof Uu&&o instanceof Uu?Ho(r.elements,o.elements,ls):r instanceof Af&&o instanceof Af?ls(r.Ae,o.Ae):r instanceof ku&&o instanceof ku})(n.transform,t.transform)}class gM{constructor(t,e){this.version=t,this.transformResults=e}}class ss{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ss}static exists(t){return new ss(void 0,t)}static updateTime(t){return new ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Xf{}function lb(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new cb(n.key,ss.none()):new Wu(n.key,n.data,ss.none());{const e=n.data,r=Pn.empty();let o=new Ze(mn.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new jr(n.key,r,new Gn(o.toArray()),ss.none())}}function yM(n,t,e){n instanceof Wu?(function(o,u,c){const m=o.value.clone(),g=VE(o.fieldTransforms,u,c.transformResults);m.setAll(g),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):n instanceof jr?(function(o,u,c){if(!Wh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=VE(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(ub(o)),g.setAll(m),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(n,t,e):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function bu(n,t,e,r){return n instanceof Wu?(function(u,c,m,g){if(!Wh(u.precondition,c))return m;const p=u.value.clone(),v=ME(u.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,t,e,r):n instanceof jr?(function(u,c,m,g){if(!Wh(u.precondition,c))return m;const p=ME(u.fieldTransforms,g,c),v=c.data;return v.setAll(ub(u)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,t,e,r):(function(u,c,m){return Wh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,e)}function vM(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=sb(r.transform,o||null);u!=null&&(e===null&&(e=Pn.empty()),e.set(r.field,u))}return e||null}function xE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ho(r,o,((u,c)=>pM(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Wu extends Xf{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jr extends Xf{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ub(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function VE(n,t,e){const r=new Map;se(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,dM(c,m,e[o]))}return r}function ME(n,t,e){const r=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);r.set(o.field,fM(u,c,t))}return r}class cb extends Xf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _M extends Xf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TM{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&yM(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=bu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=bu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=nb();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=e.has(o.key)?null:m;const g=lb(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&Ho(this.mutations,t.mutations,((e,r)=>xE(e,r)))&&Ho(this.baseMutations,t.baseMutations,((e,r)=>xE(e,r)))}}class ny{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){se(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return oM})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new ny(t,e,r,o)}}class EM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SM{constructor(t,e){this.count=t,this.unchangedNames=e}}var He,Wt;function AM(n){switch(n){case et.OK:return wt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt(15467,{code:n})}}function hb(n){if(n===void 0)return Os("GRPC error has no .code"),et.UNKNOWN;switch(n){case He.OK:return et.OK;case He.CANCELLED:return et.CANCELLED;case He.UNKNOWN:return et.UNKNOWN;case He.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case He.INTERNAL:return et.INTERNAL;case He.UNAVAILABLE:return et.UNAVAILABLE;case He.UNAUTHENTICATED:return et.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case He.NOT_FOUND:return et.NOT_FOUND;case He.ALREADY_EXISTS:return et.ALREADY_EXISTS;case He.PERMISSION_DENIED:return et.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case He.ABORTED:return et.ABORTED;case He.OUT_OF_RANGE:return et.OUT_OF_RANGE;case He.UNIMPLEMENTED:return et.UNIMPLEMENTED;case He.DATA_LOSS:return et.DATA_LOSS;default:return wt(39323,{code:n})}}(Wt=He||(He={}))[Wt.OK=0]="OK",Wt[Wt.CANCELLED=1]="CANCELLED",Wt[Wt.UNKNOWN=2]="UNKNOWN",Wt[Wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wt[Wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wt[Wt.NOT_FOUND=5]="NOT_FOUND",Wt[Wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wt[Wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wt[Wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wt[Wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wt[Wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wt[Wt.ABORTED=10]="ABORTED",Wt[Wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wt[Wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wt[Wt.INTERNAL=13]="INTERNAL",Wt[Wt.UNAVAILABLE=14]="UNAVAILABLE",Wt[Wt.DATA_LOSS=15]="DATA_LOSS";function bM(){return new TextEncoder}const wM=new Cr([4294967295,4294967295],0);function NE(n){const t=bM().encode(n),e=new wA;return e.update(t),new Uint8Array(e.digest())}function OE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Cr([e,r],0),new Cr([o,u],0)]}class iy{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(r<0)throw new pu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Cr.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Cr.fromNumber(r)));return o.compare(wM)===1&&(o=new Cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=NE(t),[r,o]=OE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new iy(u,o,e);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const e=NE(t),[r,o]=OE(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $f{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,Zu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new $f(Dt.min(),o,new be(Kt),Ps(),Yt())}}class Zu{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Zu(r,e,Yt(),Yt(),Yt())}}class Zh{constructor(t,e,r,o){this.Se=t,this.removedTargetIds=e,this.key=r,this.De=o}}class fb{constructor(t,e){this.targetId=t,this.Ce=e}}class db{constructor(t,e,r=gn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class PE{constructor(){this.ve=0,this.Fe=kE(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Yt(),e=Yt(),r=Yt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:wt(38017,{changeType:u})}})),new Zu(this.Me,this.xe,t,e,r)}Ke(){this.Oe=!1,this.Fe=kE()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class RM{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ps(),this.He=Ph(),this.Je=Ph(),this.Ze=new be(Kt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Jp(u))if(r===0){const c=new _t(u.path);this.et(e,c,Tn.newNoDocument(c,Dt.min()))}else se(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const m=this.ut(t),g=m?this.ct(m,t,c):1;if(g!==0){this.it(e);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let c,m;try{c=Nr(r).toUint8Array()}catch(g){if(g instanceof LA)return Ma("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new iy(c,o,u)}catch(g){return Ma(g instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Jp(m.target)){const g=new _t(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Tn.newNoDocument(g,t))}u.Be&&(e.set(c,u.ke()),u.Ke())}}));let r=Yt();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new $f(t,e,this.Ze,this.je,r);return this.je=Ps(),this.He=Ph(),this.Je=Ph(),this.Ze=new be(Kt),o}Ye(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,r),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.qe(e,1):o.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new PE,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ze(Kt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ze(Kt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ph(){return new be(_t.comparator)}function kE(){return new be(_t.comparator)}const CM={asc:"ASCENDING",desc:"DESCENDING"},IM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DM={and:"AND",or:"OR"};class xM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function eg(n,t){return n.useProto3Json||Hf(t)?t:{value:t}}function bf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mb(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function VM(n,t){return bf(n,t.toTimestamp())}function rs(n){return se(!!n,49232),Dt.fromTimestamp((function(e){const r=Mr(e);return new _e(r.seconds,r.nanos)})(n))}function sy(n,t){return ng(n,t).canonicalString()}function ng(n,t){const e=(function(o){return new pe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function pb(n){const t=pe.fromString(n);return se(Tb(t),10190,{key:t.toString()}),t}function ig(n,t){return sy(n.databaseId,t.path)}function vp(n,t){const e=pb(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(yb(e))}function gb(n,t){return sy(n.databaseId,t)}function MM(n){const t=pb(n);return t.length===4?pe.emptyPath():yb(t)}function sg(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yb(n){return se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function LE(n,t,e){return{name:ig(n,t),fields:e.value.mapValue.fields}}function NM(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:wt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(se(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(se(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(p){const v=p.code===void 0?et.UNKNOWN:hb(p.code);return new dt(v,p.message||"")})(c);e=new db(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=vp(n,r.document.name),u=rs(r.document.updateTime),c=r.document.createTime?rs(r.document.createTime):Dt.min(),m=new Pn({mapValue:{fields:r.document.fields}}),g=Tn.newFoundDocument(o,u,c,m),p=r.targetIds||[],v=r.removedTargetIds||[];e=new Zh(p,v,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=vp(n,r.document),u=r.readTime?rs(r.readTime):Dt.min(),c=Tn.newNoDocument(o,u),m=r.removedTargetIds||[];e=new Zh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=vp(n,r.document),u=r.removedTargetIds||[];e=new Zh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new SM(o,u),m=r.targetId;e=new fb(m,c)}}return e}function OM(n,t){let e;if(t instanceof Wu)e={update:LE(n,t.key,t.value)};else if(t instanceof cb)e={delete:ig(n,t.key)};else if(t instanceof jr)e={update:LE(n,t.key,t.data),updateMask:qM(t.fieldMask)};else{if(!(t instanceof _M))return wt(16599,{dt:t.type});e={verify:ig(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Af)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw wt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:VM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)})(n,t.precondition)),e}function PM(n,t){return n&&n.length>0?(se(t!==void 0,14353),n.map((e=>(function(o,u){let c=o.updateTime?rs(o.updateTime):rs(u);return c.isEqual(Dt.min())&&(c=rs(u)),new gM(c,o.transformResults||[])})(e,t)))):[]}function kM(n,t){return{documents:[gb(n,t.path)]}}function LM(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=gb(n,o);const u=(function(p){if(p.length!==0)return _b(Ii.create(p,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const c=(function(p){if(p.length!==0)return p.map((v=>(function(S){return{field:Io(S.field),direction:jM(S.dir)}})(v)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const m=eg(n,t.limit);return m!==null&&(e.structuredQuery.limit=m),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:o}}function UM(n){let t=MM(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){se(r===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=(function(E){const S=vb(E);return S instanceof Ii&&YA(S)?S.getFilters():[S]})(e.where));let c=[];e.orderBy&&(c=(function(E){return E.map((S=>(function(P){return new Ef(Do(P.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(e.orderBy));let m=null;e.limit&&(m=(function(E){let S;return S=typeof E=="object"?E.value:E,Hf(S)?null:S})(e.limit));let g=null;e.startAt&&(g=(function(E){const S=!!E.before,C=E.values||[];return new Tf(C,S)})(e.startAt));let p=null;return e.endAt&&(p=(function(E){const S=!E.before,C=E.values||[];return new Tf(C,S)})(e.endAt)),eM(t,o,c,u,m,"F",g,p)}function zM(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function vb(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Do(e.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(e.unaryFilter.field);return Ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Do(e.unaryFilter.field);return Ye.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(e.unaryFilter.field);return Ye.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ye.create(Do(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ii.create(e.compositeFilter.filters.map((r=>vb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(e.compositeFilter.op))})(n):wt(30097,{filter:n})}function jM(n){return CM[n]}function BM(n){return IM[n]}function FM(n){return DM[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Do(n){return mn.fromServerFormat(n.fieldPath)}function _b(n){return n instanceof Ye?(function(e){if(e.op==="=="){if(bE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NAN"}};if(AE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NAN"}};if(AE(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(e.field),op:BM(e.op),value:e.value}}})(n):n instanceof Ii?(function(e){const r=e.getFilters().map((o=>_b(o)));return r.length===1?r[0]:{compositeFilter:{op:FM(e.op),filters:r}}})(n):wt(54877,{filter:n})}function qM(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Tb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Eb(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Er{constructor(t,e,r,o,u=Dt.min(),c=Dt.min(),m=gn.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HM{constructor(t){this.yt=t}}function GM(n){const t=UM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sf(t,t.limit,"L"):t}class KM{constructor(){this.Sn=new YM}addToCollectionParentIndex(t,e){return this.Sn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(Vr.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(Vr.min())}updateCollectionGroup(t,e,r){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class YM{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ze(pe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ze(pe.comparator)).toArray()}}const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(Sb,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Yo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Yo(0)}static ar(){return new Yo(-1)}}const zE="LruGarbageCollector",QM=1048576;function jE([n,t],[e,r]){const o=Kt(n,e);return o===0?Kt(t,r):o}class XM{constructor(t){this.Pr=t,this.buffer=new Ze(jE),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();jE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $M{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(zE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){il(e)?mt(zE,"Ignoring IndexedDB error during garbage collection: ",e):await nl(e)}await this.Ar(3e5)}))}}class WM{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(qf.ce);const r=new XM(e);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Vr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(UE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UE):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let r,o,u,c,m,g,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(t,r,e)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((E=>(p=Date.now(),Ro()<=Gt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function ZM(n,t){return new WM(n,t)}class JM{constructor(){this.changes=new Oa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?nt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eN{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&bu(r.mutation,o,Gn.empty(),_e.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,Yt()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=Yt()){const o=Ea();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let c=mu();return u.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Ea();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Yt())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{e.set(c,m)}))}))}computeViews(t,e,r,o){let u=Ps();const c=Au(),m=(function(){return Au()})();return e.forEach(((g,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof jr)?u=u.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),bu(v.mutation,p,v.mutation.getFieldMask(),_e.now())):c.set(p.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((p,v)=>c.set(p,v))),e.forEach(((p,v)=>m.set(p,new tN(v,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(t,e){const r=Au();let o=new be(((c,m)=>c-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=e.get(g);if(p===null)return;let v=r.get(g)||Gn.empty();v=m.applyToLocalView(p,v),r.set(g,v);const E=(o.get(m.batchId)||Yt()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,E=nb();v.forEach((S=>{if(!u.has(S)){const C=lb(e.get(S),r.get(S));C!==null&&E.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,E))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return nM(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):WA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):nt.resolve(Ea());let m=Mu,g=u;return c.next((p=>nt.forEach(p,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(t,p,u))).next((()=>this.computeViews(t,g,p,Yt()))).next((v=>({batchId:m,changes:eb(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next((r=>{let o=mu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(g=>{const p=(function(E,S){return new $u(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(e,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,r,o).next((v=>{v.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((c=>{u.forEach(((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Tn.newInvalidDocument(v)))}));let m=mu();return c.forEach(((g,p)=>{const v=u.get(g);v!==void 0&&bu(v.mutation,p,Gn.empty(),_e.now()),Yf(e,p)&&(m=m.insert(g,p))})),m}))}}class nN{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return nt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:rs(o.createTime)}})(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(o){return{name:o.name,query:GM(o.bundledQuery),readTime:rs(o.readTime)}})(e)),nt.resolve()}}class iN{constructor(){this.overlays=new be(_t.comparator),this.Lr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Ea();return nt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.bt(t,e,u)})),nt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(t,e,r){const o=Ea(),u=e.length+1,c=new _t(e.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new be(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let v=u.get(p.largestBatchId);v===null&&(v=Ea(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Ea(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return nt.resolve(m)}bt(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new EM(e,r));let u=this.Lr.get(e);u===void 0&&(u=Yt(),this.Lr.set(e,u)),this.Lr.set(e,u.add(r.key))}}class sN{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}class ry{constructor(){this.kr=new Ze(sn.Kr),this.qr=new Ze(sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const r=new sn(t,e);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Wr(new sn(t,e))}Qr(t,e){t.forEach((r=>this.removeReference(r,e)))}Gr(t){const e=new _t(new pe([])),r=new sn(e,t),o=new sn(e,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new _t(new pe([])),r=new sn(e,t),o=new sn(e,t+1);let u=Yt();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const e=new sn(t,0),r=this.kr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class sn{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return _t.comparator(t.key,e.key)||Kt(t.Hr,e.Hr)}static Ur(t,e){return Kt(t.Hr,e.Hr)||_t.comparator(t.key,e.key)}}class rN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ze(sn.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TM(u,e,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new sn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,e){return nt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.Xr(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Xg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new sn(e,0),o=new sn(e,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ze(Kt);return e.forEach((o=>{const u=new sn(o,0),c=new sn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;_t.isDocumentKey(u)||(u=u.child(""));const c=new sn(new _t(u),0);let m=new Ze(Kt);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),c),nt.resolve(this.Yr(m))}Yr(t){const e=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){se(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(e.mutations,(o=>{const u=new sn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,e){const r=new sn(e,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class aN{constructor(t){this.ti=t,this.docs=(function(){return new be(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return nt.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(e))}getEntries(t,e){let r=Ps();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ps();const c=e.path,m=new _t(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||MV(VV(v),r)<=0||(o.has(v.key)||Yf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){wt(9500)}ni(t,e){return nt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new oN(this)}getSize(t){return nt.resolve(this.size)}}class oN extends JM{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),nt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class lN{constructor(t){this.persistence=t,this.ri=new Oa((e=>Zg(e)),Jg),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.ii=0,this.si=new ry,this.targetCount=0,this.oi=Yo._r()}forEachTarget(t,e){return this.ri.forEach(((r,o)=>e(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.ii&&(this.ii=e),nt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Yo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.lr(e),nt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=e&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const r=this.ri.get(e)||null;return nt.resolve(r)}addMatchingKeys(t,e,r){return this.si.$r(e,r),nt.resolve()}removeMatchingKeys(t,e,r){this.si.Qr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.si.jr(e);return nt.resolve(r)}containsKey(t,e){return nt.resolve(this.si.containsKey(e))}}class Ab{constructor(t,e){this._i={},this.overlays={},this.ai=new qf(0),this.ui=!1,this.ui=!0,this.ci=new sN,this.referenceDelegate=t(this),this.li=new lN(this),this.indexManager=new KM,this.remoteDocumentCache=(function(o){return new aN(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new HM(e),this.Pi=new nN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new iN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this._i[t.toKey()];return r||(r=new rN(e,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,r){mt("MemoryPersistence","Starting transaction:",t);const o=new uN(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,e){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,e))))}}class uN extends OV{constructor(t){super(),this.currentSequenceNumber=t}}class ay{constructor(t){this.persistence=t,this.Ri=new ry,this.Ai=null}static Vi(t){return new ay(t)}get di(){if(this.Ai)return this.Ai;throw wt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.di.delete(r.toString()),nt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=_t.fromPath(r);return this.mi(t,o).next((u=>{u||e.removeEntry(o,Dt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((r=>{r?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return nt.or([()=>nt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class wf{constructor(t,e){this.persistence=t,this.fi=new Oa((r=>LV(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ZM(this,e)}static Vi(t,e){return new wf(t,e)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}pr(t){let e=0;return this.mr(t,(r=>{e++})).next((()=>e))}mr(t,e){return nt.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?nt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,e).next((m=>{m||(r++,u.removeEntry(c,Dt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Xh(t.data.value)),e}wr(t,e,r){return nt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.fi.get(e);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class oy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Ts=r,this.Is=o}static Es(t,e){let r=Yt(),o=Yt();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new oy(t,e.fromCache,r,o)}}class cN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Z2()?8:PV(Sn())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.gs(t,e).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,e,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new cN;return this.ys(t,e,c).next((m=>{if(u.result=m,this.As)return this.ws(t,e,c,m.size)}))})).next((()=>u.result))}ws(t,e,r,o){return r.documentReadCount<this.Vs?(Ro()<=Gt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Co(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Ro()<=Gt.DEBUG&&mt("QueryEngine","Query:",Co(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ro()<=Gt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Co(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,is(e))):nt.resolve())}gs(t,e){if(IE(e))return nt.resolve(null);let r=is(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=Sf(e,null,"F"),r=is(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Yt(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const p=this.bs(e,m);return this.Ss(e,p,c,g.readTime)?this.gs(t,Sf(e,null,"F")):this.Ds(t,p,e,g)}))))})))))}ps(t,e,r,o){return IE(e)||o.isEqual(Dt.min())?nt.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(e,u);return this.Ss(e,c,r,o)?nt.resolve(null):(Ro()<=Gt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(e)),this.Ds(t,c,e,xV(o,Mu)).next((m=>m)))}))}bs(t,e){let r=new Ze(JA(t));return e.forEach(((o,u)=>{Yf(t,u)&&(r=r.add(u))})),r}Ss(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,e,r){return Ro()<=Gt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Co(e)),this.fs.getDocumentsMatchingQuery(t,e,Vr.min(),r)}Ds(t,e,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const ly="LocalStore",fN=3e8;class dN{constructor(t,e,r,o){this.persistence=t,this.Cs=e,this.serializer=o,this.vs=new be(Kt),this.Fs=new Oa((u=>Zg(u)),Jg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function mN(n,t,e,r){return new dN(n,t,e,r)}async function bb(n,t){const e=Vt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Os(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let g=Yt();for(const p of o){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return e.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function pN(n,t){const e=Vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const E=p.batch,S=E.keys();let C=nt.resolve();return S.forEach((P=>{C=C.next((()=>v.getEntry(g,P))).next((U=>{const F=p.docVersions.get(P);se(F!==null,48541),U.version.compareTo(F)<0&&(E.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),v.addEntry(U)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Yt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function wb(n){const t=Vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function gN(n,t){const e=Vt(n),r=t.snapshotVersion;let o=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});o=e.vs;const m=[];t.targetChanges.forEach(((v,E)=>{const S=o.get(E);if(!S)return;m.push(e.li.removeMatchingKeys(u,v.removedDocuments,E).next((()=>e.li.addMatchingKeys(u,v.addedDocuments,E))));let C=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?C=C.withResumeToken(gn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(E,C),(function(U,F,G){return U.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=fN?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(S,C,v)&&m.push(e.li.updateTargetData(u,C))}));let g=Ps(),p=Yt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(yN(u,c,t.documentUpdates).next((v=>{g=v.Bs,p=v.Ls}))),!r.isEqual(Dt.min())){const v=e.li.getLastRemoteSnapshotVersion(u).next((E=>e.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return nt.waitFor(m).next((()=>c.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(e.vs=o,u)))}function yN(n,t,e){let r=Yt(),o=Yt();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=Ps();return e.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Dt.min())?(t.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),c=c.insert(m,g)):mt(ly,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:o}}))}function vN(n,t){const e=Vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Xg),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function _N(n,t){const e=Vt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.li.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):e.li.allocateTargetId(r).next((c=>(o=new Er(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.vs=e.vs.insert(r.targetId,r),e.Fs.set(t,r.targetId)),r}))}async function rg(n,t,e){const r=Vt(n),o=r.vs.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!il(c))throw c;mt(ly,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function BE(n,t,e){const r=Vt(n);let o=Dt.min(),u=Yt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,v){const E=Vt(g),S=E.Fs.get(v);return S!==void 0?nt.resolve(E.vs.get(S)):E.li.getTargetData(p,v)})(r,c,is(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,e?o:Dt.min(),e?u:Yt()))).next((m=>(TN(r,sM(t),m),{documents:m,ks:u})))))}function TN(n,t,e){let r=n.Ms.get(t)||Dt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class FE{constructor(){this.activeTargetIds=cM()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EN{constructor(){this.vo=new FE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,r){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new FE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SN{Mo(t){}shutdown(){}}const qE="ConnectivityMonitor";class HE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(qE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(qE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kh=null;function ag(){return kh===null?kh=(function(){return 268435456+Math.round(2147483648*Math.random())})():kh++,"0x"+kh.toString(16)}const _p="RestConnection",AN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bN{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===vf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,e,r,o,u){const c=ag(),m=this.Qo(t,e.toUriEncodedString());mt(_p,`Sending RPC '${t}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),v=Zo(p);return this.zo(t,m,g,r,v).then((E=>(mt(_p,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw Ma(_p,`RPC '${t}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}jo(t,e,r,o,u,c){return this.Wo(t,e,r,o,u)}Go(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,e){const r=AN[t];let o=`${this.qo}/v1/${e}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class wN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const vn="WebChannelConnection",cu=(n,t,e)=>{n.listen(t,(r=>{try{e(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class jo extends bN{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!jo.c_){const t=DA();cu(t,IA.STAT_EVENT,(e=>{e.stat===Qp.PROXY?mt(vn,"STAT_EVENT: detected buffering proxy"):e.stat===Qp.NOPROXY&&mt(vn,"STAT_EVENT: detected no buffering proxy")})),jo.c_=!0}}zo(t,e,r,o,u){const c=ag();return new Promise(((m,g)=>{const p=new RA;p.setWithCredentials(!0),p.listenOnce(CA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Qh.NO_ERROR:const E=p.getResponseJson();mt(vn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),m(E);break;case Qh.TIMEOUT:mt(vn,`RPC '${t}' ${c} timed out`),g(new dt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const S=p.getStatus();if(mt(vn,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C?.error;if(P&&P.status&&P.message){const U=(function(G){const Y=G.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Y)>=0?Y:et.UNKNOWN})(P.status);g(new dt(U,P.message))}else g(new dt(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new dt(et.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{mt(vn,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);mt(vn,`RPC '${t}' ${c} sending request:`,o),p.send(e,"POST",v,r,15)}))}T_(t,e,r){const o=ag(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const p=u.join("");mt(vn,`Creating RPC '${t}' stream ${o}: ${p}`,m);const v=c.createWebChannel(p,m);this.I_(v);let E=!1,S=!1;const C=new wN({Ho:P=>{S?mt(vn,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(E||(mt(vn,`Opening RPC '${t}' stream ${o} transport.`),v.open(),E=!0),mt(vn,`RPC '${t}' stream ${o} sending:`,P),v.send(P))},Jo:()=>v.close()});return cu(v,du.EventType.OPEN,(()=>{S||(mt(vn,`RPC '${t}' stream ${o} transport opened.`),C.i_())})),cu(v,du.EventType.CLOSE,(()=>{S||(S=!0,mt(vn,`RPC '${t}' stream ${o} transport closed`),C.o_(),this.E_(v))})),cu(v,du.EventType.ERROR,(P=>{S||(S=!0,Ma(vn,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),C.o_(new dt(et.UNAVAILABLE,"The operation could not be completed")))})),cu(v,du.EventType.MESSAGE,(P=>{if(!S){const U=P.data[0];se(!!U,16349);const F=U,G=F?.error||F[0]?.error;if(G){mt(vn,`RPC '${t}' stream ${o} received error:`,G);const Y=G.status;let Q=(function(ct){const I=He[ct];if(I!==void 0)return hb(I)})(Y),it=G.message;Y==="NOT_FOUND"&&it.includes("database")&&it.includes("does not exist")&&it.includes(this.databaseId.database)&&Ma(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Q===void 0&&(Q=et.INTERNAL,it="Unknown error status: "+Y+" with message "+G.message),S=!0,C.o_(new dt(Q,it)),v.close()}else mt(vn,`RPC '${t}' stream ${o} received:`,U),C.__(U)}})),jo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,r){super.Go(t,e,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xA()}}function RN(n){return new jo(n)}function Tp(){return typeof document<"u"?document:null}function Wf(n){return new xM(n,!0)}jo.c_=!1;class Rb{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=e,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const GE="PersistentStream";class Cb{constructor(t,e,r,o,u,c,m,g){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rb(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===et.RESOURCE_EXHAUSTED?(Os(e.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new dt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(GE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(mt(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CN extends Cb{constructor(t,e,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=NM(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Dt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Dt.min():c.readTime?rs(c.readTime):Dt.min()})(t);return this.listener.J_(e,r)}Z_(t){const e={};e.database=sg(this.serializer),e.addTarget=(function(u,c){let m;const g=c.target;if(m=Jp(g)?{documents:kM(u,g)}:{query:LM(u,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=mb(u,c.resumeToken);const p=eg(u,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(Dt.min())>0){m.readTime=bf(u,c.snapshotVersion.toTimestamp());const p=eg(u,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,t);const r=zM(this.serializer,t);r&&(e.labels=r),this.K_(e)}X_(t){const e={};e.database=sg(this.serializer),e.removeTarget=t,this.K_(e)}}class IN extends Cb{constructor(t,e,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=PM(t.writeResults,t.commitTime),r=rs(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=sg(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>OM(this.serializer,r)))};this.K_(e)}}class DN{}class xN extends DN{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,ng(e,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(et.UNKNOWN,u.toString())}))}jo(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,ng(e,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VN(n,t,e,r){return new xN(n,t,e,r)}class MN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(e),this.aa=!1):mt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Na="RemoteStore";class NN{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Pa(this)&&(mt(Na,"Restarting streams for network reachability change."),await(async function(g){const p=Vt(g);p.Ea.add(4),await Ju(p),p.Va.set("Unknown"),p.Ea.delete(4),await Zf(p)})(this))}))})),this.Va=new MN(r,o)}}async function Zf(n){if(Pa(n))for(const t of n.Ra)await t(!0)}async function Ju(n){for(const t of n.Ra)await t(!1)}function Ib(n,t){const e=Vt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),fy(e)?hy(e):sl(e).O_()&&cy(e,t))}function uy(n,t){const e=Vt(n),r=sl(e);e.Ia.delete(t),r.O_()&&Db(e,t),e.Ia.size===0&&(r.O_()?r.L_():Pa(e)&&e.Va.set("Unknown"))}function cy(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}sl(n).Z_(t)}function Db(n,t){n.da.$e(t),sl(n).X_(t)}function hy(n){n.da=new RM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.Va.ua()}function fy(n){return Pa(n)&&!sl(n).x_()&&n.Ia.size>0}function Pa(n){return Vt(n).Ea.size===0}function xb(n){n.da=void 0}async function ON(n){n.Va.set("Online")}async function PN(n){n.Ia.forEach(((t,e)=>{cy(n,t)}))}async function kN(n,t){xb(n),fy(n)?(n.Va.ha(t),hy(n)):n.Va.set("Unknown")}async function LN(n,t,e){if(n.Va.set("Online"),t instanceof db&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){mt(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Rf(n,r)}else if(t instanceof Zh?n.da.Xe(t):t instanceof fb?n.da.st(t):n.da.tt(t),!e.isEqual(Dt.min()))try{const r=await wb(n.localStore);e.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),Db(u,g);const E=new Er(v.target,g,p,v.sequenceNumber);cy(u,E)})),u.remoteSyncer.applyRemoteEvent(m)})(n,e)}catch(r){mt(Na,"Failed to raise snapshot:",r),await Rf(n,r)}}async function Rf(n,t,e){if(!il(t))throw t;n.Ea.add(1),await Ju(n),n.Va.set("Offline"),e||(e=()=>wb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(Na,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Zf(n)}))}function Vb(n,t){return t().catch((e=>Rf(n,e,t)))}async function Jf(n){const t=Vt(n),e=Pr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xg;for(;UN(t);)try{const o=await vN(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,zN(t,o)}catch(o){await Rf(t,o)}Mb(t)&&Nb(t)}function UN(n){return Pa(n)&&n.Ta.length<10}function zN(n,t){n.Ta.push(t);const e=Pr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function Mb(n){return Pa(n)&&!Pr(n).x_()&&n.Ta.length>0}function Nb(n){Pr(n).start()}async function jN(n){Pr(n).ra()}async function BN(n){const t=Pr(n);for(const e of n.Ta)t.ea(e.mutations)}async function FN(n,t,e){const r=n.Ta.shift(),o=ny.from(r,t,e);await Vb(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Jf(n)}async function qN(n,t){t&&Pr(n).Y_&&await(async function(r,o){if((function(c){return AM(c)&&c!==et.ABORTED})(o.code)){const u=r.Ta.shift();Pr(r).B_(),await Vb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jf(r)}})(n,t),Mb(n)&&Nb(n)}async function KE(n,t){const e=Vt(n);e.asyncQueue.verifyOperationInProgress(),mt(Na,"RemoteStore received new credentials");const r=Pa(e);e.Ea.add(3),await Ju(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Zf(e)}async function HN(n,t){const e=Vt(n);t?(e.Ea.delete(2),await Zf(e)):t||(e.Ea.add(2),await Ju(e),e.Va.set("Unknown"))}function sl(n){return n.ma||(n.ma=(function(e,r,o){const u=Vt(e);return u.sa(),new CN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:ON.bind(null,n),Yo:PN.bind(null,n),t_:kN.bind(null,n),J_:LN.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),fy(n)?hy(n):n.Va.set("Unknown")):(await n.ma.stop(),xb(n))}))),n.ma}function Pr(n){return n.fa||(n.fa=(function(e,r,o){const u=Vt(e);return u.sa(),new IN(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:jN.bind(null,n),t_:qN.bind(null,n),ta:BN.bind(null,n),na:FN.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Jf(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(Na,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class dy{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const c=Date.now()+r,m=new dy(t,e,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(n,t){if(Os("AsyncQueue",`${t}: ${n}`),il(n))return new dt(et.UNAVAILABLE,`${t}: ${n}`);throw n}class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||_t.comparator(e.key,r.key):(e,r)=>_t.comparator(e.key,r.key),this.keyedMap=mu(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class YE{constructor(){this.ga=new be(_t.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):wt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Qo{constructor(t,e,r,o,u,c,m,g,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,e,r,o,u){const c=[];return e.forEach((m=>{c.push({type:0,doc:m})})),new Qo(t,e,Bo.emptySet(e),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class GN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KN{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Vt(e),u=o.queries;o.queries=QE(),u.forEach(((c,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new dt(et.ABORTED,"Firestore shutting down"))}}function QE(){return new Oa((n=>ZA(n)),Kf)}async function Ob(n,t){const e=Vt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new GN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const m=my(c,`Initialization of query '${Co(t.query)}' failed`);return void t.onError(m)}e.queries.set(o,u),u.ba.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&py(e)}async function Pb(n,t){const e=Vt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function YN(n,t){const e=Vt(n);let r=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&py(e)}function QN(n,t,e){const r=Vt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(e);r.queries.delete(t)}function py(n){n.Ca.forEach((t=>{t.next()}))}var og,XE;(XE=og||(og={})).Ma="default",XE.Cache="cache";class kb{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Qo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==og.Cache}}class Lb{constructor(t){this.key=t}}class Ub{constructor(t){this.key=t}}class XN{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Yt(),this.mutatedKeys=Yt(),this.eu=JA(t),this.tu=new Bo(this.eu)}get nu(){return this.Za}ru(t,e){const r=e?e.iu:new YE,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,E)=>{const S=o.get(v),C=Yf(this.query,E)?E:null,P=!!S&&this.mutatedKeys.has(S.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;S&&C?S.data.isEqual(C.data)?P!==U&&(r.track({type:3,doc:C}),F=!0):this.su(S,C)||(r.track({type:2,doc:C}),F=!0,(g&&this.eu(C,g)>0||p&&this.eu(C,p)<0)&&(m=!0)):!S&&C?(r.track({type:0,doc:C}),F=!0):S&&!C&&(r.track({type:1,doc:S}),F=!0,(g||p)&&(m=!0)),F&&(C?(c=c.add(C),u=U?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,E)=>(function(C,P){const U=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:F})}};return U(C)-U(P)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=e&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new Qo(this.query,t.tu,u,c,t.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const e=[];return t.forEach((r=>{this.Ya.has(r)||e.push(new Ub(r))})),this.Ya.forEach((r=>{t.has(r)||e.push(new Lb(r))})),e}cu(t){this.Za=t.ks,this.Ya=Yt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const gy="SyncEngine";class $N{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class WN{constructor(t){this.key=t,this.hu=!1}}class ZN{constructor(t,e,r,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Oa((m=>ZA(m)),Kf),this.Iu=new Map,this.Eu=new Set,this.Ru=new be(_t.comparator),this.Au=new Map,this.Vu=new ry,this.du={},this.mu=new Map,this.fu=Yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JN(n,t,e=!0){const r=Hb(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zb(r,t,e,!0),o}async function tO(n,t){const e=Hb(n);await zb(e,t,!0,!1)}async function zb(n,t,e,r){const o=await _N(n.localStore,is(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let m;return r&&(m=await eO(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&Ib(n.remoteStore,o),m}async function eO(n,t,e,r,o){n.pu=(E,S,C)=>(async function(U,F,G,Y){let Q=F.view.ru(G);Q.Ss&&(Q=await BE(U.localStore,F.query,!1).then((({documents:I})=>F.view.ru(I,Q))));const it=Y&&Y.targetChanges.get(F.targetId),rt=Y&&Y.targetMismatches.get(F.targetId)!=null,ct=F.view.applyChanges(Q,U.isPrimaryClient,it,rt);return WE(U,F.targetId,ct.au),ct.snapshot})(n,E,S,C);const u=await BE(n.localStore,t,!0),c=new XN(t,u.ks),m=c.ru(u.documents),g=Zu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),p=c.applyChanges(m,n.isPrimaryClient,g);WE(n,e,p.au);const v=new $N(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function nO(n,t,e){const r=Vt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!Kf(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&uy(r.remoteStore,o.targetId),lg(r,o.targetId)})).catch(nl)):(lg(r,o.targetId),await rg(r.localStore,o.targetId,!0))}async function iO(n,t){const e=Vt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),uy(e.remoteStore,r.targetId))}async function sO(n,t,e){const r=hO(n);try{const o=await(function(c,m){const g=Vt(c),p=_e.now(),v=m.reduce(((C,P)=>C.add(P.key)),Yt());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let P=Ps(),U=Yt();return g.xs.getEntries(C,v).next((F=>{P=F,P.forEach(((G,Y)=>{Y.isValidDocument()||(U=U.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,P))).next((F=>{E=F;const G=[];for(const Y of m){const Q=vM(Y,E.get(Y.key).overlayedDocument);Q!=null&&G.push(new jr(Y.key,Q,HA(Q.value.mapValue),ss.exists(!0)))}return g.mutationQueue.addMutationBatch(C,p,G,m)})).next((F=>{S=F;const G=F.applyToLocalDocumentSet(E,U);return g.documentOverlayCache.saveOverlays(C,F.batchId,G)}))})).then((()=>({batchId:S.batchId,changes:eb(E)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let p=c.du[c.currentUser.toKey()];p||(p=new be(Kt)),p=p.insert(m,g),c.du[c.currentUser.toKey()]=p})(r,o.batchId,e),await tc(r,o.changes),await Jf(r.remoteStore)}catch(o){const u=my(o,"Failed to persist write");e.reject(u)}}async function jb(n,t){const e=Vt(n);try{const r=await gN(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=e.Au.get(u);c&&(se(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?se(c.hu,14607):o.removedDocuments.size>0&&(se(c.hu,42227),c.hu=!1))})),await tc(e,r,t)}catch(r){await nl(r)}}function $E(n,t,e){const r=Vt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=Vt(c);g.onlineState=m;let p=!1;g.queries.forEach(((v,E)=>{for(const S of E.ba)S.va(m)&&(p=!0)})),p&&py(g)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rO(n,t,e){const r=Vt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new be(_t.comparator);c=c.insert(u,Tn.newNoDocument(u,Dt.min()));const m=Yt().add(u),g=new $f(Dt.min(),new Map,new be(Kt),c,m);await jb(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(t),yy(r)}else await rg(r.localStore,t,!1).then((()=>lg(r,t,e))).catch(nl)}async function aO(n,t){const e=Vt(n),r=t.batch.batchId;try{const o=await pN(e.localStore,t);Fb(e,r,null),Bb(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await tc(e,o)}catch(o){await nl(o)}}async function oO(n,t,e){const r=Vt(n);try{const o=await(function(c,m){const g=Vt(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((E=>(se(E!==null,37113),v=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(r.localStore,t);Fb(r,t,e),Bb(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await tc(r,o)}catch(o){await nl(o)}}function Bb(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Fb(n,t,e){const r=Vt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function lg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||qb(n,r)}))}function qb(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(uy(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),yy(n))}function WE(n,t,e){for(const r of e)r instanceof Lb?(n.Vu.addReference(r.key,t),lO(n,r)):r instanceof Ub?(mt(gy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||qb(n,r.key)):wt(19791,{wu:r})}function lO(n,t){const e=t.key,r=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(r)||(mt(gy,"New document in limbo: "+e),n.Eu.add(r),yy(n))}function yy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new _t(pe.fromString(t)),r=n.fu.next();n.Au.set(r,new WN(e)),n.Ru=n.Ru.insert(e,r),Ib(n.remoteStore,new Er(is(ty(e.path)),r,"TargetPurposeLimboResolution",qf.ce))}}async function tc(n,t,e){const r=Vt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,t,e).then((p=>{if((p||e)&&r.isPrimaryClient){const v=p?!p.fromCache:e?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=oy.Es(g.targetId,p);u.push(v)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(g,p){const v=Vt(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>nt.forEach(p,(S=>nt.forEach(S.Ts,(C=>v.persistence.referenceDelegate.addReference(E,S.targetId,C))).next((()=>nt.forEach(S.Is,(C=>v.persistence.referenceDelegate.removeReference(E,S.targetId,C)))))))))}catch(E){if(!il(E))throw E;mt(ly,"Failed to update sequence numbers: "+E)}for(const E of p){const S=E.targetId;if(!E.fromCache){const C=v.vs.get(S),P=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(P);v.vs=v.vs.insert(S,U)}}})(r.localStore,u))}async function uO(n,t){const e=Vt(n);if(!e.currentUser.isEqual(t)){mt(gy,"User change. New user:",t.toKey());const r=await bb(e.localStore,t);e.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new dt(et.CANCELLED,c))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tc(e,r.Ns)}}function cO(n,t){const e=Vt(n),r=e.Au.get(t);if(r&&r.hu)return Yt().add(r.key);{let o=Yt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const m=e.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Hb(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rO.bind(null,t),t.Pu.J_=YN.bind(null,t.eventManager),t.Pu.yu=QN.bind(null,t.eventManager),t}function hO(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oO.bind(null,t),t}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return mN(this.persistence,new hN,t.initialUser,this.serializer)}Cu(t){return new Ab(ay.Vi,this.serializer)}Du(t){return new EN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class fO extends Cf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){se(this.persistence.referenceDelegate instanceof wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $M(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new Ab((r=>wf.Vi(r,e)),this.serializer)}}class ug{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await HN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KN})()}createDatastore(t){const e=Wf(t.databaseInfo.databaseId),r=RN(t.databaseInfo);return VN(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,c,m){return new NN(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(e=>$E(this.syncEngine,e,0)),(function(){return HE.v()?new HE:new SN})())}createSyncEngine(t,e){return(function(o,u,c,m,g,p,v){const E=new ZN(o,u,c,m,g,p);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=Vt(e);mt(Na,"RemoteStore shutting down."),r.Ea.add(5),await Ju(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};class Gb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const kr="FirestoreClient";class dO{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this._databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{mt(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(mt(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=my(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ep(n,t){n.asyncQueue.verifyOperationInProgress(),mt(kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await bb(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function ZE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await mO(n);mt(kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>KE(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>KE(t.remoteStore,o))),n._onlineComponents=t}async function mO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(kr,"Using user provided OfflineComponentProvider");try{await Ep(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Ma("Error using user provided cache. Falling back to memory cache: "+e),await Ep(n,new Cf)}}else mt(kr,"Using default OfflineComponentProvider"),await Ep(n,new fO(void 0));return n._offlineComponents}async function Kb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(kr,"Using user provided OnlineComponentProvider"),await ZE(n,n._uninitializedComponentsProvider._online)):(mt(kr,"Using default OnlineComponentProvider"),await ZE(n,new ug))),n._onlineComponents}function pO(n){return Kb(n).then((t=>t.syncEngine))}async function cg(n){const t=await Kb(n),e=t.eventManager;return e.onListen=JN.bind(null,t.syncEngine),e.onUnlisten=nO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=tO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=iO.bind(null,t.syncEngine),e}function gO(n,t,e,r){const o=new Gb(r),u=new kb(t,o,e);return n.asyncQueue.enqueueAndForget((async()=>Ob(await cg(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>Pb(await cg(n),u)))}}function yO(n,t,e={}){const r=new Ir;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,g,p){const v=new Gb({next:S=>{v.Nu(),c.enqueueAndForget((()=>Pb(u,E))),S.fromCache&&g.source==="server"?p.reject(new dt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new kb(m,v,{includeMetadataChanges:!0,Ka:!0});return Ob(u,E)})(await cg(n),n.asyncQueue,t,e,r))),r.promise}function vO(n,t){const e=new Ir;return n.asyncQueue.enqueueAndForget((async()=>sO(await pO(n),t,e))),e.promise}function Yb(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const _O="ComponentProvider",JE=new Map;function TO(n,t,e,r,o){return new jV(n,t,e,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Yb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Qb="firestore.googleapis.com",t1=!0;class e1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qb,this.ssl=t1}else this.host=t.host,this.ssl=t.ssl??t1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QM)throw new dt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yb(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _V;switch(r.type){case"firstParty":return new AV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=JE.get(e);r&&(mt(_O,"Removing Datastore"),JE.delete(e),r.terminate())})(this),Promise.resolve()}}function EO(n,t,e,r={}){n=ns(n,td);const o=Zo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${e}`;o&&(zS(`https://${m}`),jS("Firestore",!0)),u.host!==Qb&&u.host!==m&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Ia(g,c)&&(n._setSettings(g),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=_n.MOCK_USER;else{p=q2(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new dt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new _n(E)}n._authCredentials=new TV(new MA(p,v))}}class Br{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Br(this.firestore,t,this._query)}}class Oe{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Xu(e,Oe._jsonSchema))return new Oe(t,r||null,new _t(pe.fromString(e.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Qe("string",Oe._jsonSchemaVersion),referencePath:Qe("string")};class Dr extends Br{constructor(t,e,r){super(t,e,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new _t(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function n1(n,t,...e){if(n=pn(n),NA("collection","path",t),n instanceof td){const r=pe.fromString(t,...e);return mE(r),new Dr(n,null,r)}{if(!(n instanceof Oe||n instanceof Dr))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pe.fromString(t,...e));return mE(r),new Dr(n.firestore,null,r)}}function Lh(n,t,...e){if(n=pn(n),arguments.length===1&&(t=Qg.newId()),NA("doc","path",t),n instanceof td){const r=pe.fromString(t,...e);return dE(r),new Oe(n,null,new _t(r))}{if(!(n instanceof Oe||n instanceof Dr))throw new dt(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pe.fromString(t,...e));return dE(r),new Oe(n.firestore,n instanceof Dr?n.converter:null,new _t(r))}}const i1="AsyncQueue";class s1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rb(this,"async_queue_retry"),this._c=()=>{const r=Tp();r&&mt(i1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Tp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!il(t))throw t;mt(i1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",r1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=dy.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&wt(47125,{Pc:r1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function r1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Xo extends td{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new s1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new s1(t),this._firestoreClient=void 0,await t}}}function SO(n,t){const e=typeof n=="object"?n:HS(),r=typeof n=="string"?n:vf,o=zg(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=B2("firestore");u&&EO(o,...u)}return o}function vy(n){if(n._terminated)throw new dt(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AO(n),n._firestoreClient}function AO(n){const t=n._freezeSettings(),e=TO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new dO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}class ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ri(gn.fromBase64String(t))}catch(e){throw new dt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ri(gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,ri._jsonSchema))return ri.fromBase64String(t.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Qe("string",ri._jsonSchemaVersion),bytes:Qe("string")};class _y{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new dt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ed{constructor(t){this._methodName=t}}class as{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,as._jsonSchema))return new as(t.latitude,t.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Qe("string",as._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};class Ri{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ri(t.vectorValues);throw new dt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Qe("string",Ri._jsonSchemaVersion),vectorValues:Qe("object")};const bO=/^__.*__$/;class wO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Wu(t,this.data,e,this.fieldTransforms)}}class Xb{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $b(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{dataSource:n})}}class Ty{constructor(t,e,r,o,u,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ty({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const e=this.path?.child(t),r=this.contextWith({path:e,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return If(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($b(this.dataSource)&&bO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class RO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Wf(t)}createContext(t,e,r,o=!1){return new Ty({dataSource:t,methodName:e,targetDoc:r,path:mn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(n){const t=n._freezeSettings(),e=Wf(n._databaseId);return new RO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function CO(n,t,e,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,e,o);Ay("Data must be an object, but it was:",c,r);const m=Wb(r,c);let g,p;if(u.merge)g=new Gn(c.fieldMask),p=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=$o(t,E,e);if(!c.contains(S))throw new dt(et.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);tw(v,S)||v.push(S)}g=new Gn(v),p=c.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=c.fieldTransforms;return new wO(new Pn(m),g,p)}class nd extends ed{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nd}}class Sy extends ed{_toFieldTransform(t){return new mM(t.path,new ku)}isEqual(t){return t instanceof Sy}}function IO(n,t,e,r){const o=n.createContext(1,t,e);Ay("Data must be an object, but it was:",o,r);const u=[],c=Pn.empty();zr(r,((g,p)=>{const v=Jb(t,g,e);p=pn(p);const E=o.childContextForFieldPath(v);if(p instanceof nd)u.push(v);else{const S=ec(p,E);S!=null&&(u.push(v),c.set(v,S))}}));const m=new Gn(u);return new Xb(c,m,o.fieldTransforms)}function DO(n,t,e,r,o,u){const c=n.createContext(1,t,e),m=[$o(t,r,e)],g=[o];if(u.length%2!=0)throw new dt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push($o(t,u[S])),g.push(u[S+1]);const p=[],v=Pn.empty();for(let S=m.length-1;S>=0;--S)if(!tw(p,m[S])){const C=m[S];let P=g[S];P=pn(P);const U=c.childContextForFieldPath(C);if(P instanceof nd)p.push(C);else{const F=ec(P,U);F!=null&&(p.push(C),v.set(C,F))}}const E=new Gn(p);return new Xb(v,E,c.fieldTransforms)}function xO(n,t,e,r=!1){return ec(e,n.createContext(r?4:3,t))}function ec(n,t){if(Zb(n=pn(n)))return Ay("Unsupported field value:",t,n),Wb(n,t);if(n instanceof ed)return(function(r,o){if(!$b(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let g=ec(m,o.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=_e.fromDate(r);return{timestampValue:bf(o.serializer,u)}}if(r instanceof _e){const u=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(o.serializer,u)}}if(r instanceof as)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:mb(o.serializer,r._byteString)};if(r instanceof Oe){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ri)return(function(c,m){const g=c instanceof Ri?c.toArray():c;return{mapValue:{fields:{[FA]:{stringValue:qA},[_f]:{arrayValue:{values:g.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return ey(m.serializer,v)}))}}}}}})(r,o);if(Eb(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ff(r)}`)})(n,t)}function Wb(n,t){const e={};return kA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(n,((r,o)=>{const u=ec(o,t.childContextForField(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function Zb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _e||n instanceof as||n instanceof ri||n instanceof Oe||n instanceof ed||n instanceof Ri||Eb(n))}function Ay(n,t,e){if(!Zb(e)||!OA(e)){const r=Ff(e);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function $o(n,t,e){if((t=pn(t))instanceof _y)return t._internalPath;if(typeof t=="string")return Jb(n,t);throw If("Field path arguments must be of type string or ",n,!1,void 0,e)}const VO=new RegExp("[~\\*/\\[\\]]");function Jb(n,t,e){if(t.search(VO)>=0)throw If(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _y(...t.split("."))._internalPath}catch{throw If(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function If(n,t,e,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new dt(et.INVALID_ARGUMENT,m+n+g)}function tw(n,t){return n.some((e=>e.isEqual(t)))}class MO{convertValue(t,e="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return zr(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){const e=t.fields?.[_f].arrayValue?.values?.map((r=>Ne(r.doubleValue)));return new Ri(e)}convertGeoPoint(t){return new as(Ne(t.latitude),Ne(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Gf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const e=Mr(t);return new _e(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=pe.fromString(t);se(Tb(r),9688,{name:t});const o=new Ou(r.get(1),r.get(3)),u=new _t(r.popFirst(5));return o.isEqual(e)||Os(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}class by extends MO{constructor(t){super(),this.firestore=t}convertBytes(t){return new ri(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,e)}}function gu(){return new Sy("serverTimestamp")}const a1="@firebase/firestore",o1="4.11.0";function l1(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class ew{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field($o("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class NO extends ew{data(){return super.data()}}function nw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wy{}class iw extends wy{}function OO(n,t,...e){let r=[];t instanceof wy&&r.push(t),r=r.concat(e),(function(u){const c=u.filter((g=>g instanceof Ry)).length,m=u.filter((g=>g instanceof id)).length;if(c>1||c>0&&m>0)throw new dt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class id extends iw{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new id(t,e,r)}_apply(t){const e=this._parse(t);return sw(t._query,e),new Br(t.firestore,t.converter,tg(t._query,e))}_parse(t){const e=Ey(t.firestore);return(function(u,c,m,g,p,v,E){let S;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new dt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){c1(E,v);const P=[];for(const U of E)P.push(u1(g,u,U));S={arrayValue:{values:P}}}else S=u1(g,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||c1(E,v),S=xO(m,c,E,v==="in"||v==="not-in");return Ye.create(p,v,S)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function PO(n,t,e){const r=t,o=$o("where",n);return id._create(o,r,e)}class Ry extends wy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ry(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Ii.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const g of m)sw(c,g),c=tg(c,g)})(t._query,e),new Br(t.firestore,t.converter,tg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cy extends iw{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Cy(t,e,r)}_apply(t){return new Br(t.firestore,t.converter,Sf(t._query,this._limit,this._limitType))}}function kO(n){return Cy._create("limit",n,"F")}function u1(n,t,e){if(typeof(e=pn(e))=="string"){if(e==="")throw new dt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WA(t)&&e.indexOf("/")!==-1)throw new dt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(pe.fromString(e));if(!_t.isDocumentKey(r))throw new dt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SE(n,new _t(r))}if(e instanceof Oe)return SE(n,e._key);throw new dt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(e)}.`)}function c1(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sw(n,t){const e=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new dt(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function LO(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class yu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ba extends ew{constructor(t,e,r,o,u,c){super(t,e,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field($o("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ba._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Qe("string",ba._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Jh extends ba{data(t={}){return super.data(t)}}class wa{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new yu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Jh(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new Jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Jh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:UO(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:n})}}wa._jsonSchemaVersion="firestore/querySnapshot/1.0",wa._jsonSchema={type:Qe("string",wa._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};function zO(n){n=ns(n,Br);const t=ns(n.firestore,Xo),e=vy(t),r=new by(t);return nw(n._query),yO(e,n._query).then((o=>new wa(t,r,n,o)))}function jO(n,t,e){n=ns(n,Oe);const r=ns(n.firestore,Xo),o=LO(n.converter,t),u=Ey(r);return rw(r,[CO(u,"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,ss.none())])}function h1(n,t,e,...r){n=ns(n,Oe);const o=ns(n.firestore,Xo),u=Ey(o);let c;return c=typeof(t=pn(t))=="string"||t instanceof _y?DO(u,"updateDoc",n._key,t,e,r):IO(u,"updateDoc",n._key,t),rw(o,[c.toMutation(n._key,ss.exists(!0))])}function BO(n,...t){n=pn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||l1(t[r])||(e=t[r++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(l1(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let u,c,m;if(n instanceof Oe)c=ns(n.firestore,Xo),m=ty(n._key.path),u={next:p=>{t[r]&&t[r](FO(c,n,p))},error:t[r+1],complete:t[r+2]};else{const p=ns(n,Br);c=ns(p.firestore,Xo),m=p._query;const v=new by(c);u={next:E=>{t[r]&&t[r](new wa(c,v,p,E))},error:t[r+1],complete:t[r+2]},nw(n._query)}const g=vy(c);return gO(g,m,o,u)}function rw(n,t){const e=vy(n);return vO(e,t)}function FO(n,t,e){const r=e.docs.get(t._key),o=new by(n);return new ba(n,o,t._key,r,new yu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){vV(Jo),qo(new Da("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new Xo(new EV(r.getProvider("auth-internal")),new bV(c,r.getProvider("app-check-internal")),BV(c,o),c);return u={useFetchStreams:e,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),wr(a1,o1,t),wr(a1,o1,"esm2020")})();const aw=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim();const qO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const HO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase());const f1=n=>{const t=HO(n);return t.charAt(0).toUpperCase()+t.slice(1)};var GO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KO=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const YO=st.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},g)=>st.createElement("svg",{ref:g,...GO,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:aw("lucide",o),...!u&&!KO(m)&&{"aria-hidden":"true"},...m},[...c.map(([p,v])=>st.createElement(p,v)),...Array.isArray(u)?u:[u]]));const li=(n,t)=>{const e=st.forwardRef(({className:r,...o},u)=>st.createElement(YO,{ref:u,iconNode:t,className:aw(`lucide-${qO(f1(n))}`,`lucide-${n}`,r),...o}));return e.displayName=f1(n),e};const QO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XO=li("lock",QO);const $O=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],WO=li("maximize",$O);const ZO=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],JO=li("minimize",ZO);const tP=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],eP=li("rocket",tP);const nP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iP=li("rotate-ccw",nP);const sP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],rP=li("shield-alert",sP);const aP=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}]],oP=li("signal-low",aP);const lP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ow=li("target",lP);const uP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cP=li("trophy",uP);const hP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],d1=li("users",hP);const fP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dP=li("wifi-off",fP);const mP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pP=li("zap",mP),Iy=st.createContext({});function Dy(n){const t=st.useRef(null);return t.current===null&&(t.current=n()),t.current}const lw=typeof window<"u",uw=lw?st.useLayoutEffect:st.useEffect,sd=st.createContext(null);function xy(n,t){n.indexOf(t)===-1&&n.push(t)}function Df(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const us=(n,t,e)=>e>t?t:e<n?n:e;let Vy=()=>{};const ks={},cw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function hw(n){return typeof n=="object"&&n!==null}const fw=n=>/^0[^.\s]+$/u.test(n);function My(n){let t;return()=>(t===void 0&&(t=n()),t)}const oi=n=>n,gP=(n,t)=>e=>t(n(e)),nc=(...n)=>n.reduce(gP),zu=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r};class Ny{constructor(){this.subscriptions=[]}add(t){return xy(this.subscriptions,t),()=>Df(this.subscriptions,t)}notify(t,e,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=n=>n*1e3,ai=n=>n/1e3;function dw(n,t){return t?n*(1e3/t):0}const mw=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,yP=1e-7,vP=12;function _P(n,t,e,r,o){let u,c,m=0;do c=t+(e-t)/2,u=mw(c,r,o)-n,u>0?e=c:t=c;while(Math.abs(u)>yP&&++m<vP);return c}function ic(n,t,e,r){if(n===t&&e===r)return oi;const o=u=>_P(u,0,1,n,e);return u=>u===0||u===1?u:mw(o(u),t,r)}const pw=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,gw=n=>t=>1-n(1-t),yw=ic(.33,1.53,.69,.99),Oy=gw(yw),vw=pw(Oy),_w=n=>(n*=2)<1?.5*Oy(n):.5*(2-Math.pow(2,-10*(n-1))),Py=n=>1-Math.sin(Math.acos(n)),Tw=gw(Py),Ew=pw(Py),TP=ic(.42,0,1,1),EP=ic(0,0,.58,1),Sw=ic(.42,0,.58,1),SP=n=>Array.isArray(n)&&typeof n[0]!="number",Aw=n=>Array.isArray(n)&&typeof n[0]=="number",AP={linear:oi,easeIn:TP,easeInOut:Sw,easeOut:EP,circIn:Py,circInOut:Ew,circOut:Tw,backIn:Oy,backInOut:vw,backOut:yw,anticipate:_w},bP=n=>typeof n=="string",m1=n=>{if(Aw(n)){Vy(n.length===4);const[t,e,r,o]=n;return ic(t,e,r,o)}else if(bP(n))return AP[n];return n},Uh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wP(n,t){let e=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(v){c.has(v)&&(p.schedule(v),n()),v(m)}const p={schedule:(v,E=!1,S=!1)=>{const P=S&&o?e:r;return E&&c.add(v),P.has(v)||P.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[e,r]=[r,e],e.forEach(g),e.clear(),o=!1,u&&(u=!1,p.process(v))}};return p}const RP=40;function bw(n,t){let e=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Uh.reduce((Q,it)=>(Q[it]=wP(u),Q),{}),{setup:m,read:g,resolveKeyframes:p,preUpdate:v,update:E,preRender:S,render:C,postRender:P}=c,U=()=>{const Q=ks.useManualTiming?o.timestamp:performance.now();e=!1,ks.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,RP),1)),o.timestamp=Q,o.isProcessing=!0,m.process(o),g.process(o),p.process(o),v.process(o),E.process(o),S.process(o),C.process(o),P.process(o),o.isProcessing=!1,e&&t&&(r=!1,n(U))},F=()=>{e=!0,r=!0,o.isProcessing||n(U)};return{schedule:Uh.reduce((Q,it)=>{const rt=c[it];return Q[it]=(ct,I=!1,w=!1)=>(e||F(),rt.schedule(ct,I,w)),Q},{}),cancel:Q=>{for(let it=0;it<Uh.length;it++)c[Uh[it]].cancel(Q)},state:o,steps:c}}const{schedule:ge,cancel:Lr,state:fn,steps:Sp}=bw(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let tf;function CP(){tf=void 0}const wn={now:()=>(tf===void 0&&wn.set(fn.isProcessing||ks.useManualTiming?fn.timestamp:performance.now()),tf),set:n=>{tf=n,queueMicrotask(CP)}},ww=n=>t=>typeof t=="string"&&t.startsWith(n),Rw=ww("--"),IP=ww("var(--"),ky=n=>IP(n)?DP.test(n.split("/*")[0].trim()):!1,DP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function p1(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const rl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ju={...rl,transform:n=>us(0,1,n)},zh={...rl,default:1},wu=n=>Math.round(n*1e5)/1e5,Ly=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xP(n){return n==null}const VP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Uy=(n,t)=>e=>!!(typeof e=="string"&&VP.test(e)&&e.startsWith(n)||t&&!xP(e)&&Object.prototype.hasOwnProperty.call(e,t)),Cw=(n,t,e)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(Ly);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},MP=n=>us(0,255,n),Ap={...rl,transform:n=>Math.round(MP(n))},Sa={test:Uy("rgb","red"),parse:Cw("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+Ap.transform(n)+", "+Ap.transform(t)+", "+Ap.transform(e)+", "+wu(ju.transform(r))+")"};function NP(n){let t="",e="",r="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const hg={test:Uy("#"),parse:NP,transform:Sa.transform},sc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),gr=sc("deg"),os=sc("%"),gt=sc("px"),OP=sc("vh"),PP=sc("vw"),g1={...os,parse:n=>os.parse(n)/100,transform:n=>os.transform(n*100)},Mo={test:Uy("hsl","hue"),parse:Cw("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+os.transform(wu(t))+", "+os.transform(wu(e))+", "+wu(ju.transform(r))+")"},Ke={test:n=>Sa.test(n)||hg.test(n)||Mo.test(n),parse:n=>Sa.test(n)?Sa.parse(n):Mo.test(n)?Mo.parse(n):hg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Sa.transform(n):Mo.transform(n),getAnimatableNone:n=>{const t=Ke.parse(n);return t.alpha=0,Ke.transform(t)}},kP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function LP(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ly)?.length||0)+(n.match(kP)?.length||0)>0}const Iw="number",Dw="color",UP="var",zP="var(",y1="${}",jP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(jP,g=>(Ke.test(g)?(r.color.push(u),o.push(Dw),e.push(Ke.parse(g))):g.startsWith(zP)?(r.var.push(u),o.push(UP),e.push(g)):(r.number.push(u),o.push(Iw),e.push(parseFloat(g))),++u,y1)).split(y1);return{values:e,split:m,indexes:r,types:o}}function xw(n){return Bu(n).values}function Vw(n){const{split:t,types:e}=Bu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=e[c];m===Iw?u+=wu(o[c]):m===Dw?u+=Ke.transform(o[c]):u+=o[c]}return u}}const BP=n=>typeof n=="number"?0:Ke.test(n)?Ke.getAnimatableNone(n):n;function FP(n){const t=xw(n);return Vw(n)(t.map(BP))}const Ur={test:LP,parse:xw,createTransformer:Vw,getAnimatableNone:FP};function bp(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function qP({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const m=e<.5?e*(1+t):e+t-e*t,g=2*e-m;o=bp(g,m,n+1/3),u=bp(g,m,n),c=bp(g,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function xf(n,t){return e=>e>0?t:n}const Ae=(n,t,e)=>n+(t-n)*e,wp=(n,t,e)=>{const r=n*n,o=e*(t*t-r)+r;return o<0?0:Math.sqrt(o)},HP=[hg,Sa,Mo],GP=n=>HP.find(t=>t.test(n));function v1(n){const t=GP(n);if(!t)return!1;let e=t.parse(n);return t===Mo&&(e=qP(e)),e}const _1=(n,t)=>{const e=v1(n),r=v1(t);if(!e||!r)return xf(n,t);const o={...e};return u=>(o.red=wp(e.red,r.red,u),o.green=wp(e.green,r.green,u),o.blue=wp(e.blue,r.blue,u),o.alpha=Ae(e.alpha,r.alpha,u),Sa.transform(o))},fg=new Set(["none","hidden"]);function KP(n,t){return fg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function YP(n,t){return e=>Ae(n,t,e)}function zy(n){return typeof n=="number"?YP:typeof n=="string"?ky(n)?xf:Ke.test(n)?_1:$P:Array.isArray(n)?Mw:typeof n=="object"?Ke.test(n)?_1:QP:xf}function Mw(n,t){const e=[...n],r=e.length,o=n.map((u,c)=>zy(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)e[c]=o[c](u);return e}}function QP(n,t){const e={...n,...t},r={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(r[o]=zy(n[o])(n[o],t[o]));return o=>{for(const u in r)e[u]=r[u](o);return e}}function XP(n,t){const e=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;e[o]=m,r[u]++}return e}const $P=(n,t)=>{const e=Ur.createTransformer(t),r=Bu(n),o=Bu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?fg.has(n)&&!o.values.length||fg.has(t)&&!r.values.length?KP(n,t):nc(Mw(XP(r,o),o.values),e):xf(n,t)};function Nw(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Ae(n,t,e):zy(n)(n,t)}const WP=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ge.update(t,e),stop:()=>Lr(t),now:()=>fn.isProcessing?fn.timestamp:wn.now()}},Ow=(n,t,e=10)=>{let r="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Vf=2e4;function jy(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<Vf;)t+=e,r=n.next(t);return t>=Vf?1/0:t}function ZP(n,t=100,e){const r=e({...n,keyframes:[0,t]}),o=Math.min(jy(r),Vf);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:ai(o)}}const JP=5;function Pw(n,t,e){const r=Math.max(t-JP,0);return dw(e-n(r),t-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rp=.001;function t4({duration:n=Ce.duration,bounce:t=Ce.bounce,velocity:e=Ce.velocity,mass:r=Ce.mass}){let o,u,c=1-t;c=us(Ce.minDamping,Ce.maxDamping,c),n=us(Ce.minDuration,Ce.maxDuration,ai(n)),c<1?(o=p=>{const v=p*c,E=v*n,S=v-e,C=dg(p,c),P=Math.exp(-E);return Rp-S/C*P},u=p=>{const E=p*c*n,S=E*e+e,C=Math.pow(c,2)*Math.pow(p,2)*n,P=Math.exp(-E),U=dg(Math.pow(p,2),c);return(-o(p)+Rp>0?-1:1)*((S-C)*P)/U}):(o=p=>{const v=Math.exp(-p*n),E=(p-e)*n+1;return-Rp+v*E},u=p=>{const v=Math.exp(-p*n),E=(e-p)*(n*n);return v*E});const m=5/n,g=n4(o,u,m);if(n=Ci(n),isNaN(g))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:n};{const p=Math.pow(g,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:n}}}const e4=12;function n4(n,t,e){let r=e;for(let o=1;o<e4;o++)r=r-n(r)/t(r);return r}function dg(n,t){return n*Math.sqrt(1-t*t)}const i4=["duration","bounce"],s4=["stiffness","damping","mass"];function T1(n,t){return t.some(e=>n[e]!==void 0)}function r4(n){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...n};if(!T1(n,s4)&&T1(n,i4))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),o=r*r,u=2*us(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ce.mass,stiffness:o,damping:u}}else{const e=t4(n);t={...t,...e,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function Mf(n=Ce.visualDuration,t=Ce.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],m={done:!1,value:u},{stiffness:g,damping:p,mass:v,duration:E,velocity:S,isResolvedFromDuration:C}=r4({...e,velocity:-ai(e.velocity||0)}),P=S||0,U=p/(2*Math.sqrt(g*v)),F=c-u,G=ai(Math.sqrt(g/v)),Y=Math.abs(F)<5;r||(r=Y?Ce.restSpeed.granular:Ce.restSpeed.default),o||(o=Y?Ce.restDelta.granular:Ce.restDelta.default);let Q;if(U<1){const rt=dg(G,U);Q=ct=>{const I=Math.exp(-U*G*ct);return c-I*((P+U*G*F)/rt*Math.sin(rt*ct)+F*Math.cos(rt*ct))}}else if(U===1)Q=rt=>c-Math.exp(-G*rt)*(F+(P+G*F)*rt);else{const rt=G*Math.sqrt(U*U-1);Q=ct=>{const I=Math.exp(-U*G*ct),w=Math.min(rt*ct,300);return c-I*((P+U*G*F)*Math.sinh(w)+rt*F*Math.cosh(w))/rt}}const it={calculatedDuration:C&&E||null,next:rt=>{const ct=Q(rt);if(C)m.done=rt>=E;else{let I=rt===0?P:0;U<1&&(I=rt===0?Ci(P):Pw(Q,rt,ct));const w=Math.abs(I)<=r,R=Math.abs(c-ct)<=o;m.done=w&&R}return m.value=m.done?c:ct,m},toString:()=>{const rt=Math.min(jy(it),Vf),ct=Ow(I=>it.next(rt*I).value,rt,30);return rt+"ms "+ct},toTransition:()=>{}};return it}Mf.applyToOptions=n=>{const t=ZP(n,100,Mf);return n.ease=t.ease,n.duration=Ci(t.duration),n.type="keyframes",n};function mg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:g,restDelta:p=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},C=w=>m!==void 0&&w<m||g!==void 0&&w>g,P=w=>m===void 0?g:g===void 0||Math.abs(m-w)<Math.abs(g-w)?m:g;let U=e*t;const F=E+U,G=c===void 0?F:c(F);G!==F&&(U=G-E);const Y=w=>-U*Math.exp(-w/r),Q=w=>G+Y(w),it=w=>{const R=Y(w),M=Q(w);S.done=Math.abs(R)<=p,S.value=S.done?G:M};let rt,ct;const I=w=>{C(S.value)&&(rt=w,ct=Mf({keyframes:[S.value,P(S.value)],velocity:Pw(Q,w,S.value),damping:o,stiffness:u,restDelta:p,restSpeed:v}))};return I(0),{calculatedDuration:null,next:w=>{let R=!1;return!ct&&rt===void 0&&(R=!0,it(w),I(w)),rt!==void 0&&w>=rt?ct.next(w-rt):(!R&&it(w),S)}}}function a4(n,t,e){const r=[],o=e||ks.mix||Nw,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const g=Array.isArray(t)?t[c]||oi:t;m=nc(g,m)}r.push(m)}return r}function o4(n,t,{clamp:e=!0,ease:r,mixer:o}={}){const u=n.length;if(Vy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=a4(t,r,o),g=m.length,p=v=>{if(c&&v<n[0])return t[0];let E=0;if(g>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=zu(n[E],n[E+1],v);return m[E](S)};return e?v=>p(us(n[0],n[u-1],v)):p}function l4(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const o=zu(0,t,r);n.push(Ae(e,1,o))}}function u4(n){const t=[0];return l4(t,n.length-1),t}function c4(n,t){return n.map(e=>e*t)}function h4(n,t){return n.map(()=>t||Sw).splice(0,n.length-1)}function Ru({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const o=SP(r)?r.map(m1):m1(r),u={done:!1,value:t[0]},c=c4(e&&e.length===t.length?e:u4(t),n),m=o4(c,t,{ease:Array.isArray(o)?o:h4(t,o)});return{calculatedDuration:n,next:g=>(u.value=m(g),u.done=g>=n,u)}}const f4=n=>n!==null;function By(n,{repeat:t,repeatType:e="loop"},r,o=1){const u=n.filter(f4),m=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const d4={decay:mg,inertia:mg,tween:Ru,keyframes:Ru,spring:Mf};function kw(n){typeof n.type=="string"&&(n.type=d4[n.type])}class Fy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const m4=n=>n/100;class qy extends Fy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kw(t);const{type:e=Ru,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const g=e||Ru;g!==Ru&&typeof m[0]!="number"&&(this.mixKeyframes=nc(m4,Nw(m[0],m[1])),m=[0,100]);const p=g({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...m].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=jy(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:C,type:P,onUpdate:U,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const G=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?G<0:G>o;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,it=r;if(E){const w=Math.min(this.currentTime,o)/m;let R=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&R--,R=Math.min(R,E+1),R%2&&(S==="reverse"?(M=1-M,C&&(M-=C/m)):S==="mirror"&&(it=c)),Q=us(0,1,M)*m}const rt=Y?{done:!1,value:v[0]}:it.next(Q);u&&(rt.value=u(rt.value));let{done:ct}=rt;!Y&&g!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return I&&P!==mg&&(rt.value=By(v,this.options,F,this.speed)),U&&U(rt.value),I&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return ai(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(this.currentTime)}set time(t){t=Ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=WP,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=e??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function p4(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Aa=n=>n*180/Math.PI,pg=n=>{const t=Aa(Math.atan2(n[1],n[0]));return gg(t)},g4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:pg,rotateZ:pg,skewX:n=>Aa(Math.atan(n[1])),skewY:n=>Aa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},gg=n=>(n=n%360,n<0&&(n+=360),n),E1=pg,S1=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),A1=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),y4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:S1,scaleY:A1,scale:n=>(S1(n)+A1(n))/2,rotateX:n=>gg(Aa(Math.atan2(n[6],n[5]))),rotateY:n=>gg(Aa(Math.atan2(-n[2],n[0]))),rotateZ:E1,rotate:E1,skewX:n=>Aa(Math.atan(n[4])),skewY:n=>Aa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function yg(n){return n.includes("scale")?1:0}function vg(n,t){if(!n||n==="none")return yg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(e)r=y4,o=e;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=g4,o=m}if(!o)return yg(t);const u=r[t],c=o[1].split(",").map(_4);return typeof u=="function"?u(c):c[u]}const v4=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return vg(e,t)};function _4(n){return parseFloat(n.trim())}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(al),b1=n=>n===rl||n===gt,T4=new Set(["x","y","z"]),E4=al.filter(n=>!T4.has(n));function S4(n){const t=[];return E4.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Sr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>vg(t,"x"),y:(n,{transform:t})=>vg(t,"y")};Sr.translateX=Sr.x;Sr.translateY=Sr.y;const Ra=new Set;let _g=!1,Tg=!1,Eg=!1;function Lw(){if(Tg){const n=Array.from(Ra).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const o=S4(r);o.length&&(e.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=e.get(r);o&&o.forEach(([u,c])=>{r.getValue(u)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Tg=!1,_g=!1,Ra.forEach(n=>n.complete(Eg)),Ra.clear()}function Uw(){Ra.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Tg=!0)})}function A4(){Eg=!0,Uw(),Lw(),Eg=!1}class Hy{constructor(t,e,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),_g||(_g=!0,ge.read(Uw),ge.resolveKeyframes(Lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&e){const m=r.readValue(e,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}p4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b4=n=>n.startsWith("--");function w4(n,t,e){b4(t)?n.style.setProperty(t,e):n.style[t]=e}const R4=My(()=>window.ScrollTimeline!==void 0),C4={};function I4(n,t){const e=My(n);return()=>C4[t]??e()}const zw=I4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,w1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function jw(n,t){if(n)return typeof n=="function"?zw()?Ow(n,t):"ease-out":Aw(n)?vu(n):Array.isArray(n)?n.map(e=>jw(e,t)||w1.easeOut):w1[n]}function D4(n,t,e,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:g}={},p=void 0){const v={[t]:e};g&&(v.offset=g);const E=jw(m,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(S.pseudoElement=p),n.animate(v,S)}function Bw(n){return typeof n=="function"&&"applyToOptions"in n}function x4({type:n,...t}){return Bw(n)&&zw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Fw extends Fy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:g}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Vy(typeof t.type!="string");const p=x4(t);this.animation=D4(e,r,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=By(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):w4(e,r,v),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ai(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ai(t)}get time(){return ai(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&R4()?(this.animation.timeline=t,oi):e(this)}}const qw={anticipate:_w,backInOut:vw,circInOut:Ew};function V4(n){return n in qw}function M4(n){typeof n.ease=="string"&&V4(n.ease)&&(n.ease=qw[n.ease])}const Cp=10;class N4 extends Fw{constructor(t){M4(t),kw(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const m=new qy({...c,autoplay:!1}),g=Math.max(Cp,wn.now()-this.startTime),p=us(0,Cp,g-Cp);e.setWithVelocity(m.sample(Math.max(0,g-p)).value,m.sample(g).value,p),m.stop()}}const R1=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ur.test(n)||n==="0")&&!n.startsWith("url("));function O4(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function P4(n,t,e,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=R1(o,t),m=R1(u,t);return!c||!m?!1:O4(n)||(e==="spring"||Bw(e))&&r}function Sg(n){n.duration=0,n.type="keyframes"}const k4=new Set(["opacity","clipPath","filter","transform"]),L4=My(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U4(n){const{motionValue:t,name:e,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=t.owner.getProps();return L4()&&e&&k4.has(e)&&(e!=="transform"||!p)&&!g&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const z4=40;class j4 extends Fy{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:g,motionValue:p,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const S={autoplay:t,delay:e,type:r,repeat:o,repeatDelay:u,repeatType:c,name:g,motionValue:p,element:v,...E},C=v?.KeyframeResolver||Hy;this.keyframeResolver=new C(m,(P,U,F)=>this.onKeyframesResolved(P,U,S,!F),g,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,r,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:g,isHandoff:p,onUpdate:v}=r;this.resolvedAt=wn.now(),P4(t,u,c,m)||((ks.instantAnimations||!g)&&v?.(By(t,r,e)),t[0]=t[t.length-1],Sg(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>z4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...r,keyframes:t},C=!p&&U4(S),P=S.motionValue?.owner?.current,U=C?new N4({...S,element:P}):new qy(S);U.finished.then(()=>{this.notifyFinished()}).catch(oi),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),A4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Hw(n,t,e,r=0,o=1){const u=Array.from(n).sort((p,v)=>p.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof e=="function"?e(u,c):o===1?u*r:m-u*r}const B4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F4(n){const t=B4.exec(n);if(!t)return[,];const[,e,r,o]=t;return[`--${e??r}`,o]}function Gw(n,t,e=1){const[r,o]=F4(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return cw(c)?parseFloat(c):c}return ky(o)?Gw(o,t,e+1):o}const q4={type:"spring",stiffness:500,damping:25,restSpeed:10},H4=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),G4={type:"keyframes",duration:.8},K4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y4=(n,{keyframes:t})=>t.length>2?G4:ol.has(n)?n.startsWith("scale")?H4(t[1]):q4:K4,Q4=n=>n!==null;function X4(n,{repeat:t,repeatType:e="loop"},r){const o=n.filter(Q4),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}function Kw(n,t){if(n?.inherit&&t){const{inherit:e,...r}=n;return{...t,...r}}return n}function Gy(n,t){const e=n?.[t]??n?.default??n;return e!==n?Kw(e,n):e}function $4({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:g,elapsed:p,...v}){return!!Object.keys(v).length}const Ky=(n,t,e,r={},o,u)=>c=>{const m=Gy(r,n)||{},g=m.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ci(g);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-p,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};$4(m)||Object.assign(v,Y4(n,v)),v.duration&&(v.duration=Ci(v.duration)),v.repeatDelay&&(v.repeatDelay=Ci(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Sg(v),v.delay===0&&(E=!0)),(ks.instantAnimations||ks.skipAnimations||o?.shouldSkipAnimations)&&(E=!0,Sg(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=X4(v.keyframes,m);if(S!==void 0){ge.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new qy(v):new j4(v)};function C1(n){const t=[{},{}];return n?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function Yy(n,t,e,r){if(typeof t=="function"){const[o,u]=C1(r);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=C1(r);t=t(e!==void 0?e:n.custom,o,u)}return t}function Fo(n,t,e){const r=n.getProps();return Yy(r,t,e!==void 0?e:r.custom,n)}const Yw=new Set(["width","height","top","left","right","bottom",...al]),I1=30,W4=n=>!isNaN(parseFloat(n));class Z4{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=wn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Ny);const r=this.events[t].add(e);return t==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>I1)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,I1);return dw(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(n,t){return new Z4(n,t)}const Ag=n=>Array.isArray(n);function J4(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Wo(e))}function t3(n){return Ag(n)?n[n.length-1]||0:n}function e3(n,t){const e=Fo(n,t);let{transitionEnd:r={},transition:o={},...u}=e||{};u={...u,...r};for(const c in u){const m=t3(u[c]);J4(n,c,m)}}const En=n=>!!(n&&n.getVelocity);function n3(n){return!!(En(n)&&n.add)}function bg(n,t){const e=n.getValue("willChange");if(n3(e))return e.add(t);if(!e&&ks.WillChange){const r=new ks.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Qy(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const i3="framerAppearId",Qw="data-"+Qy(i3);function Xw(n){return n.props[Qw]}function s3({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function $w(n,t,{delay:e=0,transitionOverride:r,type:o}={}){let{transition:u,transitionEnd:c,...m}=t;const g=n.getDefaultTransition();u=u?Kw(u,g):g;const p=u?.reduceMotion;r&&(u=r);const v=[],E=o&&n.animationState&&n.animationState.getState()[o];for(const S in m){const C=n.getValue(S,n.latestValues[S]??null),P=m[S];if(P===void 0||E&&s3(E,S))continue;const U={delay:e,...Gy(u||{},S)},F=C.get();if(F!==void 0&&!C.isAnimating&&!Array.isArray(P)&&P===F&&!U.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const it=Xw(n);if(it){const rt=window.MotionHandoffAnimation(it,S,ge);rt!==null&&(U.startTime=rt,G=!0)}}bg(n,S);const Y=p??n.shouldReduceMotion;C.start(Ky(S,C,P,Y&&Yw.has(S)?{type:!1}:U,n,G));const Q=C.animation;Q&&v.push(Q)}if(c){const S=()=>ge.update(()=>{c&&e3(n,c)});v.length?Promise.all(v).then(S):S()}return v}function wg(n,t,e={}){const r=Fo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};e.transitionOverride&&(o=e.transitionOverride);const u=r?()=>Promise.all($w(n,r,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:E}=o;return r3(n,t,g,p,v,E,e)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,p]=m==="beforeChildren"?[u,c]:[c,u];return g().then(()=>p())}else return Promise.all([u(),c(e.delay)])}function r3(n,t,e=0,r=0,o=0,u=1,c){const m=[];for(const g of n.variantChildren)g.notify("AnimationStart",t),m.push(wg(g,t,{...c,delay:e+(typeof r=="function"?0:r)+Hw(n.variantChildren,g,r,o,u)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(m)}function a3(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>wg(n,u,e));r=Promise.all(o)}else if(typeof t=="string")r=wg(n,t,e);else{const o=typeof t=="function"?Fo(n,t,e.custom):t;r=Promise.all($w(n,o,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}const o3={test:n=>n==="auto",parse:n=>n},Ww=n=>t=>t.test(n),Zw=[rl,gt,os,gr,PP,OP,o3],D1=n=>Zw.find(Ww(n));function l3(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||fw(n):!0}const u3=new Set(["brightness","contrast","saturate","opacity"]);function c3(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Ly)||[];if(!r)return n;const o=e.replace(r,"");let u=u3.has(t)?1:0;return r!==e&&(u*=100),t+"("+u+o+")"}const h3=/\b([a-z-]*)\(.*?\)/gu,Rg={...Ur,getAnimatableNone:n=>{const t=n.match(h3);return t?t.map(c3).join(" "):n}},x1={...rl,transform:Math.round},f3={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:zh,scaleX:zh,scaleY:zh,scaleZ:zh,skew:gr,skewX:gr,skewY:gr,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:ju,originX:g1,originY:g1,originZ:gt},Xy={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,inset:gt,insetBlock:gt,insetBlockStart:gt,insetBlockEnd:gt,insetInline:gt,insetInlineStart:gt,insetInlineEnd:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,paddingBlock:gt,paddingBlockStart:gt,paddingBlockEnd:gt,paddingInline:gt,paddingInlineStart:gt,paddingInlineEnd:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,marginBlock:gt,marginBlockStart:gt,marginBlockEnd:gt,marginInline:gt,marginInlineStart:gt,marginInlineEnd:gt,fontSize:gt,backgroundPositionX:gt,backgroundPositionY:gt,...f3,zIndex:x1,fillOpacity:ju,strokeOpacity:ju,numOctaves:x1},d3={...Xy,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:Rg,WebkitFilter:Rg},Jw=n=>d3[n];function tR(n,t){let e=Jw(n);return e!==Rg&&(e=Ur),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const m3=new Set(["auto","none","0"]);function p3(n,t,e){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!m3.has(u)&&Bu(u).values.length&&(o=n[r]),r++}if(o&&e)for(const u of t)n[u]=tR(e,o)}class g3 extends Hy{constructor(t,e,r,o,u){super(t,e,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let E=t[v];if(typeof E=="string"&&(E=E.trim(),ky(E))){const S=Gw(E,e.current);S!==void 0&&(t[v]=S),v===t.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Yw.has(r)||t.length!==2)return;const[o,u]=t,c=D1(o),m=D1(u),g=p1(o),p=p1(u);if(g!==p&&Sr[r]){this.needsMeasurement=!0;return}if(c!==m)if(b1(c)&&b1(m))for(let v=0;v<t.length;v++){const E=t[v];typeof E=="string"&&(t[v]=parseFloat(E))}else Sr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||l3(t[o]))&&r.push(o);r.length&&p3(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=Sr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}const y3=new Set(["opacity","clipPath","filter","transform"]);function eR(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=e?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(r=>r!=null)}const nR=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Cg(n){return hw(n)&&"offsetHeight"in n}const{schedule:$y}=bw(queueMicrotask,!1),Ai={x:!1,y:!1};function iR(){return Ai.x||Ai.y}function v3(n){return n==="x"||n==="y"?Ai[n]?null:(Ai[n]=!0,()=>{Ai[n]=!1}):Ai.x||Ai.y?null:(Ai.x=Ai.y=!0,()=>{Ai.x=Ai.y=!1})}function sR(n,t){const e=eR(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[e,o,()=>r.abort()]}function _3(n){return!(n.pointerType==="touch"||iR())}function T3(n,t,e={}){const[r,o,u]=sR(n,e);return r.forEach(c=>{let m=!1,g=!1,p;const v=()=>{c.removeEventListener("pointerleave",P)},E=F=>{p&&(p(F),p=void 0),v()},S=F=>{m=!1,window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",S),g&&(g=!1,E(F))},C=()=>{m=!0,window.addEventListener("pointerup",S,o),window.addEventListener("pointercancel",S,o)},P=F=>{if(F.pointerType!=="touch"){if(m){g=!0;return}E(F)}},U=F=>{if(!_3(F))return;g=!1;const G=t(c,F);typeof G=="function"&&(p=G,c.addEventListener("pointerleave",P,o))};c.addEventListener("pointerenter",U,o),c.addEventListener("pointerdown",C,o)}),u}const rR=(n,t)=>t?n===t?!0:rR(n,t.parentElement):!1,Wy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,E3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S3(n){return E3.has(n.tagName)||n.isContentEditable===!0}const A3=new Set(["INPUT","SELECT","TEXTAREA"]);function b3(n){return A3.has(n.tagName)||n.isContentEditable===!0}const ef=new WeakSet;function V1(n){return t=>{t.key==="Enter"&&n(t)}}function Ip(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const w3=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=V1(()=>{if(ef.has(e))return;Ip(e,"down");const o=V1(()=>{Ip(e,"up")}),u=()=>Ip(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function M1(n){return Wy(n)&&!iR()}const N1=new WeakSet;function R3(n,t,e={}){const[r,o,u]=sR(n,e),c=m=>{const g=m.currentTarget;if(!M1(m)||N1.has(m))return;ef.add(g),e.stopPropagation&&N1.add(m);const p=t(g,m),v=(C,P)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),ef.has(g)&&ef.delete(g),M1(C)&&typeof p=="function"&&p(C,{success:P})},E=C=>{v(C,g===window||g===document||e.useGlobalTarget||rR(g,C.target))},S=C=>{v(C,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(e.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Cg(m)&&(m.addEventListener("focus",p=>w3(p,o)),!S3(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Zy(n){return hw(n)&&"ownerSVGElement"in n}const nf=new WeakMap;let sf;const aR=(n,t,e)=>(r,o)=>o&&o[0]?o[0][n+"Size"]:Zy(r)&&"getBBox"in r?r.getBBox()[t]:r[e],C3=aR("inline","width","offsetWidth"),I3=aR("block","height","offsetHeight");function D3({target:n,borderBoxSize:t}){nf.get(n)?.forEach(e=>{e(n,{get width(){return C3(n,t)},get height(){return I3(n,t)}})})}function x3(n){n.forEach(D3)}function V3(){typeof ResizeObserver>"u"||(sf=new ResizeObserver(x3))}function M3(n,t){sf||V3();const e=eR(n);return e.forEach(r=>{let o=nf.get(r);o||(o=new Set,nf.set(r,o)),o.add(t),sf?.observe(r)}),()=>{e.forEach(r=>{const o=nf.get(r);o?.delete(t),o?.size||sf?.unobserve(r)})}}const rf=new Set;let No;function N3(){No=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};rf.forEach(t=>t(n))},window.addEventListener("resize",No)}function O3(n){return rf.add(n),No||N3(),()=>{rf.delete(n),!rf.size&&typeof No=="function"&&(window.removeEventListener("resize",No),No=void 0)}}function O1(n,t){return typeof n=="function"?O3(n):M3(n,t)}function P3(n){return Zy(n)&&n.tagName==="svg"}const k3=[...Zw,Ke,Ur],L3=n=>k3.find(Ww(n)),P1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:P1(),y:P1()}),k1=()=>({min:0,max:0}),We=()=>({x:k1(),y:k1()}),U3=new WeakMap;function rd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Fu(n){return typeof n=="string"||Array.isArray(n)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tv=["initial",...Jy];function ad(n){return rd(n.animate)||tv.some(t=>Fu(n[t]))}function oR(n){return!!(ad(n)||n.variants)}function z3(n,t,e){for(const r in t){const o=t[r],u=e[r];if(En(o))n.addValue(r,o);else if(En(u))n.addValue(r,Wo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Wo(c!==void 0?c:o,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const Ig={current:null},lR={current:!1},j3=typeof window<"u";function B3(){if(lR.current=!0,!!j3)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ig.current=n.matches;n.addEventListener("change",t),t()}else Ig.current=!1}const L1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Nf={};function uR(n){Nf=n}function F3(){return Nf}class q3{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:c,visualState:m},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=wn.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,ge.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=m;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=v,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=g,this.blockInitialAnimation=!!c,this.isControllingVariants=ad(e),this.isVariantNode=oR(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...S}=this.scrapeMotionValuesFromProps(e,{},this);for(const C in S){const P=S[C];p[C]!==void 0&&En(P)&&P.set(p[C])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,U3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(lR.current||B3(),this.shouldReduceMotion=Ig.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&y3.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:m,times:g,ease:p,duration:v}=e.accelerate,E=new Fw({element:this.current,name:t,keyframes:m,times:g,ease:p,duration:Ci(v)}),S=c(E);this.valueSubscriptions.set(t,()=>{S(),E.cancel()});return}const r=ol.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nf){const e=Nf[t];if(!e)continue;const{isEnabled:r,Feature:o}=e;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<L1.length;r++){const o=L1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=z3(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Wo(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cw(r)||fw(r))?r=parseFloat(r):!L3(r)&&Ur.test(e)&&(r=tR(t,e)),this.setBaseTarget(t,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let r;if(typeof e=="string"||typeof e=="object"){const u=Yy(this.props,e,this.presenceContext?.custom);u&&(r=u[t])}if(e&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!En(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Ny),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){$y.render(this.render)}}class cR extends q3{constructor(){super(...arguments),this.KeyframeResolver=g3}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const r=t.style;return r?r[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Fr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function hR({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function H3({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function G3(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}function Dp(n){return n===void 0||n===1}function Dg({scale:n,scaleX:t,scaleY:e}){return!Dp(n)||!Dp(t)||!Dp(e)}function Ta(n){return Dg(n)||fR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function fR(n){return U1(n.x)||U1(n.y)}function U1(n){return n&&n!=="0%"}function Of(n,t,e){const r=n-e,o=t*r;return e+o}function z1(n,t,e,r,o){return o!==void 0&&(n=Of(n,o,r)),Of(n,e,r)+t}function xg(n,t=0,e=1,r,o){n.min=z1(n.min,t,e,r,o),n.max=z1(n.max,t,e,r,o)}function dR(n,{x:t,y:e}){xg(n.x,t.translate,t.scale,t.originPoint),xg(n.y,e.translate,e.scale,e.originPoint)}const j1=.999999999999,B1=1.0000000000001;function K3(n,t,e,r=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=e[m],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ko(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,dR(n,c)),r&&Ta(u.latestValues)&&ko(n,u.latestValues))}t.x<B1&&t.x>j1&&(t.x=1),t.y<B1&&t.y>j1&&(t.y=1)}function Po(n,t){n.min=n.min+t,n.max=n.max+t}function F1(n,t,e,r,o=.5){const u=Ae(n.min,n.max,o);xg(n,t,e,u,r)}function ko(n,t){F1(n.x,t.x,t.scaleX,t.scale,t.originX),F1(n.y,t.y,t.scaleY,t.scale,t.originY)}function mR(n,t){return hR(G3(n.getBoundingClientRect(),t))}function Y3(n,t,e){const r=mR(n,e),{scroll:o}=t;return o&&(Po(r.x,o.offset.x),Po(r.y,o.offset.y)),r}const Q3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X3=al.length;function $3(n,t,e){let r="",o=!0;for(let u=0;u<X3;u++){const c=al[u],m=n[c];if(m===void 0)continue;let g=!0;if(typeof m=="number")g=m===(c.startsWith("scale")?1:0);else{const p=parseFloat(m);g=c.startsWith("scale")?p===1:p===0}if(!g||e){const p=nR(m,Xy[c]);if(!g){o=!1;const v=Q3[c]||c;r+=`${v}(${p}) `}e&&(t[c]=p)}}return r=r.trim(),e?r=e(t,o?"":r):o&&(r="none"),r}function ev(n,t,e){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const g in t){const p=t[g];if(ol.has(g)){c=!0;continue}else if(Rw(g)){o[g]=p;continue}else{const v=nR(p,Xy[g]);g.startsWith("origin")?(m=!0,u[g]=v):r[g]=v}}if(t.transform||(c||e?r.transform=$3(t,n.transform,e):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:v=0}=u;r.transformOrigin=`${g} ${p} ${v}`}}function pR(n,{style:t,vars:e},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,r);for(c in e)u.setProperty(c,e[c])}function q1(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const hu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(gt.test(n))n=parseFloat(n);else return n;const e=q1(n,t.target.x),r=q1(n,t.target.y);return`${e}% ${r}%`}},W3={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,o=Ur.parse(n);if(o.length>5)return r;const u=Ur.createTransformer(n),c=typeof o[0]!="number"?1:0,m=e.x.scale*t.x,g=e.y.scale*t.y;o[0+c]/=m,o[1+c]/=g;const p=Ae(m,g,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},Vg={borderRadius:{...hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomLeftRadius:hu,borderBottomRightRadius:hu,boxShadow:W3};function gR(n,{layout:t,layoutId:e}){return ol.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Vg[n]||n==="opacity")}function nv(n,t,e){const r=n.style,o=t?.style,u={};if(!r)return u;for(const c in r)(En(r[c])||o&&En(o[c])||gR(c,n)||e?.getValue(c)?.liveStyle!==void 0)&&(u[c]=r[c]);return u}function Z3(n){return window.getComputedStyle(n)}class J3 extends cR{constructor(){super(...arguments),this.type="html",this.renderInstance=pR}readValueFromInstance(t,e){if(ol.has(e))return this.projection?.isProjecting?yg(e):v4(t,e);{const r=Z3(t),o=(Rw(e)?r.getPropertyValue(e):r[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return mR(t,e)}build(t,e,r){ev(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return nv(t,e,r)}}const t6={offset:"stroke-dashoffset",array:"stroke-dasharray"},e6={offset:"strokeDashoffset",array:"strokeDasharray"};function n6(n,t,e=1,r=0,o=!0){n.pathLength=1;const u=o?t6:e6;n[u.offset]=`${-r}`,n[u.array]=`${t} ${e}`}const i6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yR(n,{attrX:t,attrY:e,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},g,p,v){if(ev(n,m,p),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S}=n;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete E.transformBox);for(const C of i6)E[C]!==void 0&&(S[C]=E[C],delete E[C]);t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),r!==void 0&&(E.scale=r),o!==void 0&&n6(E,o,u,c,!1)}const vR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),_R=n=>typeof n=="string"&&n.toLowerCase()==="svg";function s6(n,t,e,r){pR(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(vR.has(o)?o:Qy(o),t.attrs[o])}function TR(n,t,e){const r=nv(n,t,e);for(const o in n)if(En(n[o])||En(t[o])){const u=al.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class r6 extends cR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=We}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ol.has(e)){const r=Jw(e);return r&&r.default||0}return e=vR.has(e)?e:Qy(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return TR(t,e,r)}build(t,e,r){yR(t,e,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,e,r,o){s6(t,e,r,o)}mount(t){this.isSVGTag=_R(t.tagName),super.mount(t)}}const a6=tv.length;function ER(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?ER(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<a6;e++){const r=tv[e],o=n.props[r];(Fu(o)||o===!1)&&(t[r]=o)}return t}function SR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const o6=[...Jy].reverse(),l6=Jy.length;function u6(n){return t=>Promise.all(t.map(({animation:e,options:r})=>a3(n,e,r)))}function c6(n){let t=u6(n),e=H1(),r=!0;const o=g=>(p,v)=>{const E=Fo(n,v,g==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:C,...P}=E;p={...p,...P,...C}}return p};function u(g){t=g(n)}function c(g){const{props:p}=n,v=ER(n.parent)||{},E=[],S=new Set;let C={},P=1/0;for(let F=0;F<l6;F++){const G=o6[F],Y=e[G],Q=p[G]!==void 0?p[G]:v[G],it=Fu(Q),rt=G===g?Y.isActive:null;rt===!1&&(P=F);let ct=Q===v[G]&&Q!==p[G]&&it;if(ct&&r&&n.manuallyAnimateOnMount&&(ct=!1),Y.protectedKeys={...C},!Y.isActive&&rt===null||!Q&&!Y.prevProp||rd(Q)||typeof Q=="boolean")continue;if(G==="exit"&&Y.isActive&&rt!==!0){Y.prevResolvedValues&&(C={...C,...Y.prevResolvedValues});continue}const I=h6(Y.prevProp,Q);let w=I||G===g&&Y.isActive&&!ct&&it||F>P&&it,R=!1;const M=Array.isArray(Q)?Q:[Q];let V=M.reduce(o(G),{});rt===!1&&(V={});const{prevResolvedValues:k={}}=Y,D={...k,...V},ie=ot=>{w=!0,S.has(ot)&&(R=!0,S.delete(ot)),Y.needsAnimating[ot]=!0;const ht=n.getValue(ot);ht&&(ht.liveStyle=!1)};for(const ot in D){const ht=V[ot],Rt=k[ot];if(C.hasOwnProperty(ot))continue;let kt=!1;Ag(ht)&&Ag(Rt)?kt=!SR(ht,Rt):kt=ht!==Rt,kt?ht!=null?ie(ot):S.add(ot):ht!==void 0&&S.has(ot)?ie(ot):Y.protectedKeys[ot]=!0}Y.prevProp=Q,Y.prevResolvedValues=V,Y.isActive&&(C={...C,...V}),r&&n.blockInitialAnimation&&(w=!1);const Te=ct&&I;w&&(!Te||R)&&E.push(...M.map(ot=>{const ht={type:G};if(typeof ot=="string"&&r&&!Te&&n.manuallyAnimateOnMount&&n.parent){const{parent:Rt}=n,kt=Fo(Rt,ot);if(Rt.enteringChildren&&kt){const{delayChildren:N}=kt.transition||{};ht.delay=Hw(Rt.enteringChildren,n,N)}}return{animation:ot,options:ht}}))}if(S.size){const F={};if(typeof p.initial!="boolean"){const G=Fo(n,Array.isArray(p.initial)?p.initial[0]:p.initial);G&&G.transition&&(F.transition=G.transition)}S.forEach(G=>{const Y=n.getBaseTarget(G),Q=n.getValue(G);Q&&(Q.liveStyle=!0),F[G]=Y??null}),E.push({animation:F})}let U=!!E.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),r=!1,U?t(E):Promise.resolve()}function m(g,p){if(e[g].isActive===p)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(g,p)),e[g].isActive=p;const v=c(g);for(const E in e)e[E].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>e,reset:()=>{e=H1()}}}function h6(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!SR(t,n):!1}function va(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H1(){return{animate:va(!0),whileInView:va(),whileHover:va(),whileTap:va(),whileDrag:va(),whileFocus:va(),exit:va()}}function G1(n,t){n.min=t.min,n.max=t.max}function Si(n,t){G1(n.x,t.x),G1(n.y,t.y)}function K1(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const AR=1e-4,f6=1-AR,d6=1+AR,bR=.01,m6=0-bR,p6=0+bR;function Rn(n){return n.max-n.min}function g6(n,t,e){return Math.abs(n-t)<=e}function Y1(n,t,e,r=.5){n.origin=r,n.originPoint=Ae(t.min,t.max,n.origin),n.scale=Rn(e)/Rn(t),n.translate=Ae(e.min,e.max,n.origin)-n.originPoint,(n.scale>=f6&&n.scale<=d6||isNaN(n.scale))&&(n.scale=1),(n.translate>=m6&&n.translate<=p6||isNaN(n.translate))&&(n.translate=0)}function Cu(n,t,e,r){Y1(n.x,t.x,e.x,r?r.originX:void 0),Y1(n.y,t.y,e.y,r?r.originY:void 0)}function Q1(n,t,e){n.min=e.min+t.min,n.max=n.min+Rn(t)}function y6(n,t,e){Q1(n.x,t.x,e.x),Q1(n.y,t.y,e.y)}function X1(n,t,e){n.min=t.min-e.min,n.max=n.min+Rn(t)}function Pf(n,t,e){X1(n.x,t.x,e.x),X1(n.y,t.y,e.y)}function $1(n,t,e,r,o){return n-=t,n=Of(n,1/e,r),o!==void 0&&(n=Of(n,1/o,r)),n}function v6(n,t=0,e=1,r=.5,o,u=n,c=n){if(os.test(t)&&(t=parseFloat(t),t=Ae(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Ae(u.min,u.max,r);n===u&&(m-=t),n.min=$1(n.min,t,e,m,o),n.max=$1(n.max,t,e,m,o)}function W1(n,t,[e,r,o],u,c){v6(n,t[e],t[r],t[o],t.scale,u,c)}const _6=["x","scaleX","originX"],T6=["y","scaleY","originY"];function Z1(n,t,e,r){W1(n.x,t,_6,e?e.x:void 0,r?r.x:void 0),W1(n.y,t,T6,e?e.y:void 0,r?r.y:void 0)}function J1(n){return n.translate===0&&n.scale===1}function wR(n){return J1(n.x)&&J1(n.y)}function tS(n,t){return n.min===t.min&&n.max===t.max}function E6(n,t){return tS(n.x,t.x)&&tS(n.y,t.y)}function eS(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function RR(n,t){return eS(n.x,t.x)&&eS(n.y,t.y)}function nS(n){return Rn(n.x)/Rn(n.y)}function iS(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Zi(n){return[n("x"),n("y")]}function S6(n,t,e){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:v,rotateX:E,rotateY:S,skewX:C,skewY:P}=e;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),C&&(r+=`skewX(${C}deg) `),P&&(r+=`skewY(${P}deg) `)}const m=n.x.scale*t.x,g=n.y.scale*t.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const CR=["TopLeft","TopRight","BottomLeft","BottomRight"],A6=CR.length,sS=n=>typeof n=="string"?parseFloat(n):n,rS=n=>typeof n=="number"||gt.test(n);function b6(n,t,e,r,o,u){o?(n.opacity=Ae(0,e.opacity??1,w6(r)),n.opacityExit=Ae(t.opacity??1,0,R6(r))):u&&(n.opacity=Ae(t.opacity??1,e.opacity??1,r));for(let c=0;c<A6;c++){const m=`border${CR[c]}Radius`;let g=aS(t,m),p=aS(e,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||rS(g)===rS(p)?(n[m]=Math.max(Ae(sS(g),sS(p),r),0),(os.test(p)||os.test(g))&&(n[m]+="%")):n[m]=p}(t.rotate||e.rotate)&&(n.rotate=Ae(t.rotate||0,e.rotate||0,r))}function aS(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const w6=IR(0,.5,Tw),R6=IR(.5,.95,oi);function IR(n,t,e){return r=>r<n?0:r>t?1:e(zu(n,t,r))}function C6(n,t,e){const r=En(n)?n:Wo(n);return r.start(Ky("",r,t,e)),r.animation}function qu(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}const I6=(n,t)=>n.depth-t.depth;class D6{constructor(){this.children=[],this.isDirty=!1}add(t){xy(this.children,t),this.isDirty=!0}remove(t){Df(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(I6),this.isDirty=!1,this.children.forEach(t)}}function x6(n,t){const e=wn.now(),r=({timestamp:o})=>{const u=o-e;u>=t&&(Lr(r),n(u-t))};return ge.setup(r,!0),()=>Lr(r)}function af(n){return En(n)?n.get():n}class V6{constructor(){this.members=[]}add(t){xy(this.members,t);for(let e=this.members.length-1;e>=0;e--){const r=this.members[e];if(r===t||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Df(this.members,r)}t.scheduleRender()}remove(t){if(Df(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let r;for(let o=e;o>=0;o--){const u=this.members[o],c=u.instance;if(u.isPresent!==!1&&(!c||c.isConnected!==!1)){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const o=r.options.layoutDependency,u=t.options.layoutDependency;if(!(o!==void 0&&u!==void 0&&o===u)){const g=r.instance;g&&g.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:m}=t.options;m===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const of={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xp=["","X","Y","Z"],M6=1e3;let N6=0;function Vp(n,t,e,r){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function DR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Xw(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ge,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&DR(r)}function xR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=N6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k6),this.nodes.forEach(j6),this.nodes.forEach(B6),this.nodes.forEach(L6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new D6)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ny),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const g=this.eventHandlers.get(c);g&&g.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Zy(c)&&!P3(c),this.instance=c;const{layoutId:m,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),n){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;ge.read(()=>{E=window.innerWidth}),n(c,()=>{const C=window.innerWidth;C!==E&&(E=C,this.root.updateBlockedByResize=!0,v&&v(),v=x6(S,250),of.hasAnimatedSinceResize&&(of.hasAnimatedSinceResize=!1,this.nodes.forEach(uS)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||g)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||p.getDefaultTransition()||K6,{onLayoutAnimationStart:U,onLayoutAnimationComplete:F}=p.getProps(),G=!this.targetLayout||!RR(this.targetLayout,C),Y=!E&&S;if(this.options.layoutRoot||this.resumeFrom||Y||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...Gy(P,"layout"),onPlay:U,onComplete:F};(p.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,Y)}else E||uS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(z6),this.nodes.forEach(O6),this.nodes.forEach(P6)):this.nodes.forEach(lS),this.clearAllSnapshots();const m=wn.now();fn.delta=us(0,1e3/60,m-fn.timestamp),fn.timestamp=m,fn.isProcessing=!0,Sp.update.process(fn),Sp.preRender.process(fn),Sp.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U6),this.sharedNodes.forEach(q6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!wR(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(m||Ta(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return c&&(g=this.removeTransform(g)),Y6(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return We();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Q6))){const{scroll:p}=this.root;p&&(Po(m.x,p.offset.x),Po(m.y,p.offset.y))}return m}removeElementScroll(c){const m=We();if(Si(m,c),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const p=this.path[g],{scroll:v,options:E}=p;p!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Si(m,c),Po(m.x,v.offset.x),Po(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const g=We();Si(g,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ko(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ta(v.latestValues)&&ko(g,v.latestValues)}return Ta(this.latestValues)&&ko(g,this.latestValues),g}removeTransform(c){const m=We();Si(m,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Ta(p.latestValues))continue;Dg(p.latestValues)&&p.updateSnapshot();const v=We(),E=p.measurePageBox();Si(v,E),Z1(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ta(this.latestValues)&&Z1(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!this.layout||!(v||E))return;this.resolvedRelativeTargetAt=fn.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Si(this.target,this.layout.layoutBox),dR(this.target,this.targetDelta)):Si(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||fR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,g){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),Pf(this.relativeTargetOrigin,m,g),Si(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(g=!1),g)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Si(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;K3(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=We());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K1(this.prevProjectionDelta.x,this.projectionDelta.x),K1(this.prevProjectionDelta.y,this.projectionDelta.y)),Cu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!iS(this.projectionDelta.x,this.prevProjectionDelta.x)||!iS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(c,m=!1){const g=this.snapshot,p=g?g.latestValues:{},v={...this.latestValues},E=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=We(),C=g?g.source:void 0,P=this.layout?this.layout.source:void 0,U=C!==P,F=this.getStack(),G=!F||F.members.length<=1,Y=!!(U&&!G&&this.options.crossfade===!0&&!this.path.some(G6));this.animationProgress=0;let Q;this.mixTargetDelta=it=>{const rt=it/1e3;cS(E.x,c.x,rt),cS(E.y,c.y,rt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pf(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H6(this.relativeTarget,this.relativeTargetOrigin,S,rt),Q&&E6(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=We()),Si(Q,this.relativeTarget)),U&&(this.animationValues=v,b6(v,p,this.latestValues,rt,Y,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{of.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=C6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:v}=c;if(!(!m||!g||!p)){if(this!==c&&this.layout&&p&&VR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||We();const E=Rn(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+E;const S=Rn(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+S}Si(m,g),ko(m,v),Cu(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new V6),this.sharedNodes.get(c).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&Vp("z",c,p,this.animationValues);for(let v=0;v<xp.length;v++)Vp(`rotate${xp[v]}`,c,p,this.animationValues),Vp(`skew${xp[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=af(m?.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=af(m?.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let E=S6(this.projectionDeltaWithTransform,this.treeScale,v);g&&(E=g(v,E)),c.transform=E;const{x:S,y:C}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in Vg){if(v[P]===void 0)continue;const{correct:U,applyTo:F,isCSSVariable:G}=Vg[P],Y=E==="none"?v[P]:U(v[P],p);if(F){const Q=F.length;for(let it=0;it<Q;it++)c[F[it]]=Y}else G?this.options.visualElement.renderState.vars[P]=Y:c[P]=Y}this.options.layoutId&&(c.pointerEvents=p===this?af(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(oS),this.root.sharedNodes.clear()}}}function O6(n){n.updateLayout()}function P6(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Zi(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(E);E.min=e[v].min,E.max=E.min+S}):VR(o,t.layoutBox,e)&&Zi(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=Rn(e[v]);E.max=E.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const c=Oo();Cu(c,e,t.layoutBox);const m=Oo();u?Cu(m,n.applyTransform(r,!0),t.measuredBox):Cu(m,e,t.layoutBox);const g=!wR(c);let p=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:S}=v;if(E&&S){const C=We();Pf(C,t.layoutBox,E.layoutBox);const P=We();Pf(P,e,S.layoutBox),RR(C,P)||(p=!0),v.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=C,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:g,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function k6(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function L6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function U6(n){n.clearSnapshot()}function oS(n){n.clearMeasurements()}function lS(n){n.isLayoutDirty=!1}function z6(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function uS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function j6(n){n.resolveTargetDelta()}function B6(n){n.calcProjection()}function F6(n){n.resetSkewAndRotation()}function q6(n){n.removeLeadSnapshot()}function cS(n,t,e){n.translate=Ae(t.translate,0,e),n.scale=Ae(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function hS(n,t,e,r){n.min=Ae(t.min,e.min,r),n.max=Ae(t.max,e.max,r)}function H6(n,t,e,r){hS(n.x,t.x,e.x,r),hS(n.y,t.y,e.y,r)}function G6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const K6={duration:.45,ease:[.4,0,.1,1]},fS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),dS=fS("applewebkit/")&&!fS("chrome/")?Math.round:oi;function mS(n){n.min=dS(n.min),n.max=dS(n.max)}function Y6(n){mS(n.x),mS(n.y)}function VR(n,t,e){return n==="position"||n==="preserve-aspect"&&!g6(nS(t),nS(e),.2)}function Q6(n){return n!==n.root&&n.scroll?.wasRoot}const X6=xR({attachResizeListener:(n,t)=>qu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},MR=xR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Mp.current){const n=new X6({});n.mount(window),n.setOptions({layoutScroll:!0}),Mp.current=n}return Mp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),iv=st.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function pS(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function $6(...n){return t=>{let e=!1;const r=n.map(o=>{const u=pS(o,t);return!e&&typeof u=="function"&&(e=!0),u});if(e)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():pS(n[o],null)}}}}function W6(...n){return st.useCallback($6(...n),n)}class Z6 extends st.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=e.offsetParent,o=Cg(r)&&r.offsetWidth||0,u=Cg(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function J6({children:n,isPresent:t,anchorX:e,anchorY:r,root:o,pop:u}){const c=st.useId(),m=st.useRef(null),g=st.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=st.useContext(iv),v=n.props?.ref??n?.ref,E=W6(m,v);return st.useInsertionEffect(()=>{const{width:S,height:C,top:P,left:U,right:F,bottom:G}=g.current;if(t||u===!1||!m.current||!S||!C)return;const Y=e==="left"?`left: ${U}`:`right: ${F}`,Q=r==="bottom"?`bottom: ${G}`:`top: ${P}`;m.current.dataset.motionPopId=c;const it=document.createElement("style");p&&(it.nonce=p);const rt=o??document.head;return rt.appendChild(it),it.sheet&&it.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${S}px !important;
            height: ${C}px !important;
            ${Y}px !important;
            ${Q}px !important;
          }
        `),()=>{rt.contains(it)&&rt.removeChild(it)}},[t]),W.jsx(Z6,{isPresent:t,childRef:m,sizeRef:g,pop:u,children:u===!1?n:st.cloneElement(n,{ref:E})})}const tk=({children:n,initial:t,isPresent:e,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,anchorY:g,root:p})=>{const v=Dy(ek),E=st.useId();let S=!0,C=st.useMemo(()=>(S=!1,{id:E,initial:t,isPresent:e,custom:o,onExitComplete:P=>{v.set(P,!0);for(const U of v.values())if(!U)return;r&&r()},register:P=>(v.set(P,!1),()=>v.delete(P))}),[e,v,r]);return u&&S&&(C={...C}),st.useMemo(()=>{v.forEach((P,U)=>v.set(U,!1))},[e]),st.useEffect(()=>{!e&&!v.size&&r&&r()},[e]),n=W.jsx(J6,{pop:c==="popLayout",isPresent:e,anchorX:m,anchorY:g,root:p,children:n}),W.jsx(sd.Provider,{value:C,children:n})};function ek(){return new Map}function NR(n=!0){const t=st.useContext(sd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:o}=t,u=st.useId();st.useEffect(()=>{if(n)return o(u)},[n]);const c=st.useCallback(()=>n&&r&&r(u),[u,r,n]);return!e&&r?[!1,c]:[!0]}const jh=n=>n.key||"";function gS(n){const t=[];return st.Children.forEach(n,e=>{st.isValidElement(e)&&t.push(e)}),t}const nk=({children:n,custom:t,initial:e=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",anchorY:g="top",root:p})=>{const[v,E]=NR(c),S=st.useMemo(()=>gS(n),[n]),C=c&&!v?[]:S.map(jh),P=st.useRef(!0),U=st.useRef(S),F=Dy(()=>new Map),G=st.useRef(new Set),[Y,Q]=st.useState(S),[it,rt]=st.useState(S);uw(()=>{P.current=!1,U.current=S;for(let w=0;w<it.length;w++){const R=jh(it[w]);C.includes(R)?(F.delete(R),G.current.delete(R)):F.get(R)!==!0&&F.set(R,!1)}},[it,C.length,C.join("-")]);const ct=[];if(S!==Y){let w=[...S];for(let R=0;R<it.length;R++){const M=it[R],V=jh(M);C.includes(V)||(w.splice(R,0,M),ct.push(M))}return u==="wait"&&ct.length&&(w=ct),rt(gS(w)),Q(S),null}const{forceRender:I}=st.useContext(Iy);return W.jsx(W.Fragment,{children:it.map(w=>{const R=jh(w),M=c&&!v?!1:S===it||C.includes(R),V=()=>{if(G.current.has(R))return;if(G.current.add(R),F.has(R))F.set(R,!0);else return;let k=!0;F.forEach(D=>{D||(k=!1)}),k&&(I?.(),rt(U.current),c&&E?.(),r&&r())};return W.jsx(tk,{isPresent:M,initial:!P.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:M?void 0:V,anchorX:m,anchorY:g,children:w},R)})})},OR=st.createContext({strict:!1}),yS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vS=!1;function ik(){if(vS)return;const n={};for(const t in yS)n[t]={isEnabled:e=>yS[t].some(r=>!!e[r])};uR(n),vS=!0}function PR(){return ik(),F3()}function sk(n){const t=PR();for(const e in n)t[e]={...t[e],...n[e]};uR(t)}const rk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function kf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||rk.has(n)}let kR=n=>!kf(n);function ak(n){typeof n=="function"&&(kR=t=>t.startsWith("on")?!kf(t):n(t))}try{ak(require("@emotion/is-prop-valid").default)}catch{}function ok(n,t,e){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(kR(o)||e===!0&&kf(o)||!t&&!kf(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const od=st.createContext({});function lk(n,t){if(ad(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Fu(e)?e:void 0,animate:Fu(r)?r:void 0}}return n.inherit!==!1?t:{}}function uk(n){const{initial:t,animate:e}=lk(n,st.useContext(od));return st.useMemo(()=>({initial:t,animate:e}),[_S(t),_S(e)])}function _S(n){return Array.isArray(n)?n.join(" "):n}const sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LR(n,t,e){for(const r in t)!En(t[r])&&!gR(r,e)&&(n[r]=t[r])}function ck({transformTemplate:n},t){return st.useMemo(()=>{const e=sv();return ev(e,t,n),Object.assign({},e.vars,e.style)},[t])}function hk(n,t){const e=n.style||{},r={};return LR(r,e,n),Object.assign(r,ck(n,t)),r}function fk(n,t){const e={},r=hk(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const UR=()=>({...sv(),attrs:{}});function dk(n,t,e,r){const o=st.useMemo(()=>{const u=UR();return yR(u,t,_R(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};LR(u,n.style,n),o.style={...u,...o.style}}return o}const mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rv(n){return typeof n!="string"||n.includes("-")?!1:!!(mk.indexOf(n)>-1||/[A-Z]/u.test(n))}function pk(n,t,e,{latestValues:r},o,u=!1,c){const g=(c??rv(n)?dk:fk)(t,r,o,n),p=ok(t,typeof n=="string",u),v=n!==st.Fragment?{...p,...g,ref:e}:{},{children:E}=t,S=st.useMemo(()=>En(E)?E.get():E,[E]);return st.createElement(n,{...v,children:S})}function gk({scrapeMotionValuesFromProps:n,createRenderState:t},e,r,o){return{latestValues:yk(e,r,o,n),renderState:t()}}function yk(n,t,e,r){const o={},u=r(n,{});for(const S in u)o[S]=af(u[S]);let{initial:c,animate:m}=n;const g=ad(n),p=oR(n);t&&p&&!g&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?m:c;if(E&&typeof E!="boolean"&&!rd(E)){const S=Array.isArray(E)?E:[E];for(let C=0;C<S.length;C++){const P=Yy(n,S[C]);if(P){const{transitionEnd:U,transition:F,...G}=P;for(const Y in G){let Q=G[Y];if(Array.isArray(Q)){const it=v?Q.length-1:0;Q=Q[it]}Q!==null&&(o[Y]=Q)}for(const Y in U)o[Y]=U[Y]}}}return o}const zR=n=>(t,e)=>{const r=st.useContext(od),o=st.useContext(sd),u=()=>gk(n,t,r,o);return e?u():Dy(u)},vk=zR({scrapeMotionValuesFromProps:nv,createRenderState:sv}),_k=zR({scrapeMotionValuesFromProps:TR,createRenderState:UR}),Tk=Symbol.for("motionComponentSymbol");function Ek(n,t,e){const r=st.useRef(e);st.useInsertionEffect(()=>{r.current=e});const o=st.useRef(null);return st.useCallback(u=>{u&&n.onMount?.(u),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const jR=st.createContext({});function xo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Sk(n,t,e,r,o,u){const{visualElement:c}=st.useContext(od),m=st.useContext(OR),g=st.useContext(sd),p=st.useContext(iv),v=p.reducedMotion,E=p.skipAnimations,S=st.useRef(null),C=st.useRef(!1);r=r||m.renderer,!S.current&&r&&(S.current=r(n,{visualState:t,parent:c,props:e,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v,skipAnimations:E,isSVG:u}),C.current&&S.current&&(S.current.manuallyAnimateOnMount=!0));const P=S.current,U=st.useContext(jR);P&&!P.projection&&o&&(P.type==="html"||P.type==="svg")&&Ak(S.current,e,o,U);const F=st.useRef(!1);st.useInsertionEffect(()=>{P&&F.current&&P.update(e,g)});const G=e[Qw],Y=st.useRef(!!G&&!window.MotionHandoffIsComplete?.(G)&&window.MotionHasOptimisedAnimation?.(G));return uw(()=>{C.current=!0,P&&(F.current=!0,window.MotionIsMounted=!0,P.updateFeatures(),P.scheduleRenderMicrotask(),Y.current&&P.animationState&&P.animationState.animateChanges())}),st.useEffect(()=>{P&&(!Y.current&&P.animationState&&P.animationState.animateChanges(),Y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(G)}),Y.current=!1),P.enteringChildren=void 0)}),P}function Ak(n,t,e,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:g,layoutRoot:p,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:BR(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&xo(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:g,layoutRoot:p})}function BR(n){if(n)return n.options.allowProjection!==!1?n.projection:BR(n.parent)}function Np(n,{forwardMotionProps:t=!1,type:e}={},r,o){r&&sk(r);const u=e?e==="svg":rv(n),c=u?_k:vk;function m(p,v){let E;const S={...st.useContext(iv),...p,layoutId:bk(p)},{isStatic:C}=S,P=uk(p),U=c(p,C);if(!C&&lw){wk();const F=Rk(S);E=F.MeasureLayout,P.visualElement=Sk(n,U,S,o,F.ProjectionNode,u)}return W.jsxs(od.Provider,{value:P,children:[E&&P.visualElement?W.jsx(E,{visualElement:P.visualElement,...S}):null,pk(n,p,Ek(U,P.visualElement,v),U,C,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const g=st.forwardRef(m);return g[Tk]=n,g}function bk({layoutId:n}){const t=st.useContext(Iy).id;return t&&n!==void 0?t+"-"+n:n}function wk(n,t){st.useContext(OR).strict}function Rk(n){const t=PR(),{drag:e,layout:r}=t;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function Ck(n,t){if(typeof Proxy>"u")return Np;const e=new Map,r=(u,c)=>Np(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(e.has(c)||e.set(c,Np(c,void 0,n,t)),e.get(c))})}const Ik=(n,t)=>t.isSVG??rv(n)?new r6(t):new J3(t,{allowProjection:n!==st.Fragment});class Dk extends Fr{constructor(t){super(t),t.animationState||(t.animationState=c6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let xk=0;class Vk extends Fr{constructor(){super(...arguments),this.id=xk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Mk={animation:{Feature:Dk},exit:{Feature:Vk}};function rc(n){return{point:{x:n.pageX,y:n.pageY}}}const Nk=n=>t=>Wy(t)&&n(t,rc(t));function Iu(n,t,e,r){return qu(n,t,Nk(e),r)}const FR=({current:n})=>n?n.ownerDocument.defaultView:null,TS=(n,t)=>Math.abs(n-t);function Ok(n,t){const e=TS(n.x,t.x),r=TS(n.y,t.y);return Math.sqrt(e**2+r**2)}const ES=new Set(["auto","scroll"]);class qR{constructor(t,e,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=C=>{this.handleScroll(C.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Pp(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,U=Ok(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!U)return;const{point:F}=C,{timestamp:G}=fn;this.history.push({...F,timestamp:G});const{onStart:Y,onMove:Q}=this.handlers;P||(Y&&Y(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,C)},this.handlePointerMove=(C,P)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Op(P,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(C,P)=>{this.end();const{onEnd:U,onSessionEnd:F,resumeAnimation:G}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=Pp(C.type==="pointercancel"?this.lastMoveEventInfo:Op(P,this.transformPagePoint),this.history);this.startEvent&&U&&U(C,Y),F&&F(C,Y)},!Wy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const g=rc(t),p=Op(g,this.transformPagePoint),{point:v}=p,{timestamp:E}=fn;this.history=[{...v,timestamp:E}];const{onSessionStart:S}=e;S&&S(t,Pp(p,this.history)),this.removeListeners=nc(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let e=t.parentElement;for(;e;){const r=getComputedStyle(e);(ES.has(r.overflowX)||ES.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-e.x,y:o.y-e.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),ge.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Lr(this.updatePoint)}}function Op(n,t){return t?{point:t(n.point)}:n}function SS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Pp({point:n},t){return{point:n,delta:SS(n,HR(t)),offset:SS(n,Pk(t)),velocity:kk(t,.1)}}function Pk(n){return n[0]}function HR(n){return n[n.length-1]}function kk(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const o=HR(n);for(;e>=0&&(r=n[e],!(o.timestamp-r.timestamp>Ci(t)));)e--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&o.timestamp-r.timestamp>Ci(t)*2&&(r=n[1]);const u=ai(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Lk(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?Ae(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?Ae(e,n,r.max):Math.min(n,e)),n}function AS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function Uk(n,{top:t,left:e,bottom:r,right:o}){return{x:AS(n.x,e,o),y:AS(n.y,t,r)}}function bS(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function zk(n,t){return{x:bS(n.x,t.x),y:bS(n.y,t.y)}}function jk(n,t){let e=.5;const r=Rn(n),o=Rn(t);return o>r?e=zu(t.min,t.max-r,n.min):r>o&&(e=zu(n.min,n.max-o,t.min)),us(0,1,e)}function Bk(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Mg=.35;function Fk(n=Mg){return n===!1?n=0:n===!0&&(n=Mg),{x:wS(n,"left","right"),y:wS(n,"top","bottom")}}function wS(n,t,e){return{min:RS(n,t),max:RS(n,e)}}function RS(n,t){return typeof n=="number"?n:n[t]||0}const qk=new WeakMap;class Hk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{e&&this.snapToCursor(rc(E).point),this.stopAnimation()},c=(E,S)=>{const{drag:C,dragPropagation:P,onDragStart:U}=this.getProps();if(C&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v3(C),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(G=>{let Y=this.getAxisMotionValue(G).get()||0;if(os.test(Y)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const it=Q.layout.layoutBox[G];it&&(Y=Rn(it)*(parseFloat(Y)/100))}}this.originPoint[G]=Y}),U&&ge.update(()=>U(E,S),!1,!0),bg(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:P,onDirectionLock:U,onDrag:F}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:G}=S;if(P&&this.currentDirection===null){this.currentDirection=Kk(G),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",S.point,G),this.updateAxis("y",S.point,G),this.visualElement.render(),F&&ge.update(()=>F(E,S),!1,!0)},g=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:E}=this.getProps();(E||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new qR(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:FR(this.visualElement),element:this.visualElement.current})}stop(t,e){const r=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&ge.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,r){const{drag:o}=this.getProps();if(!r||!Bh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=Lk(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Uk(r.layoutBox,t):this.constraints=!1,this.elastic=Fk(e),o!==this.constraints&&!xo(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&Zi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Bk(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!xo(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=Y3(r,o.root,this.visualElement.getTransformPagePoint());let c=zk(o.layout.layoutBox,u);if(e){const m=e(H3(c));this.hasMutatedConstraints=!!m,m&&(c=hR(m))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=Zi(v=>{if(!Bh(v,e,this.currentDirection))return;let E=g&&g[v]||{};c&&(E={min:0,max:0});const S=o?200:1e6,C=o?40:1e7,P={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,P)});return Promise.all(p).then(m)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return bg(this.visualElement,t),r.start(Ky(t,r,0,e,this.visualElement,!1))}stopAnimation(){Zi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[e];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Zi(e=>{const{drag:r}=this.getProps();if(!Bh(e,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[e],g=u.get()||0;u.set(t[e]-Ae(c,m,.5)+g)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!xo(e)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zi(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const g=m.get();o[c]=jk({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Zi(c=>{if(!Bh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:g,max:p}=this.constraints[c];m.set(Ae(g,p,o[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;qk.set(this.visualElement,this);const t=this.visualElement.current,e=Iu(t,"pointerdown",p=>{const{drag:v,dragListener:E=!0}=this.getProps(),S=p.target,C=S!==t&&b3(S);v&&E&&!C&&this.start(p)});let r;const o=()=>{const{dragConstraints:p}=this.getProps();xo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),r||(r=Gk(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,c=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),ge.read(o);const m=qu(window,"resize",()=>this.scalePositionWithinConstraints()),g=u.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(Zi(E=>{const S=this.getAxisMotionValue(E);S&&(this.originPoint[E]+=p[E].translate,S.set(S.get()+p[E].translate))}),this.visualElement.render())}));return()=>{m(),e(),c(),g&&g(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Mg,dragMomentum:m=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function CS(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function Gk(n,t,e){const r=O1(n,CS(e)),o=O1(t,CS(e));return()=>{r(),o()}}function Bh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function Kk(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class Yk extends Fr{constructor(t){super(t),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new Hk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const kp=n=>(t,e)=>{n&&ge.update(()=>n(t,e),!1,!0)};class Qk extends Fr{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(t){this.session=new qR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:kp(t),onStart:kp(e),onMove:kp(r),onEnd:(u,c)=>{delete this.session,o&&ge.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Lp=!1;class Xk extends st.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(e.group&&e.group.add(u),r&&r.register&&o&&r.register(u),Lp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),of.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),Lp=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ge.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$y.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:o}=t;Lp=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GR(n){const[t,e]=NR(),r=st.useContext(Iy);return W.jsx(Xk,{...n,layoutGroup:r,switchLayoutGroup:st.useContext(jR),isPresent:t,safeToRemove:e})}const $k={pan:{Feature:Qk},drag:{Feature:Yk,ProjectionNode:MR,MeasureLayout:GR}};function IS(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=r[o];u&&ge.postRender(()=>u(t,rc(t)))}class Wk extends Fr{mount(){const{current:t}=this.node;t&&(this.unmount=T3(t,(e,r)=>(IS(this.node,r,"Start"),o=>IS(this.node,o,"End"))))}unmount(){}}class Zk extends Fr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(qu(this.node.current,"focus",()=>this.onFocus()),qu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DS(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=r[o];u&&ge.postRender(()=>u(t,rc(t)))}class Jk extends Fr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:r}=this.node.props;this.unmount=R3(t,(o,u)=>(DS(this.node,u,"Start"),(c,{success:m})=>DS(this.node,c,m?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:r?.tap===!1})}unmount(){}}const Ng=new WeakMap,Up=new WeakMap,tL=n=>{const t=Ng.get(n.target);t&&t(n)},eL=n=>{n.forEach(tL)};function nL({root:n,...t}){const e=n||document;Up.has(e)||Up.set(e,{});const r=Up.get(e),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(eL,{root:n,...t})),r[o]}function iL(n,t,e){const r=nL(t);return Ng.set(n,e),r.observe(n),()=>{Ng.delete(n),r.unobserve(n)}}const sL={some:0,all:1};class rL extends Fr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:sL[o]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=p?v:E;S&&S(g)};return iL(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(aL(t,e))&&this.startObserver()}unmount(){}}function aL({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const oL={inView:{Feature:rL},tap:{Feature:Jk},focus:{Feature:Zk},hover:{Feature:Wk}},lL={layout:{ProjectionNode:MR,MeasureLayout:GR}},uL={...Mk,...oL,...$k,...lL},zp=Ck(uL,Ik);function cL({matchId:n,playerRole:t,gameState:e,userId:r,onGameUpdate:o,isSolo:u,toggleFullscreen:c,isFullscreen:m}){const g=t==="p1"?"p2":"p1",p=e[t],v=e[g],[E,S]=st.useState(MS(p.gridStr)),[C,P]=st.useState(p.pieces),[U,F]=st.useState(null),[G,Y]=st.useState(null),[Q,it]=st.useState([]),[rt,ct]=st.useState(!1),[I,w]=st.useState(!1),[R,M]=st.useState(new Set),[V,k]=st.useState([]),[D,ie]=st.useState(!1),[Te,X]=st.useState([]),[ot,ht]=st.useState([]),Rt=st.useRef(null),kt=st.useRef([]),N=st.useRef(null);st.useEffect(()=>{const at=Tt=>{Tt.key.toLowerCase()};return window.addEventListener("keydown",at),()=>window.removeEventListener("keydown",at)},[]),st.useEffect(()=>{if(u||e.status!=="playing")return;const at=setInterval(()=>{o({[`${t}.lastSeen`]:gu()})},1e3),Tt=setInterval(()=>{if(e.winner)return;const At=v.lastSeen;if(!At)return;const bt=At.toMillis?At.toMillis():At,Qt=Date.now()-bt;Qt>5e3?ie(!0):ie(!1),Qt>1e4&&(console.log("Opponent timed out! Claiming victory."),o({status:"finished",winner:r}))},500);return()=>{clearInterval(at),clearInterval(Tt)}},[u,e.status,e.winner,v.lastSeen,t]),st.useEffect(()=>{if(p.attackIncoming){if(p.attackIncoming.type==="lock"){const at=Math.floor(Math.random()*3),Tt=Date.now()+(p.attackIncoming.duration||7e3);if(N.current&&kt.current[at]){const At=N.current.getBoundingClientRect(),bt=kt.current[at].getBoundingClientRect(),Qt={x:At.left+At.width/2,y:At.top+At.height/2},Lt={x:bt.left+bt.width/2,y:bt.top+bt.height/2},Zt=Lt.x-Qt.x,fe=Lt.y-Qt.y,Pe=Math.atan2(fe,Zt)*180/Math.PI+90,me=Date.now();X(Ft=>[...Ft,{id:me,start:Qt,end:Lt,type:"defense",rotation:Pe}]),setTimeout(()=>{it(Ft=>[...Ft,{index:at,expiresAt:Tt}]),w(!0),setTimeout(()=>w(!1),500),ht(Ft=>[...Ft,{id:Date.now(),x:Lt.x,y:Lt.y}]),setTimeout(()=>{ht(Ft=>Ft.filter(Ct=>Date.now()-Ct.id<500))},500)},800)}else it(At=>[...At,{index:at,expiresAt:Tt}]);setTimeout(()=>{it(At=>At.filter(bt=>bt.index!==at))},(p.attackIncoming.duration||7e3)+800)}o({[`${t}.attackIncoming`]:null})}},[p.attackIncoming,t]),st.useEffect(()=>{if(Q.length===0)return;const at=setInterval(()=>{it(Tt=>[...Tt])},1e3);return()=>clearInterval(at)},[Q.length]),st.useEffect(()=>{const at=p.lockedUntil>Date.now();if(ct(at),at){const Tt=p.lockedUntil-Date.now();setTimeout(()=>ct(!1),Tt)}},[p.lockedUntil]);const J=(at,Tt,At)=>{if(rt||Q.some(Lt=>Lt.index===At)||R.size>0)return;const bt=at.touches?at.touches[0].clientX:at.clientX,Qt=at.touches?at.touches[0].clientY:at.clientY;F({piece:Tt,index:At,currentX:bt,currentY:Qt,offsetX:0,offsetY:0})},ut=at=>{if(!U)return;at.preventDefault();const Tt=at.touches?at.touches[0].clientX:at.clientX,At=at.touches?at.touches[0].clientY:at.clientY;let bt=null;if(Rt.current){const Qt=Rt.current.getBoundingClientRect(),Lt=Qt.width/Ge,Zt=Tt-Qt.left,fe=At-Qt.top,Pe=U.piece.shape[0].length*Lt,me=U.piece.shape.length*Lt,Ft=Math.floor((Zt-Pe/2+Lt/2)/Lt),Ct=Math.floor((fe-me/2+Lt/2)/Lt);St(U.piece.shape,Ft,Ct,E)&&(bt={x:Ft,y:Ct})}F(Qt=>({...Qt,currentX:Tt,currentY:At})),Y(bt)},ft=async()=>{U&&(G&&Mt(U.piece,G.x,G.y,U.index,U.currentX,U.currentY),F(null),Y(null))},St=(at,Tt,At,bt)=>{for(let Qt=0;Qt<at.length;Qt++)for(let Lt=0;Lt<at[Qt].length;Lt++)if(at[Qt][Lt]===1){const Zt=At+Qt,fe=Tt+Lt;if(Zt<0||Zt>=Ge||fe<0||fe>=Ge||bt[Zt][fe]===1)return!1}return!0},Mt=async(at,Tt,At,bt,Qt,Lt)=>{const Zt=E.map(Ct=>[...Ct]);at.shape.forEach((Ct,Je)=>{Ct.forEach((Xe,$t)=>{Xe===1&&(Zt[At+Je][Tt+$t]=1)})});const fe=[...C];fe[bt]=null,P(fe),S(Zt);const Pe=new Set,me=new Set;for(let Ct=0;Ct<Ge;Ct++)Zt[Ct].every(Je=>Je===1)&&Pe.add(Ct);for(let Ct=0;Ct<Ge;Ct++){let Je=!0;for(let Xe=0;Xe<Ge;Xe++)Zt[Xe][Ct]===0&&(Je=!1);Je&&me.add(Ct)}const Ft=Pe.size>0||me.size>0;if(at.shape.flat().filter(Ct=>Ct).length,Ft){const Ct=new Set;for(let $t=0;$t<Ge;$t++)for(let Ut=0;Ut<Ge;Ut++)(Pe.has($t)||me.has(Ut))&&Ct.add(`${$t}-${Ut}`);M(Ct);const Xe=Pe.size*Ge+me.size*Ge-Pe.size*me.size;k($t=>[...$t,{id:Date.now(),x:Qt,y:Lt,value:Xe}]),setTimeout(()=>{k($t=>$t.filter(Ut=>Date.now()-Ut.id<1e3))},1100),setTimeout(()=>{zt(Zt,fe,Pe,me),M(new Set)},1e3)}else zt(Zt,fe,new Set,new Set)},zt=(at,Tt,At,bt,Qt)=>{const Lt=Ca();for(let $t=0;$t<Ge;$t++)for(let Ut=0;Ut<Ge;Ut++)At.has($t)||bt.has(Ut)?Lt[$t][Ut]=0:Lt[$t][Ut]=at[$t][Ut];const Zt=At.size*Ge+bt.size*Ge-At.size*bt.size,fe=Zt>0?Zt:0,Pe=At.size+bt.size,me=[...Tt];me.every($t=>$t===null)&&lf(3).forEach((Ut,rn)=>me[rn]=Ut),S(Lt),P(me);const Ft=me.filter($t=>$t!==null);let Ct=!1;if(Ft.length===0)Ct=!0;else t:for(let $t of Ft)for(let Ut=0;Ut<Ge;Ut++)for(let rn=0;rn<Ge;rn++)if(St($t.shape,Ut,rn,Lt)){Ct=!0;break t}const Je=u?me:Pg(me),Xe={[`${t}.gridStr`]:Du(Lt),[`${t}.pieces`]:Je,[`${t}.score`]:p.score+fe};if(p.score+fe>=fu&&(Xe.status="finished",Xe.winner=r),Pe>=3&&!u&&(Xe[`${t==="p1"?"p2":"p1"}.attackIncoming`]={type:"lock",duration:7e3,timestamp:Date.now()},Rt.current&&N.current)){const $t=Rt.current.getBoundingClientRect(),Ut=N.current.getBoundingClientRect(),rn={x:$t.left+$t.width/2,y:$t.top+$t.height/2},ui={x:Ut.left+Ut.width/2,y:Ut.top+Ut.height/2},qr=ui.x-rn.x,Di=ui.y-rn.y,ll=Math.atan2(Di,qr)*180/Math.PI+90,ka=Date.now();X(xi=>[...xi,{id:ka,start:rn,end:ui,type:"attack",rotation:ll}]),setTimeout(()=>{ht(xi=>[...xi,{id:Date.now(),x:ui.x,y:ui.y}]),setTimeout(()=>{ht(xi=>xi.filter(La=>Date.now()-La.id<500))},500)},800)}Ct||(w(!0),setTimeout(()=>w(!1),800),Xe[`${t}.gridStr`]=Du(Ca()),Xe[`${t}.score`]=Math.max(0,p.score+fe-10),Xe[`${t}.lockedUntil`]=Date.now()+3e3,S(Ca())),o(Xe)},Ie=(at,Tt,At,bt)=>R.has(`${Tt}-${At}`)?"bg-white z-20 animate-clearing shadow-[0_0_15px_white] border-2 border-white":at===0?bt?"bg-white/10 border-2 border-white/40 border-dashed animate-pulse":"bg-slate-800/50 border-2 border-transparent":bt?"bg-cyan-500/30 border-2 border-cyan-500/50":t==="p1"?"bg-cyan-500 border-2 border-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.5)]":"bg-fuchsia-500 border-2 border-fuchsia-400 shadow-[0_0_10px_rgba(217,70,239,0.5)]";return W.jsxs("div",{className:"h-screen w-full flex flex-col relative overflow-hidden",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},onMouseMove:ut,onTouchMove:ut,onMouseUp:ft,onTouchEnd:ft,children:[W.jsxs(nk,{children:[Te.map(at=>W.jsx(zp.div,{initial:{left:at.start.x,top:at.start.y,opacity:0,scale:.5,rotate:0},animate:{left:at.end.x,top:at.end.y,opacity:1,scale:1,rotate:at.rotation},exit:{opacity:0,scale:1.5},transition:{duration:.8,ease:"easeIn"},onAnimationComplete:()=>{X(Tt=>Tt.filter(At=>At.id!==at.id))},className:"fixed z-[150] pointer-events-none",style:{transform:"translate(-50%, -50%)"},children:W.jsxs("div",{className:"relative",children:[W.jsxs("div",{className:"w-6 h-10 bg-slate-300 rounded-t-full shadow-lg border-x-2 border-slate-400 relative overflow-hidden",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent"}),W.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-2 h-2 bg-cyan-400 rounded-full shadow-[0_0_5px_cyan]"})]}),W.jsx("div",{className:"absolute -bottom-1 -left-2 w-3 h-4 bg-red-500 rounded-bl-lg border-l border-red-600"}),W.jsx("div",{className:"absolute -bottom-1 -right-2 w-3 h-4 bg-red-500 rounded-br-lg border-r border-red-600"}),W.jsx(zp.div,{animate:{height:[15,25,15],opacity:[.9,1,.9],scaleX:[.8,1.2,.8]},transition:{repeat:1/0,duration:.15},className:"absolute -bottom-6 left-1/2 -translate-x-1/2 w-4 bg-gradient-to-t from-transparent via-orange-500 to-yellow-400 rounded-b-full shadow-[0_0_20px_#f97316]"})]})},at.id)),ot.map(at=>W.jsxs(zp.div,{initial:{left:at.x,top:at.y,scale:0,opacity:1},animate:{scale:3,opacity:0},transition:{duration:.5},className:"fixed z-[160] w-12 h-12 rounded-full bg-orange-500 pointer-events-none",style:{transform:"translate(-50%, -50%)"},children:[W.jsx("div",{className:"absolute inset-0 rounded-full bg-yellow-400 blur-sm"}),W.jsx("div",{className:"absolute inset-2 rounded-full bg-white blur-xs"})]},at.id))]}),I&&W.jsx("div",{className:"absolute inset-0 bg-red-500/20 z-50 pointer-events-none animate-pulse"}),V.map(at=>W.jsxs("div",{className:"fixed z-[100] text-4xl font-black text-yellow-400 animate-float-score pointer-events-none drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]",style:{left:at.x,top:at.y},children:["+",at.value]},at.id)),W.jsxs("div",{className:"flex-none flex items-end justify-between p-2 md:p-4 bg-slate-900 border-b border-slate-800 z-10 shrink-0",children:[W.jsxs("div",{className:"flex flex-col gap-1 w-1/3",children:[W.jsxs("div",{className:"flex justify-between text-[10px] md:text-xs font-mono text-cyan-400",children:[W.jsx("span",{children:u?"SCORE":"YOU"}),W.jsxs("span",{children:[Math.floor(p.score),"/",fu]})]}),W.jsx("div",{className:"h-1.5 md:h-2 bg-slate-800 rounded-full overflow-hidden",children:W.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-500",style:{width:`${p.score/fu*100}%`}})})]}),W.jsx("div",{className:"flex flex-col items-center",children:W.jsx("div",{className:"bg-slate-800 px-2 py-0.5 md:px-3 md:py-1 rounded text-[10px] md:text-xs font-mono text-slate-400 border border-slate-700",children:": 100"})}),W.jsx("div",{className:"flex flex-col gap-1 w-1/3 text-right",children:u?W.jsxs("div",{className:"flex justify-end items-center gap-2 text-slate-500 text-[10px] md:text-xs font-mono h-full",children:[W.jsx(ow,{className:"w-3 h-3 md:w-4 md:h-4"})," SOLO MODE"]}):W.jsxs(W.Fragment,{children:[W.jsxs("div",{className:"flex justify-between text-[10px] md:text-xs font-mono text-fuchsia-400",children:[W.jsx("span",{children:"OPPONENT"}),W.jsxs("span",{children:[Math.floor(v.score),"/",fu]})]}),W.jsx("div",{className:"h-1.5 md:h-2 bg-slate-800 rounded-full overflow-hidden",children:W.jsx("div",{className:"h-full bg-fuchsia-500 transition-all duration-500",style:{width:`${v.score/fu*100}%`}})})]})})]}),W.jsxs("div",{className:"flex-none p-2 md:p-4 flex justify-between items-start relative shrink-0",children:[W.jsx("div",{children:W.jsx("button",{onClick:c,className:"text-slate-500 hover:text-cyan-400 p-2 bg-slate-900/50 rounded-lg border border-slate-700/50 backdrop-blur-sm transition-colors",children:m?W.jsx(JO,{className:"w-5 h-5"}):W.jsx(WO,{className:"w-5 h-5"})})}),!u&&W.jsxs("div",{ref:N,className:"bg-slate-900 p-1 md:p-2 rounded-lg border border-slate-700 shadow-xl opacity-80 relative",children:[D&&W.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-950/80 flex flex-col items-center justify-center rounded-lg animate-pulse backdrop-blur-sm",children:[W.jsx(oP,{className:"w-6 h-6 text-yellow-500 mb-1"}),W.jsx("span",{className:"text-[9px] text-yellow-500 font-bold uppercase tracking-wider",children:"Reconnecting"})]}),W.jsx("div",{className:"grid grid-cols-8 gap-[1px] bg-slate-800 border border-slate-800 mb-1 md:mb-2 w-[80px] h-[80px] md:w-[100px] md:h-[100px]",children:MS(v.gridStr).map((at,Tt)=>at.map((At,bt)=>W.jsx("div",{className:`w-full h-full ${At?"bg-fuchsia-500/80":"bg-slate-900"}`},`${Tt}-${bt}`)))}),W.jsx("div",{className:"flex justify-center gap-1 h-5 md:h-6",children:v.pieces.map((at,Tt)=>W.jsx("div",{className:"w-5 md:w-6 bg-slate-800/50 rounded flex items-center justify-center",children:at&&W.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-fuchsia-500/50 rounded-sm"})},Tt))})]})]}),W.jsxs("div",{className:`flex-1 flex flex-col items-center justify-start md:justify-center gap-2 md:gap-6 relative overflow-y-auto pb-safe ${u?"pt-4 md:pt-8":""}`,children:[e.winner&&W.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-950/90 backdrop-blur",children:W.jsxs("div",{className:"text-center p-8 bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl transform scale-110",children:[e.winner===r||u?W.jsxs(W.Fragment,{children:[W.jsx(cP,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4 animate-bounce"}),W.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"VICTORY"}),W.jsx("p",{className:"text-cyan-400",children:u?"Target Reached!":e.status==="finished"&&e.winner===r?"You Won!":"Target Reached!"})]}):W.jsxs(W.Fragment,{children:[W.jsx(rP,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),W.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"DEFEAT"}),W.jsx("p",{className:"text-slate-400",children:"Opponent claimed the grid."})]}),!u&&e.winner===r&&W.jsxs("div",{className:"mt-2 text-xs text-slate-500 flex items-center justify-center gap-1",children:[W.jsx(dP,{className:"w-3 h-3"}),"If opponent disconnects (>10s), you win automatically."]}),W.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-2 bg-white text-black font-bold rounded-full hover:bg-slate-200",children:"Play Again"})]})}),W.jsxs("div",{ref:Rt,className:`relative bg-slate-900 p-2 rounded-xl border border-slate-700 shadow-2xl transition-all duration-300 ${rt?"grayscale brightness-50 pointer-events-none":""}`,children:[rt&&W.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center text-red-500 font-bold animate-pulse",children:[W.jsx(iP,{className:"w-12 h-12 mb-2 animate-spin"}),W.jsx("span",{className:"text-2xl",children:"BOARD WIPE"}),W.jsx("span",{className:"text-xs text-white",children:"NO MOVES POSSIBLE (-10 PTS)"})]}),W.jsx("div",{className:"grid grid-cols-8 gap-1 w-[300px] h-[300px] sm:w-[360px] sm:h-[360px]",children:E.map((at,Tt)=>at.map((At,bt)=>{const Qt=G&&G.y<=Tt&&Tt<G.y+U.piece.shape.length&&G.x<=bt&&bt<G.x+U.piece.shape[0].length&&U.piece.shape[Tt-G.y][bt-G.x]===1;return W.jsx("div",{className:`w-full h-full rounded-sm transition-colors duration-100 ${Ie(At,Tt,bt,Qt)}`},`${Tt}-${bt}`)}))})]}),W.jsx("div",{className:"w-full max-w-md px-4 pb-8 flex justify-center gap-4 h-24",children:C.map((at,Tt)=>{const At=Q.find(Zt=>Zt.index===Tt),bt=!!At,Qt=U&&U.index===Tt,Lt=At?Math.max(0,Math.ceil((At.expiresAt-Date.now())/1e3)):0;return W.jsxs("div",{ref:Zt=>kt.current[Tt]=Zt,className:`flex-1 h-24 bg-slate-800/50 rounded-lg border-2 border-slate-800 flex items-center justify-center relative ${bt?"border-red-500/50 bg-red-900/10":""}`,onMouseDown:Zt=>at&&!bt&&J(Zt,at,Tt),onTouchStart:Zt=>at&&!bt&&J(Zt,at,Tt),children:[bt&&W.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-black/40 rounded-lg animate-in fade-in duration-300",children:[W.jsx(XO,{className:"w-8 h-8 text-red-500 animate-lock"}),W.jsxs("span",{className:"text-white text-xs font-black mt-1 tabular-nums",children:[Lt,"s"]})]}),at&&!Qt&&W.jsx("div",{className:`grid gap-[2px] pointer-events-none transition-all duration-500 ${bt?"opacity-30 blur-md grayscale scale-90":"opacity-100"}`,style:{gridTemplateColumns:`repeat(${at.shape[0].length}, 1fr)`},children:at.shape.map((Zt,fe)=>Zt.map((Pe,me)=>Pe?W.jsx("div",{className:"w-4 h-4 bg-cyan-500 rounded-sm shadow-sm"},`${fe}-${me}`):W.jsx("div",{},`${fe}-${me}`)))})]},Tt)})})]}),U&&W.jsx("div",{className:"fixed pointer-events-none z-50 opacity-80",style:{left:U.currentX,top:U.currentY,transform:"translate(-50%, -50%) scale(1.1)"},children:W.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${U.piece.shape[0].length}, 1fr)`},children:U.piece.shape.map((at,Tt)=>at.map((At,bt)=>At?W.jsx("div",{className:"w-8 h-8 bg-cyan-400 rounded-sm shadow-[0_0_15px_rgba(34,211,238,0.8)]"},`${Tt}-${bt}`):W.jsx("div",{},`${Tt}-${bt}`)))})})]})}const hL={apiKey:"AIzaSyC7Gm_3Lie_unVXaw6s7wVp2urxt7RAyJ0",authDomain:"gridlock100.firebaseapp.com",projectId:"gridlock100",storageBucket:"gridlock100.firebasestorage.app",messagingSenderId:"295310640766",appId:"1:295310640766:web:f1b85dd7a46b28e3d27a2f",measurementId:"G-JVY8NNNLHQ"},KR=qS(hL),xS=gV(KR),Fh=SO(KR),qh="grid-lock-100-dev",Ge=8,fu=100,Og=[{id:"1x1",shape:[[1]]},{id:"2x1",shape:[[1,1]]},{id:"1x2",shape:[[1],[1]]},{id:"3x1",shape:[[1,1,1]]},{id:"1x3",shape:[[1],[1],[1]]},{id:"2x2",shape:[[1,1],[1,1]]},{id:"L",shape:[[1,0],[1,0],[1,1]]},{id:"T",shape:[[1,1,1],[0,1,0]]},{id:"Z",shape:[[1,1,0],[0,1,1]]}],Ca=()=>Array(Ge).fill().map(()=>Array(Ge).fill(0)),lf=(n=3)=>Array(n).fill(null).map((t,e)=>({uid:Math.random().toString(36).substr(2,9),...Og[Math.floor(Math.random()*Og.length)]})),Pg=n=>n?n.map(t=>t?{uid:t.uid,id:t.id}:null):[],VS=n=>n?n.map(t=>{if(!t)return null;const e=Og.find(r=>r.id===t.id);return{...t,shape:e?e.shape:[[1]]}}):[],Du=n=>n.flat().join(""),MS=n=>{const t=Ca();if(!n)return t;for(let e=0;e<64;e++){const r=Math.floor(e/Ge),o=e%Ge;t[r][o]=parseInt(n[e]||"0")}return t};function fL(){const[n,t]=st.useState(null),[e,r]=st.useState(null),[o,u]=st.useState(null),[c,m]=st.useState(null),[g,p]=st.useState("menu"),[v,E]=st.useState(!1),[S,C]=st.useState(!1);st.useEffect(()=>((async()=>await JD(xS))(),rx(xS,t)),[]);const P=()=>{document.fullscreenElement||(document.documentElement.requestFullscreen().catch(()=>{}),C(!0)),E(!0);const Y=Du(Ca()),Q={p1:{uid:n?.uid||"solo",gridStr:Y,score:0,pieces:lf(3),attackIncoming:null,lockedUntil:0,lastSeen:Date.now()},p2:{uid:"bot",gridStr:Y,score:0,pieces:[],attackIncoming:null,lockedUntil:0,lastSeen:Date.now()},winner:null,status:"playing",createdAt:Date.now()};m(Q),u("p1"),p("playing")},U=async()=>{if(console.log("findMatch: Starting matchmaking found..."),!n){console.log("findMatch: No user found, aborting.");return}document.fullscreenElement||(document.documentElement.requestFullscreen().catch(()=>{}),C(!0)),E(!1),p("finding"),console.log("findMatch: Status set to finding. UserId:",n.uid);try{const Y=n1(Fh,"artifacts",qh,"public","data","matches");console.log("findMatch: Querying for waiting matches in",Y.path);const Q=OO(Y,PO("status","==","waiting"),kO(1)),it=await zO(Q);if(console.log("findMatch: Query Snapshot size:",it.size),it.empty){console.log("findMatch: No waiting matches found. Creating new match...");const rt=Lh(n1(Fh,"artifacts",qh,"public","data","matches")),ct=Pg(lf(3)),I=Pg(lf(3)),w={p1:{uid:n.uid,gridStr:Du(Ca()),score:0,pieces:ct,attackIncoming:null,lockedUntil:0,lastSeen:gu()},p2:{uid:null,gridStr:Du(Ca()),score:0,pieces:I,attackIncoming:null,lockedUntil:0,lastSeen:gu()},winner:null,status:"waiting",createdAt:gu()};await jO(rt,w),console.log("findMatch: Created new match:",rt.id),r(rt.id),u("p1")}else{const rt=it.docs[0],ct=rt.data();if(console.log("findMatch: Found waiting match:",rt.id,ct),ct.p1.uid===n.uid){console.log("findMatch: User is already P1 in this match. Rejoining as P1."),r(rt.id),u("p1");return}console.log("findMatch: Joining as P2..."),await h1(Lh(Y,rt.id),{"p2.uid":n.uid,status:"playing",startTime:gu()}),console.log("findMatch: Joined successfully."),r(rt.id),u("p2")}}catch(Y){console.error("Matchmaking error:",Y),p("menu")}},F=()=>{document.fullscreenElement?document.exitFullscreen().then(()=>C(!1)).catch(Y=>console.error(Y)):document.documentElement.requestFullscreen().then(()=>C(!0)).catch(Y=>console.error(Y))},G=async Y=>{if(v)m(Q=>{const it=JSON.parse(JSON.stringify(Q));return Object.keys(Y).forEach(rt=>{const ct=rt.split(".");ct.length===1?it[rt]=Y[rt]:ct.length===2&&(it[ct[0]][ct[1]]=Y[rt])}),it});else{if(!e)return;await h1(Lh(Fh,"artifacts",qh,"public","data","matches",e),Y)}};return st.useEffect(()=>{if(v||!e||!n)return;const Y=BO(Lh(Fh,"artifacts",qh,"public","data","matches",e),Q=>{if(Q.exists()){const it=Q.data();it.p1?.pieces&&(it.p1.pieces=VS(it.p1.pieces)),it.p2?.pieces&&(it.p2.pieces=VS(it.p2.pieces)),m(it),it.status==="playing"&&g!=="playing"&&p("playing"),it.status==="finished"&&p("finished")}},Q=>console.error("Sync error",Q));return()=>Y()},[e,n,g,v]),n?W.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500 selection:text-white overflow-hidden touch-none",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:[g==="menu"&&W.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-6 space-y-8 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black",children:[W.jsxs("div",{className:"text-center space-y-2",children:[W.jsx("h1",{className:"text-6xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-blue-600",children:"GRID LOCK"}),W.jsx("p",{className:"text-xl text-slate-400 font-mono tracking-widest",children:"100 BLOCK RACE"})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full",children:[W.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 backdrop-blur-sm",children:[W.jsx(pP,{className:"w-6 h-6 text-yellow-400 mb-2"}),W.jsx("h3",{className:"font-bold",children:"Speed"}),W.jsx("p",{className:"text-xs text-slate-400",children:"Clear lines fast to score points."})]}),W.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 backdrop-blur-sm",children:[W.jsx(eP,{className:"w-6 h-6 text-red-400 mb-2"}),W.jsx("h3",{className:"font-bold",children:"Attack"}),W.jsx("p",{className:"text-xs text-slate-400",children:"Clear 3+ lines to lock opponent's pieces."})]})]}),W.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[W.jsx("button",{onClick:U,className:"group relative px-8 py-4 bg-cyan-500 hover:bg-cyan-400 text-slate-950 font-bold text-xl rounded-full transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(6,182,212,0.5)] w-full",children:W.jsxs("span",{className:"flex items-center justify-center gap-2",children:[W.jsx(d1,{className:"w-6 h-6 fill-current"}),"MULTIPLAYER"]})}),W.jsx("button",{onClick:P,className:"group px-8 py-3 bg-slate-800 hover:bg-slate-700 text-slate-200 font-bold text-lg rounded-full transition-all hover:scale-105 active:scale-95 border border-slate-700 w-full",children:W.jsxs("span",{className:"flex items-center justify-center gap-2",children:[W.jsx(ow,{className:"w-5 h-5 text-emerald-400"}),"SOLO TRAINING"]})})]})]}),g==="finding"&&W.jsxs("div",{className:"flex flex-col items-center justify-center h-screen space-y-6",children:[W.jsxs("div",{className:"relative",children:[W.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"}),W.jsx(d1,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 text-cyan-500"})]}),W.jsx("p",{className:"text-slate-400 animate-pulse",children:"Scanning network for opponent..."})]}),(g==="playing"||g==="finished")&&c&&W.jsx(cL,{matchId:e,playerRole:o,gameState:c,userId:n.uid,onGameUpdate:G,isSolo:v,toggleFullscreen:F,isFullscreen:S})]}):W.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:"Authenticating..."})}M2.createRoot(document.getElementById("root")).render(W.jsx(st.StrictMode,{children:W.jsx(fL,{})}));
