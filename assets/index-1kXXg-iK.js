(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},pl={};var L_;function UA(){if(L_)return pl;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var P_;function kA(){return P_||(P_=1,xd.exports=UA()),xd.exports}var W=kA(),Ud={exports:{}},Tt={};var z_;function LA(){if(z_)return Tt;z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.iterator;function H(S){return S===null||typeof S!="object"?null:(S=M&&S[M]||S["@@iterator"],typeof S=="function"?S:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,et={};function rt(S,z,X){this.props=S,this.context=z,this.refs=et,this.updater=X||tt}rt.prototype.isReactComponent={},rt.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},rt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ht(){}ht.prototype=rt.prototype;function ft(S,z,X){this.props=S,this.context=z,this.refs=et,this.updater=X||tt}var Pt=ft.prototype=new ht;Pt.constructor=ft,J(Pt,rt.prototype),Pt.isPureReactComponent=!0;var re=Array.isArray;function Rt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(S,z,X){var Z=X.ref;return{$$typeof:s,type:S,key:z,ref:Z!==void 0?Z:null,props:X}}function V(S,z){return C(S.type,z,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function U(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(X){return z[X]})}var R=/\/+/g;function ne(S,z){return typeof S=="object"&&S!==null&&S.key!=null?U(""+S.key):z.toString(36)}function ge(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Rt,Rt):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function G(S,z,X,Z,st){var ut=typeof S;(ut==="undefined"||ut==="boolean")&&(S=null);var pt=!1;if(S===null)pt=!0;else switch(ut){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(S.$$typeof){case s:case t:pt=!0;break;case A:return pt=S._init,G(pt(S._payload),z,X,Z,st)}}if(pt)return st=st(S),pt=Z===""?"."+ne(S,0):Z,re(st)?(X="",pt!=null&&(X=pt.replace(R,"$&/")+"/"),G(st,z,X,"",function(de){return de})):st!=null&&(O(st)&&(st=V(st,X+(st.key==null||S&&S.key===st.key?"":(""+st.key).replace(R,"$&/")+"/")+pt)),z.push(st)),1;pt=0;var It=Z===""?".":Z+":";if(re(S))for(var kt=0;kt<S.length;kt++)Z=S[kt],ut=It+ne(Z,kt),pt+=G(Z,z,X,ut,st);else if(kt=H(S),typeof kt=="function")for(S=kt.call(S),kt=0;!(Z=S.next()).done;)Z=Z.value,ut=It+ne(Z,kt++),pt+=G(Z,z,X,ut,st);else if(ut==="object"){if(typeof S.then=="function")return G(ge(S),z,X,Z,st);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return pt}function it(S,z,X){if(S==null)return S;var Z=[],st=0;return G(S,Z,"","",function(ut){return z.call(X,ut,st++)}),Z}function dt(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(X){(S._status===0||S._status===-1)&&(S._status=1,S._result=X)},function(X){(S._status===0||S._status===-1)&&(S._status=2,S._result=X)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var Nt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ht={map:it,forEach:function(S,z,X){it(S,function(){z.apply(this,arguments)},X)},count:function(S){var z=0;return it(S,function(){z++}),z},toArray:function(S){return it(S,function(z){return z})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Tt.Activity=b,Tt.Children=Ht,Tt.Component=rt,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=ft,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return D.H.useMemoCache(S)}},Tt.cache=function(S){return function(){return S.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(S,z,X){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Z=J({},S.props),st=S.key;if(z!=null)for(ut in z.key!==void 0&&(st=""+z.key),z)!w.call(z,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&z.ref===void 0||(Z[ut]=z[ut]);var ut=arguments.length-2;if(ut===1)Z.children=X;else if(1<ut){for(var pt=Array(ut),It=0;It<ut;It++)pt[It]=arguments[It+2];Z.children=pt}return C(S.type,st,Z)},Tt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},Tt.createElement=function(S,z,X){var Z,st={},ut=null;if(z!=null)for(Z in z.key!==void 0&&(ut=""+z.key),z)w.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(st[Z]=z[Z]);var pt=arguments.length-2;if(pt===1)st.children=X;else if(1<pt){for(var It=Array(pt),kt=0;kt<pt;kt++)It[kt]=arguments[kt+2];st.children=It}if(S&&S.defaultProps)for(Z in pt=S.defaultProps,pt)st[Z]===void 0&&(st[Z]=pt[Z]);return C(S,ut,st)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(S){return{$$typeof:p,render:S}},Tt.isValidElement=O,Tt.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:dt}},Tt.memo=function(S,z){return{$$typeof:y,type:S,compare:z===void 0?null:z}},Tt.startTransition=function(S){var z=D.T,X={};D.T=X;try{var Z=S(),st=D.S;st!==null&&st(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Rt,Nt)}catch(ut){Nt(ut)}finally{z!==null&&X.types!==null&&(z.types=X.types),D.T=z}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(S){return D.H.use(S)},Tt.useActionState=function(S,z,X){return D.H.useActionState(S,z,X)},Tt.useCallback=function(S,z){return D.H.useCallback(S,z)},Tt.useContext=function(S){return D.H.useContext(S)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(S,z){return D.H.useDeferredValue(S,z)},Tt.useEffect=function(S,z){return D.H.useEffect(S,z)},Tt.useEffectEvent=function(S){return D.H.useEffectEvent(S)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(S,z,X){return D.H.useImperativeHandle(S,z,X)},Tt.useInsertionEffect=function(S,z){return D.H.useInsertionEffect(S,z)},Tt.useLayoutEffect=function(S,z){return D.H.useLayoutEffect(S,z)},Tt.useMemo=function(S,z){return D.H.useMemo(S,z)},Tt.useOptimistic=function(S,z){return D.H.useOptimistic(S,z)},Tt.useReducer=function(S,z,X){return D.H.useReducer(S,z,X)},Tt.useRef=function(S){return D.H.useRef(S)},Tt.useState=function(S){return D.H.useState(S)},Tt.useSyncExternalStore=function(S,z,X){return D.H.useSyncExternalStore(S,z,X)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.2.4",Tt}var j_;function wm(){return j_||(j_=1,Ud.exports=LA()),Ud.exports}var ee=wm(),kd={exports:{}},yl={},Ld={exports:{}},Pd={};var B_;function PA(){return B_||(B_=1,(function(s){function t(G,it){var dt=G.length;G.push(it);t:for(;0<dt;){var Nt=dt-1>>>1,Ht=G[Nt];if(0<l(Ht,it))G[Nt]=it,G[dt]=Ht,dt=Nt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],dt=G.pop();if(dt!==it){G[0]=dt;t:for(var Nt=0,Ht=G.length,S=Ht>>>1;Nt<S;){var z=2*(Nt+1)-1,X=G[z],Z=z+1,st=G[Z];if(0>l(X,dt))Z<Ht&&0>l(st,X)?(G[Nt]=st,G[Z]=dt,Nt=Z):(G[Nt]=X,G[z]=dt,Nt=z);else if(Z<Ht&&0>l(st,dt))G[Nt]=st,G[Z]=dt,Nt=Z;else break t}}return it}function l(G,it){var dt=G.sortIndex-it.sortIndex;return dt!==0?dt:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,b=null,M=3,H=!1,tt=!1,J=!1,et=!1,rt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Pt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function re(G){if(J=!1,Pt(G),!tt)if(i(v)!==null)tt=!0,Rt||(Rt=!0,U());else{var it=i(y);it!==null&&ge(re,it.startTime-G)}}var Rt=!1,D=-1,w=5,C=-1;function V(){return et?!0:!(s.unstable_now()-C<w)}function O(){if(et=!1,Rt){var G=s.unstable_now();C=G;var it=!0;try{t:{tt=!1,J&&(J=!1,ht(D),D=-1),H=!0;var dt=M;try{e:{for(Pt(G),b=i(v);b!==null&&!(b.expirationTime>G&&V());){var Nt=b.callback;if(typeof Nt=="function"){b.callback=null,M=b.priorityLevel;var Ht=Nt(b.expirationTime<=G);if(G=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,Pt(G),it=!0;break e}b===i(v)&&a(v),Pt(G)}else a(v);b=i(v)}if(b!==null)it=!0;else{var S=i(y);S!==null&&ge(re,S.startTime-G),it=!1}}break t}finally{b=null,M=dt,H=!1}it=void 0}}finally{it?U():Rt=!1}}}var U;if(typeof ft=="function")U=function(){ft(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=O,U=function(){ne.postMessage(null)}}else U=function(){rt(O,0)};function ge(G,it){D=rt(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var dt=M;M=it;try{return G()}finally{M=dt}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=M;M=G;try{return it()}finally{M=dt}},s.unstable_scheduleCallback=function(G,it,dt){var Nt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Nt+dt:Nt):dt=Nt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=dt+Ht,G={id:A++,callback:it,priorityLevel:G,startTime:dt,expirationTime:Ht,sortIndex:-1},dt>Nt?(G.sortIndex=dt,t(y,G),i(v)===null&&G===i(y)&&(J?(ht(D),D=-1):J=!0,ge(re,dt-Nt))):(G.sortIndex=Ht,t(v,G),tt||H||(tt=!0,Rt||(Rt=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var it=M;return function(){var dt=M;M=it;try{return G.apply(this,arguments)}finally{M=dt}}}})(Pd)),Pd}var q_;function zA(){return q_||(q_=1,Ld.exports=PA()),Ld.exports}var zd={exports:{}},en={};var H_;function jA(){if(H_)return en;H_=1;var s=wm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},en.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},en.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},en.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},en.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:H}):A==="script"&&a.d.X(v,{crossOrigin:b,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},en.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},en.requestFormReset=function(v){a.d.r(v)},en.unstable_batchedUpdates=function(v,y){return v(y)},en.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var G_;function BA(){if(G_)return zd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),zd.exports=jA(),zd.exports}var F_;function qA(){if(F_)return yl;F_=1;var s=zA(),t=wm(),i=BA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case rt:return"Profiler";case et:return"StrictMode";case re:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ft:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var ge=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Nt=[],Ht=-1;function S(e){return{current:e}}function z(e){0>Ht||(e.current=Nt[Ht],Nt[Ht]=null,Ht--)}function X(e,n){Ht++,Nt[Ht]=e.current,e.current=n}var Z=S(null),st=S(null),ut=S(null),pt=S(null);function It(e,n){switch(X(ut,n),X(st,e),X(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(Z),X(Z,e)}function kt(){z(Z),z(st),z(ut)}function de(e){e.memoizedState!==null&&X(pt,e);var n=Z.current,r=o_(n,e.type);n!==r&&(X(st,e),X(Z,r))}function cn(e){st.current===e&&(z(Z),z(st)),pt.current===e&&(z(pt),fl._currentValue=dt)}var jt,tn;function ae(e){if(jt===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);jt=n&&n[1]||"",tn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jt+e+tn}var Qt=!1;function ie(e,n){if(!e||Qt)return"";Qt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Qt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ae(r):""}function Gn(e,n){switch(e.tag){case 26:case 27:case 5:return ae(e.type);case 16:return ae("Lazy");case 13:return e.child!==n&&n!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return ie(e.type,!1);case 11:return ie(e.type.render,!1);case 1:return ie(e.type,!0);case 31:return ae("Activity");default:return""}}function mo(e){try{var n="",r=null;do n+=Gn(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var be=Object.prototype.hasOwnProperty,Le=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,Uh=s.unstable_shouldYield,Wl=s.unstable_requestPaint,on=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,po=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,kh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,eu=s.log,nu=s.unstable_setDisableYieldValue,Fn=null,Ge=null;function Nn(e){if(typeof eu=="function"&&nu(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Fn,e)}catch{}}var _e=Math.clz32?Math.clz32:su,iu=Math.log,ea=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/ea|0)|0}var oi=256,mr=262144,we=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(g&=E,g!==0?h=li(g):r||(r=E&~e,r!==0&&(h=li(r))))):(E=o&~f,E!==0?h=li(E):g!==0?h=li(g):r||(r=o&~e,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function ci(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-_e(r),Y=1<<F;E[F]=0,I[F]=-1;var j=P[F];if(j!==null)for(P[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&pr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function pr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function yo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-_e(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function _o(e,n){var r=n&-n;return r=(r&42)!==0?1:yr(r),(r&(e.suspendedLanes|n))!==0?0:r}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function Yn(e,n){var r=it.p;try{return it.p=e,n()}finally{it.p=r}}var Kn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Kn,je="__reactProps$"+Kn,hi="__reactContainer$"+Kn,na="__reactEvents$"+Kn,zh="__reactListeners$"+Kn,ou="__reactHandles$"+Kn,lu="__reactResources$"+Kn,fi="__reactMarker$"+Kn;function ia(e){delete e[Re],delete e[je],delete e[na],delete e[zh],delete e[ou]}function di(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[hi]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=m_(e);e!==null;){if(r=e[Re])return r;e=m_(e)}return n}e=r,r=e.parentNode}return null}function On(e){if(e=e[Re]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[fi]=!0}var vo=new Set,Eo={};function gi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},So={};function uu(e){return be.call(So,e)?!0:be.call(Ao,e)?!1:To.test(e)?So[e]=!0:(Ao[e]=!0,!1)}function sa(e,n,r){if(uu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Tn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ce(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=ds(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ds(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function hn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,Be(n)):r!=null?wo(e,g,Be(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function cu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}r=r!=null?""+Be(r):"",n=n!=null?""+Be(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function wo(e,n,r){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ms(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Be(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,r){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Be(r):""}function gs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Be(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Kt(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Io(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Co=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,_i=null;function Er(e){var n=On(e);if(n&&(e=n.stateNode)){var r=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&_r(o)}break t;case"textarea":hu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ms(e,!!r.multiple,n,!1)}}}var la=!1;function _s(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(ys!==null||_i!==null)&&(ac(),ys&&(n=ys,e=_i,_i=ys=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var o=r[je]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Vn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Tr=!1}var vi=null,Do=null,Ar=null;function No(){if(Ar)return Ar;var e,n=Do,r=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Ar=h.slice(e,1<o?1-o:void 0)}function Sr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Jn(){return!1}function Fe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Jn,this.isPropagationStopped=Jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Fe(zi),vs=b({},zi,{view:0,detail:0}),Oo=Fe(vs),Es,ua,Ti,ca=b({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Es=e.screenX-Ti.screenX,ua=e.screenY-Ti.screenY):ua=Es=0,Ti=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Mo=Fe(ca),br=b({},ca,{dataTransfer:0}),mu=Fe(br),gu=b({},vs,{relatedTarget:0}),wr=Fe(gu),Vo=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Fe(Vo),ha=b({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Fe(ha),_u=b({},zi,{data:0}),Ai=Fe(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Ts(){return Au}var ln=b({},vs,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Fe(ln),bu=b({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Fe(bu),u=b({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Fe(u),_=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(_),k=b({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(k),nt=b({},zi,{newState:0,oldState:0}),St=Fe(nt),ve=[9,13,27,32],Gt=Vn&&"CompositionEvent"in window,he=null;Vn&&"documentMode"in document&&(he=document.documentMode);var xn=Vn&&"TextEvent"in window&&!he,Si=Vn&&(!Gt||he&&8<he&&11>=he),Zn=" ",Wn=!1;function Rr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function r1(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Wn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Wn?null:e;default:return null}}function a1(e,n){if(da)return e==="compositionend"||!Gt&&Rr(e,n)?(e=No(),Ar=Do=vi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!o1[e.type]:n==="textarea"}function _g(e,n,r,o){ys?_i?_i.push(o):_i=[o]:ys=o,n=dc(n,"onChange"),0<n.length&&(r=new Ei("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var xo=null,Uo=null;function l1(e){t_(e,0)}function wu(e){var n=En(e);if(_r(n))return e}function vg(e,n){if(e==="change")return n}var Eg=!1;if(Vn){var jh;if(Vn){var Bh="oninput"in document;if(!Bh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Bh=typeof Tg.oninput=="function"}jh=Bh}else jh=!1;Eg=jh&&(!document.documentMode||9<document.documentMode)}function Ag(){xo&&(xo.detachEvent("onpropertychange",Sg),Uo=xo=null)}function Sg(e){if(e.propertyName==="value"&&wu(Uo)){var n=[];_g(n,Uo,e,Mn(e)),_s(l1,n)}}function u1(e,n,r){e==="focusin"?(Ag(),xo=n,Uo=r,xo.attachEvent("onpropertychange",Sg)):e==="focusout"&&Ag()}function c1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Uo)}function h1(e,n){if(e==="click")return wu(n)}function f1(e,n){if(e==="input"||e==="change")return wu(n)}function d1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:d1;function ko(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!be.call(n,h)||!An(e[h],n[h]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var r=bg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=bg(r)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=yi(e.document)}return n}function qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var m1=Vn&&"documentMode"in document&&11>=document.documentMode,ma=null,Hh=null,Lo=null,Gh=!1;function Cg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||ma==null||ma!==yi(o)||(o=ma,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&ko(Lo,o)||(Lo=o,o=dc(Hh,"onSelect"),0<o.length&&(n=new Ei("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function Ir(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ga={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Fh={},Dg={};Vn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Cr(e){if(Fh[e])return Fh[e];if(!ga[e])return e;var n=ga[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return Fh[e]=n[r];return e}var Ng=Cr("animationend"),Og=Cr("animationiteration"),Mg=Cr("animationstart"),g1=Cr("transitionrun"),p1=Cr("transitionstart"),y1=Cr("transitioncancel"),Vg=Cr("transitionend"),xg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ti(e,n){xg.set(e,n),gi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],pa=0,Yh=0;function Iu(){for(var e=pa,n=Yh=pa=0;n<e;){var r=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ug(r,h,f)}}function Cu(e,n,r,o){Un[pa++]=e,Un[pa++]=n,Un[pa++]=r,Un[pa++]=o,Yh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,r,o){return Cu(e,n,r,o),Du(e)}function Dr(e,n){return Cu(e,null,null,n),Du(e)}function Ug(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Du(e){if(50<rl)throw rl=0,sd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function _1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,o){return new _1(e,n,r,o)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function kg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Xh(e)&&(g=1);else if(typeof e=="string")g=SA(e,r,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,r,n,h),e.elementType=C,e.lanes=f,e;case J:return Nr(r.children,h,f,n);case et:g=8,h|=24;break;case rt:return e=Sn(12,r,n,h|2),e.elementType=rt,e.lanes=f,e;case re:return e=Sn(13,r,n,h),e.elementType=re,e.lanes=f,e;case Rt:return e=Sn(19,r,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case ht:g=9;break t;case Pt:g=11;break t;case D:g=14;break t;case w:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Nr(e,n,r,o){return e=Sn(7,e,o,n),e.lanes=r,e}function $h(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function Lg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Jh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var r=Pg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:mo(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var _a=[],va=0,Ou=null,Po=0,Ln=[],Pn=0,As=null,bi=1,wi="";function qi(e,n){_a[va++]=Po,_a[va++]=Ou,Ou=e,Po=n}function zg(e,n,r){Ln[Pn++]=bi,Ln[Pn++]=wi,Ln[Pn++]=As,As=e;var o=bi;e=wi;var h=32-_e(o)-1;o&=~(1<<h),r+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,bi=1<<32-_e(n)+h|r<<h|o,wi=f+e}else bi=1<<f|r<<h|o,wi=e}function Zh(e){e.return!==null&&(qi(e,1),zg(e,1,0))}function Wh(e){for(;e===Ou;)Ou=_a[--va],_a[va]=null,Po=_a[--va],_a[va]=null;for(;e===As;)As=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null,bi=Ln[--Pn],Ln[Pn]=null}function jg(e,n){Ln[Pn++]=bi,Ln[Pn++]=wi,Ln[Pn++]=As,bi=n.id,wi=n.overflow,As=e}var Qe=null,le=null,Lt=!1,Ss=null,zn=!1,tf=Error(a(519));function bs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(kn(n,e)),tf}function Bg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Re]=e,n[je]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<ol.length;r++)Dt(ol[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),gs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||s_(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||bs(e,!0)}function qg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Qe=Qe.return}}function Ea(e){if(e!==Qe)return!1;if(!Lt)return qg(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||vd(e.type,e.memoizedProps)),r=!r),r&&le&&bs(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=d_(e)}else n===27?(n=le,Ps(e.type)?(e=bd,bd=null,le=e):le=n):le=Qe?Bn(e.stateNode.nextSibling):null;return!0}function Or(){le=Qe=null,Lt=!1}function ef(){var e=Ss;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ss=null),e}function zo(e){Ss===null?Ss=[e]:Ss.push(e)}var nf=S(null),Mr=null,Hi=null;function ws(e,n,r){X(nf,n._currentValue),n._currentValue=r}function Gi(e){e._currentValue=nf.current,z(nf)}function sf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function rf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sf(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),sf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===pt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&rf(n,e,r,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Hg(Mr,e)}function Vu(e,n){return Mr===null&&Vr(e),Hg(e,n)}function Hg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Hi===null){if(e===null)throw Error(a(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return r}var v1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},E1=s.unstable_scheduleCallback,T1=s.unstable_NormalPriority,De={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new v1,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&E1(T1,function(){e.controller.abort()})}var Bo=null,of=0,Aa=0,Sa=null;function A1(e,n){if(Bo===null){var r=Bo=[];of=0,Aa=cd(),Sa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Gg,Gg),n}function Gg(){if(--of===0&&Bo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Bo;Bo=null,Aa=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function S1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Fg=G.S;G.S=function(e,n){Cy=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(e,n),Fg!==null&&Fg(e,n)};var xr=S(null);function lf(){var e=xr.current;return e!==null?e:se.pooledCache}function xu(e,n){n===null?X(xr,xr.current):X(xr,n.pool)}function Qg(){var e=lf();return e===null?null:{parent:De._currentValue,pool:e}}var ba=Error(a(460)),uf=Error(a(474)),Uu=Error(a(542)),ku={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw kr=n,ba}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(kr=r,ba):r}}var kr=null;function Xg(){if(kr===null)throw Error(a(459));var e=kr;return kr=null,e}function $g(e){if(e===ba||e===Uu)throw Error(a(483))}var wa=null,qo=0;function Lu(e){var n=qo;return qo+=1,wa===null&&(wa=[]),Kg(wa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jg(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function r(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Bi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,Q){return N===null||N.tag!==6?(N=$h(L,x.mode,Q),N.return=x,N):(N=h(N,L),N.return=x,N)}function I(x,N,L,Q){var mt=L.type;return mt===J?F(x,N,L.props.children,Q,L.key):N!==null&&(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Ur(mt)===N.type)?(N=h(N,L.props),Ho(N,L),N.return=x,N):(N=Nu(L.type,L.key,L.props,null,x.mode,Q),Ho(N,L),N.return=x,N)}function P(x,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Jh(L,x.mode,Q),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function F(x,N,L,Q,mt){return N===null||N.tag!==7?(N=Nr(L,x.mode,Q,mt),N.return=x,N):(N=h(N,L),N.return=x,N)}function Y(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return L=Nu(N.type,N.key,N.props,null,x.mode,L),Ho(L,N),L.return=x,L;case tt:return N=Jh(N,x.mode,L),N.return=x,N;case w:return N=Ur(N),Y(x,N,L)}if(ge(N)||U(N))return N=Nr(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Y(x,Lu(N),L);if(N.$$typeof===ft)return Y(x,Vu(x,N),L);Pu(x,N)}return null}function j(x,N,L,Q){var mt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return mt!==null?null:E(x,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===mt?I(x,N,L,Q):null;case tt:return L.key===mt?P(x,N,L,Q):null;case w:return L=Ur(L),j(x,N,L,Q)}if(ge(L)||U(L))return mt!==null?null:F(x,N,L,Q,null);if(typeof L.then=="function")return j(x,N,Lu(L),Q);if(L.$$typeof===ft)return j(x,N,Vu(x,L),Q);Pu(x,L)}return null}function q(x,N,L,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(N,x,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return x=x.get(Q.key===null?L:Q.key)||null,I(N,x,Q,mt);case tt:return x=x.get(Q.key===null?L:Q.key)||null,P(N,x,Q,mt);case w:return Q=Ur(Q),q(x,N,L,Q,mt)}if(ge(Q)||U(Q))return x=x.get(L)||null,F(N,x,Q,mt,null);if(typeof Q.then=="function")return q(x,N,L,Lu(Q),mt);if(Q.$$typeof===ft)return q(x,N,L,Vu(N,Q),mt);Pu(N,Q)}return null}function lt(x,N,L,Q){for(var mt=null,Bt=null,ct=N,wt=N=0,Mt=null;ct!==null&&wt<L.length;wt++){ct.index>wt?(Mt=ct,ct=null):Mt=ct.sibling;var qt=j(x,ct,L[wt],Q);if(qt===null){ct===null&&(ct=Mt);break}e&&ct&&qt.alternate===null&&n(x,ct),N=f(qt,N,wt),Bt===null?mt=qt:Bt.sibling=qt,Bt=qt,ct=Mt}if(wt===L.length)return r(x,ct),Lt&&qi(x,wt),mt;if(ct===null){for(;wt<L.length;wt++)ct=Y(x,L[wt],Q),ct!==null&&(N=f(ct,N,wt),Bt===null?mt=ct:Bt.sibling=ct,Bt=ct);return Lt&&qi(x,wt),mt}for(ct=o(ct);wt<L.length;wt++)Mt=q(ct,x,wt,L[wt],Q),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?wt:Mt.key),N=f(Mt,N,wt),Bt===null?mt=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ct.forEach(function(Hs){return n(x,Hs)}),Lt&&qi(x,wt),mt}function yt(x,N,L,Q){if(L==null)throw Error(a(151));for(var mt=null,Bt=null,ct=N,wt=N=0,Mt=null,qt=L.next();ct!==null&&!qt.done;wt++,qt=L.next()){ct.index>wt?(Mt=ct,ct=null):Mt=ct.sibling;var Hs=j(x,ct,qt.value,Q);if(Hs===null){ct===null&&(ct=Mt);break}e&&ct&&Hs.alternate===null&&n(x,ct),N=f(Hs,N,wt),Bt===null?mt=Hs:Bt.sibling=Hs,Bt=Hs,ct=Mt}if(qt.done)return r(x,ct),Lt&&qi(x,wt),mt;if(ct===null){for(;!qt.done;wt++,qt=L.next())qt=Y(x,qt.value,Q),qt!==null&&(N=f(qt,N,wt),Bt===null?mt=qt:Bt.sibling=qt,Bt=qt);return Lt&&qi(x,wt),mt}for(ct=o(ct);!qt.done;wt++,qt=L.next())qt=q(ct,x,wt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?wt:qt.key),N=f(qt,N,wt),Bt===null?mt=qt:Bt.sibling=qt,Bt=qt);return e&&ct.forEach(function(xA){return n(x,xA)}),Lt&&qi(x,wt),mt}function te(x,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var mt=L.key;N!==null;){if(N.key===mt){if(mt=L.type,mt===J){if(N.tag===7){r(x,N.sibling),Q=h(N,L.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Ur(mt)===N.type){r(x,N.sibling),Q=h(N,L.props),Ho(Q,L),Q.return=x,x=Q;break t}r(x,N);break}else n(x,N);N=N.sibling}L.type===J?(Q=Nr(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Nu(L.type,L.key,L.props,null,x.mode,Q),Ho(Q,L),Q.return=x,x=Q)}return g(x);case tt:t:{for(mt=L.key;N!==null;){if(N.key===mt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(x,N.sibling),Q=h(N,L.children||[]),Q.return=x,x=Q;break t}else{r(x,N);break}else n(x,N);N=N.sibling}Q=Jh(L,x.mode,Q),Q.return=x,x=Q}return g(x);case w:return L=Ur(L),te(x,N,L,Q)}if(ge(L))return lt(x,N,L,Q);if(U(L)){if(mt=U(L),typeof mt!="function")throw Error(a(150));return L=mt.call(L),yt(x,N,L,Q)}if(typeof L.then=="function")return te(x,N,Lu(L),Q);if(L.$$typeof===ft)return te(x,N,Vu(x,L),Q);Pu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(x,N.sibling),Q=h(N,L),Q.return=x,x=Q):(r(x,N),Q=$h(L,x.mode,Q),Q.return=x,x=Q),g(x)):r(x,N)}return function(x,N,L,Q){try{qo=0;var mt=te(x,N,L,Q);return wa=null,mt}catch(ct){if(ct===ba||ct===Uu)throw ct;var Bt=Sn(29,ct,null,x.mode);return Bt.lanes=Q,Bt.return=x,Bt}}}var Lr=Jg(!0),Zg=Jg(!1),Rs=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),Ug(e,null,r),n}return Cu(e,o,n,r),Du(e)}function Go(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}function ff(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var df=!1;function Fo(){if(df){var e=Sa;if(e!==null)throw e}}function Qo(e,n,r,o){df=!1;var h=e.updateQueue;Rs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,F=P=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ot&j)===j:(o&j)===j){j!==0&&j===Aa&&(df=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,yt=E;j=n;var te=r;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(te,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,j=typeof lt=="function"?lt.call(te,Y,j):lt,j==null)break t;Y=b({},Y,j);break t;case 2:Rs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,I=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Vs|=g,e.lanes=g,e.memoizedState=Y}}function Wg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function tp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Wg(r[e],n)}var Ra=S(null),zu=S(0);function ep(e,n){e=Wi,X(zu,e),X(Ra,n),Wi=e|n.baseLanes}function mf(){X(zu,Wi),X(Ra,Ra.current)}function gf(){Wi=zu.current,z(Ra),z(zu)}var bn=S(null),jn=null;function Ds(e){var n=e.alternate;X(Ee,Ee.current&1),X(bn,e),jn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(jn=e)}function pf(e){X(Ee,Ee.current),X(bn,e),jn===null&&(jn=e)}function np(e){e.tag===22?(X(Ee,Ee.current),X(bn,e),jn===null&&(jn=e)):Ns()}function Ns(){X(Ee,Ee.current),X(bn,bn.current)}function wn(e){z(bn),jn===e&&(jn=null),z(Ee)}var Ee=S(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ad(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,bt=null,Zt=null,Ne=null,Bu=!1,Ia=!1,Pr=!1,qu=0,Yo=0,Ca=null,b1=0;function pe(){throw Error(a(321))}function yf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!An(e[r],n[r]))return!1;return!0}function _f(e,n,r,o,h,f){return Fi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?zp:Vf,Pr=!1,f=r(o,h),Pr=!1,Ia&&(f=sp(n,r,o,h)),ip(e),f}function ip(e){G.H=$o;var n=Zt!==null&&Zt.next!==null;if(Fi=0,Ne=Zt=bt=null,Bu=!1,Yo=0,Ca=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Mu(e)&&(Oe=!0))}function sp(e,n,r,o){bt=e;var h=0;do{if(Ia&&(Ca=null),Yo=0,Ia=!1,25<=h)throw Error(a(301));if(h+=1,Ne=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=jp,f=n(r,o)}while(Ia);return f}function w1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(bt.flags|=1024),n}function vf(){var e=qu!==0;return qu=0,e}function Ef(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Tf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Fi=0,Ne=Zt=bt=null,Ia=!1,Yo=qu=0,Ca=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?bt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Te(){if(Zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ne===null?bt.memoizedState:Ne.next;if(n!==null)Ne=n,Zt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ne===null?bt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Yo;return Yo+=1,Ca===null&&(Ca=[]),e=Kg(Ca,e,n),n=bt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zp:Vf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===ft)return Ye(e)}throw Error(a(438,String(e)))}function Af(e){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Qi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=Te();return Sf(n,Zt,e)}function Sf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ot&Y)===Y:(Fi&Y)===Y){var j=P.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Aa&&(F=!0);else if((Fi&j)===j){P=P.next,j===Aa&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,bt.lanes|=j,Vs|=j;Y=P.action,Pr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,bt.lanes|=Y,Vs|=Y;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!An(f,e.memoizedState)&&(Oe=!0,F&&(r=Sa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function bf(e){var n=Te(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function rp(e,n,r){var o=bt,h=Te(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!An((Zt||h).memoizedState,r);if(g&&(h.memoizedState=r,Oe=!0),h=h.queue,If(lp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},op.bind(null,o,h,r,n),null),se===null)throw Error(a(349));f||(Fi&127)!==0||ap(o,n,r)}return r}function ap(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=Hu(),bt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function op(e,n,r,o){n.value=r,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,r){return r(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!An(e,r)}catch{return!0}}function cp(e){var n=Dr(e,2);n!==null&&yn(n,e,2)}function wf(e){var n=un();if(typeof e=="function"){var r=e;if(e=r(),Pr){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function hp(e,n,r,o){return e.baseState=r,Sf(e,Zt,typeof o=="function"?o:Qi)}function R1(e,n,r,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,fp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function fp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=r(h,o),I=G.S;I!==null&&I(g,E),dp(e,n,E)}catch(P){Rf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,o),dp(e,n,f)}catch(P){Rf(e,n,P)}}function dp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){mp(e,n,o)},function(o){return Rf(e,n,o)}):mp(e,n,r)}function mp(e,n,r){n.status="fulfilled",n.value=r,gp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,fp(e,r)))}function Rf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,gp(n),n=n.next;while(n!==o)}e.action=null}function gp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function yp(e,n){if(Lt){var r=se.formState;if(r!==null){t:{var o=bt;if(Lt){if(le){e:{for(var h=le,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=Bn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},r.queue=o,r=kp.bind(null,bt,o),o.dispatch=r,o=wf(!1),f=Mf.bind(null,bt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=R1.bind(null,bt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function _p(e){var n=Te();return vp(n,Zt,e)}function vp(e,n,r){if(n=Sf(e,n,pp)[0],e=Fu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(g){throw g===ba?Uu:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,Da(9,{destroy:void 0},I1.bind(null,h,r),null)),[o,f,e]}function I1(e,n){e.action=n}function Ep(e){var n=Te(),r=Zt;if(r!==null)return vp(n,r,e);Te(),n=n.memoizedState,r=Te();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Da(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Hu(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return Te().memoizedState}function Qu(e,n,r,o){var h=un();bt.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(e,n,r,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&yf(o,Zt.memoizedState.deps)?h.memoizedState=Da(n,f,r,o):(bt.flags|=e,h.memoizedState=Da(1|n,f,r,o))}function Ap(e,n){Qu(8390656,8,e,n)}function If(e,n){Yu(2048,8,e,n)}function C1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Hu(),bt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Sp(e){var n=Te().memoizedState;return C1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bp(e,n){return Yu(4,2,e,n)}function wp(e,n){return Yu(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,r){r=r!=null?r.concat([e]):null,Yu(4,4,Rp.bind(null,n,e),r)}function Cf(){}function Cp(e,n){var r=Te();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Dp(e,n){var r=Te();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=e(),Pr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o}function Df(e,n,r){return r===void 0||(Fi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ny(),bt.lanes|=e,Vs|=e,r)}function Np(e,n,r,o){return An(r,n)?r:Ra.current!==null?(e=Df(e,r,o),An(e,n)||(Oe=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Ot&261930)===0?(Oe=!0,e.memoizedState=r):(e=Ny(),bt.lanes|=e,Vs|=e,n)}function Op(e,n,r,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Mf(e,!1,n,r);try{var I=h(),P=G.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=S1(I,o);Xo(e,n,F,Cn(e))}else Xo(e,n,o,Cn(e))}catch(Y){Xo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function D1(){}function Nf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Mp(e).queue;Op(e,h,n,dt,r===null?D1:function(){return Vp(e),r(o)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Mp(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},Cn())}function Of(){return Ye(fl)}function xp(){return Te().memoizedState}function Up(){return Te().memoizedState}function N1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Is(r);var o=Cs(n,e,r);o!==null&&(yn(o,n,r),Go(o,n,r)),n={cache:af()},e.payload=n;return}n=n.return}}function O1(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Lp(n,r):(r=Kh(e,n,r,o),r!==null&&(yn(r,e,o),Pp(r,n,o)))}function kp(e,n,r){var o=Cn();Xo(e,n,r,o)}function Xo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,An(E,g))return Cu(e,n,h,0),se===null&&Iu(),!1}catch{}if(r=Kh(e,n,h,o),r!==null)return yn(r,e,o),Pp(r,n,o),!0}return!1}function Mf(e,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Kh(e,r,o,2),n!==null&&yn(n,e,2)}function Ku(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Lp(e,n){Ia=Bu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Pp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,yo(e,r)}}var $o={readContext:Ye,use:Gu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};$o.useEffectEvent=pe;var zp={readContext:Ye,use:Gu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Ap,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Qu(4194308,4,Rp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var r=un();n=n===void 0?null:n;var o=e();if(Pr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=un();if(r!==void 0){var h=r(n);if(Pr){Nn(!0);try{r(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=O1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=wf(e);var n=e.queue,r=kp.bind(null,bt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(e,n){var r=un();return Df(r,e,n)},useTransition:function(){var e=wf(!1);return e=Op.bind(null,bt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=bt,h=un();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),se===null)throw Error(a(349));(Ot&127)!==0||ap(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ap(lp.bind(null,o,f,e),[e]),o.flags|=2048,Da(9,{destroy:void 0},op.bind(null,o,f,r,n),null),r},useId:function(){var e=un(),n=se.identifierPrefix;if(Lt){var r=wi,o=bi;r=(o&~(1<<32-_e(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=b1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Mf.bind(null,bt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Af,useCacheRefresh:function(){return un().memoizedState=N1.bind(null,bt)},useEffectEvent:function(e){var n=un(),r={impl:e};return n.memoizedState=r,function(){if((Ft&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vf={readContext:Ye,use:Gu,useCallback:Cp,useContext:Ye,useEffect:If,useImperativeHandle:Ip,useInsertionEffect:bp,useLayoutEffect:wp,useMemo:Dp,useReducer:Fu,useRef:Tp,useState:function(){return Fu(Qi)},useDebugValue:Cf,useDeferredValue:function(e,n){var r=Te();return Np(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Fu(Qi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:rp,useId:xp,useHostTransitionStatus:Of,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var r=Te();return hp(r,Zt,e,n)},useMemoCache:Af,useCacheRefresh:Up};Vf.useEffectEvent=Sp;var jp={readContext:Ye,use:Gu,useCallback:Cp,useContext:Ye,useEffect:If,useImperativeHandle:Ip,useInsertionEffect:bp,useLayoutEffect:wp,useMemo:Dp,useReducer:bf,useRef:Tp,useState:function(){return bf(Qi)},useDebugValue:Cf,useDeferredValue:function(e,n){var r=Te();return Zt===null?Df(r,e,n):Np(r,Zt.memoizedState,e,n)},useTransition:function(){var e=bf(Qi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:rp,useId:xp,useHostTransitionStatus:Of,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var r=Te();return Zt!==null?hp(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Up};jp.useEffectEvent=Sp;function xf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Is(o);h.payload=n,r!=null&&(h.callback=r),n=Cs(e,h,o),n!==null&&(yn(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Is(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Cs(e,h,o),n!==null&&(yn(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Is(r);o.tag=2,n!=null&&(o.callback=n),n=Cs(e,o,r),n!==null&&(yn(n,e,r),Go(n,e,r))}};function Bp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!ko(r,o)||!ko(h,f):!0}function qp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function zr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Hp(e){Ru(e)}function Gp(e){console.error(e)}function Fp(e){Ru(e)}function Xu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,r){return r=Is(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(e,n)},r}function Yp(e){return e=Is(e),e.tag=3,e}function Kp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qp(n,r,o),typeof h!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function M1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ta(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return jn===null?oc():r.alternate===null&&ye===0&&(ye=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(e,o,h)),!1;case 22:return r.flags|=65536,o===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(e,o,h)),!1}throw Error(a(435,r.tag))}return od(e,o,h),oc(),!1}if(Lt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(e=Error(a(422),{cause:o}),zo(kn(e,r)))):(o!==tf&&(n=Error(a(423),{cause:o}),zo(kn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,r),h=kf(e.stateNode,o,h),ff(e,h),ye!==4&&(ye=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,r),sl===null?sl=[f]:sl.push(f),ye!==4&&(ye=2),n===null)return!0;o=kn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=kf(r.stateNode,o,e),ff(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Yp(h),Kp(h,e,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Oe=!1;function Ke(e,n,r,o){n.child=e===null?Zg(n,null,r,o):Lr(n,e.child,r,o)}function Xp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vr(n),o=_f(e,n,r,g,f,h),E=vf(),e!==null&&!Oe?(Ef(e,n,h),Yi(e,n,h)):(Lt&&E&&Zh(n),n.flags|=1,Ke(e,n,o,h),n.child)}function $p(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Jp(e,n,f,o,h)):(e=Nu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:ko,r(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=Bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Pf(e,n,r,o,h)}function Zp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?ep(n,f):mf(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(xu(n,f.cachePool),ep(n,f),Ns(),n.memoizedState=null):(e!==null&&xu(n,null),mf(),Ns());return Ke(e,n,h,r),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,r,o,h){var f=lf();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&xu(n,null),mf(),np(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,r){return Lr(n,e.child,null,r),e=$u(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function V1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,Jo(null,e);if(pf(n),(e=le)?(e=f_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:As!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=Lg(e),r.return=n,n.child=r,Qe=n,le=null)):e=null,e===null)throw bs(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||Ta(e,n,r,!1),h=(r&e.childLanes)!==0,Oe||h){if(o=se,o!==null&&(g=_o(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Dr(e,g),yn(o,e,g),Lf;oc(),n=ty(e,n,r)}else e=f.treeContext,le=Bn(g.nextSibling),Qe=n,Lt=!0,Ss=null,zn=!1,e!==null&&jg(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Pf(e,n,r,o,h){return Vr(n),r=_f(e,n,r,o,void 0,h),o=vf(),e!==null&&!Oe?(Ef(e,n,h),Yi(e,n,h)):(Lt&&o&&Zh(n),n.flags|=1,Ke(e,n,r,h),n.child)}function ey(e,n,r,o,h,f){return Vr(n),n.updateQueue=null,r=sp(n,o,r,h),ip(e),o=vf(),e!==null&&!Oe?(Ef(e,n,f),Yi(e,n,f)):(Lt&&o&&Zh(n),n.flags|=1,Ke(e,n,r,f),n.child)}function ny(e,n,r,o,h){if(Vr(n),n.stateNode===null){var f=ya,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):ya,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(xf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Fo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=zr(r,E);f.props=I;var P=f.context,F=r.contextType;g=ya,typeof F=="object"&&F!==null&&(g=Ye(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&qp(n,f,o,g),Rs=!1;var j=n.memoizedState;f.state=j,Qo(n,o,f,h),Fo(),P=n.memoizedState,E||j!==P||Rs?(typeof Y=="function"&&(xf(n,r,Y,o),P=n.memoizedState),(I=Rs||Bp(n,r,I,o,j,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(e,n),g=n.memoizedProps,F=zr(r,g),f.props=F,Y=n.pendingProps,j=f.context,P=r.contextType,I=ya,typeof P=="object"&&P!==null&&(I=Ye(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==I)&&qp(n,f,o,I),Rs=!1,j=n.memoizedState,f.state=j,Qo(n,o,f,h),Fo();var q=n.memoizedState;g!==Y||j!==q||Rs||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(xf(n,r,E,o),q=n.memoizedState),(F=Rs||Bp(n,r,F,o,j,q,I)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,r,h)):Ke(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function iy(e,n,r,o){return Or(),n.flags|=256,Ke(e,n,r,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(e){return{baseLanes:e,cachePool:Qg()}}function Bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function sy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Ds(n):Ns(),(e=le)?(e=f_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:As!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},r=Lg(e),r.return=n,n.child=r,Qe=n,le=null)):e=null,e===null)throw bs(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ns(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Nr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=jf(r),o.childLanes=Bf(e,g,r),n.memoizedState=zf,Jo(null,o)):(Ds(n),qf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Hf(e,n,r)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Nr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Lr(n,e.child,null,r),o=n.child,o.memoizedState=jf(r),o.childLanes=Bf(e,g,r),n.memoizedState=zf,n=Jo(null,o));else if(Ds(n),Sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Hf(e,n,r)}else if(Oe||Ta(e,n,r,!1),g=(r&e.childLanes)!==0,Oe||g){if(g=se,g!==null&&(o=_o(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,Dr(e,o),yn(g,e,o),Lf;Ad(E)||oc(),n=Hf(e,n,r)}else Ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,le=Bn(E.nextSibling),Qe=n,Lt=!0,Ss=null,zn=!1,e!==null&&jg(n,e),n=qf(n,o.children),n.flags|=4096);return n}return h?(Ns(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Bi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Bi(P,E):(E=Nr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=jf(r):(h=E.cachePool,h!==null?(I=De._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Qg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Bf(e,g,r),n.memoizedState=zf,Jo(e.child,o)):(Ds(n),r=e.child,e=r.sibling,r=Bi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function qf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Hf(e,n,r){return Lr(n,e.child,null,r),e=qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sf(e.return,n,r)}function Gf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ay(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,X(Ee,g),Ke(e,n,o,r),o=Lt?Po:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,r,n);else if(e.tag===19)ry(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Vs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ta(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Bi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Bi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function x1(e,n,r){switch(n.tag){case 3:It(n,n.stateNode.containerInfo),ws(n,De,e.memoizedState.cache),Or();break;case 27:case 5:de(n);break;case 4:It(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sy(e,n,r):(Ds(n),e=Yi(e,n,r),e!==null?e.sibling:null);Ds(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ta(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ay(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,Zp(e,n,r,n.pendingProps);case 24:ws(n,De,e.memoizedState.cache)}return Yi(e,n,r)}function oy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Ff(e,r)&&(n.flags&128)===0)return Oe=!1,x1(e,n,r);Oe=(e.flags&131072)!==0}else Oe=!1,Lt&&(n.flags&1048576)!==0&&zg(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")Xh(e)?(o=zr(e,o),n.tag=1,n=ny(null,n,e,o,r)):(n.tag=0,n=Pf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=Xp(null,n,e,o,r);break t}else if(h===D){n.tag=14,n=$p(null,n,e,o,r);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=zr(o,n.pendingProps),ny(e,n,o,h,r);case 3:t:{if(It(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(e,n),Qo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,ws(n,De,o),o!==f.cache&&rf(n,[De],r,!0),Fo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,r);break t}else if(o!==h){h=kn(Error(a(424)),n),zo(h),n=iy(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,le=Bn(e.firstChild),Qe=n,Lt=!0,Ss=null,zn=!0,r=Zg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Or(),o===h){n=Yi(e,n,r);break t}Ke(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=__(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,o=mc(ut.current).createElement(r),o[Re]=n,o[je]=e,Xe(o,r,e),Ie(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return de(n),e===null&&Lt&&(o=n.stateNode=g_(n.type,n.pendingProps,ut.current),Qe=n,zn=!0,h=le,Ps(n.type)?(bd=h,le=Bn(o.firstChild)):le=h),Ke(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=le)&&(o=cA(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Qe=n,le=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||bs(n)),de(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,vd(h,f)?o=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(e,n,w1,null,null,r),fl._currentValue=h),Ju(e,n),Ke(e,n,o,r),n.child;case 6:return e===null&&Lt&&((e=r=le)&&(r=hA(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Qe=n,le=null,e=!0):e=!1),e||bs(n)),null;case 13:return sy(e,n,r);case 4:return It(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lr(n,null,o,r):Ke(e,n,o,r),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,r);case 7:return Ke(e,n,n.pendingProps,r),n.child;case 8:return Ke(e,n,n.pendingProps.children,r),n.child;case 12:return Ke(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),Ke(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=Ye(h),o=o(h),n.flags|=1,Ke(e,n,o,r),n.child;case 14:return $p(e,n,n.type,n.pendingProps,r);case 15:return Jp(e,n,n.type,n.pendingProps,r);case 19:return ay(e,n,r);case 31:return V1(e,n,r);case 22:return Zp(e,n,r,n.pendingProps);case 24:return Vr(n),o=Ye(De),e===null?(h=lf(),h===null&&(h=se,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),ws(n,De,h)):((e.lanes&r)!==0&&(hf(e,n),Qo(n,null,null,r),Fo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,De,o)):(o=f.cache,ws(n,De,o),o!==h.cache&&rf(n,[De],r,!0))),Ke(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ki(e){e.flags|=4}function Qf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw kr=ku,uf}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(xy())e.flags|=8192;else throw kr=ku,uf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Va|=n)}function Zo(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function U1(e,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(De),kt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(ue(n),ly(n,f)):(ue(n),Qf(n,h,null,o,r))):f?f!==e.memoizedState?(Ki(n),ue(n),ly(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(n),ue(n),Qf(n,h,e,o,r)),null;case 27:if(cn(n),r=ut.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=Z.current,Ea(n)?Bg(n):(e=g_(h,o,r),n.stateNode=e,Ki(n))}return ue(n),null;case 5:if(cn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=Z.current,Ea(n))Bg(n);else{var g=mc(ut.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Xe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(n)}}return ue(n),Qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ut.current,Ea(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,r)),e||bs(n,!0)}else e=mc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return ue(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else r=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ue(n),null);case 4:return kt(),e===null&&md(n.stateNode.containerInfo),ue(n),null;case 10:return Gi(n.type),ue(n),null;case 19:if(z(Ee),o=n.memoizedState,o===null)return ue(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)kg(r,e),r=r.sibling;return X(Ee,Ee.current&1|2),Lt&&qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&on()>sc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ue(n),null}else 2*on()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,r=Ee.current,X(Ee,h?r&1|2:r&1),Lt&&qi(n,o.treeForkCount),e):(ue(n),null);case 22:case 23:return wn(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&z(xr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Gi(De),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function k1(e,n){switch(Wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(De),kt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Ee),null;case 4:return kt(),null;case 10:return Gi(n.type),null;case 22:case 23:return wn(n),gf(),e!==null&&z(xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(De),null;case 25:return null;default:return null}}function uy(e,n){switch(Wh(n),n.tag){case 3:Gi(De),kt();break;case 26:case 27:case 5:cn(n);break;case 4:kt();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:z(Ee);break;case 10:Gi(n.type);break;case 22:case 23:wn(n),gf(),e!==null&&z(xr);break;case 24:Gi(De)}}function Wo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){$t(n,n.return,E)}}function Os(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=r,P=E;try{P()}catch(F){$t(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){$t(n,n.return,F)}}function cy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{tp(n,r)}catch(o){$t(e,e.return,o)}}}function hy(e,n,r){r.props=zr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,n,o)}}function tl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){$t(e,n,h)}}function Ri(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function fy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function Yf(e,n,r){try{var o=e.stateNode;sA(o,e.type,r,n),o[je]=n}catch(h){$t(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Ps(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,r),e=e.sibling;e!==null;)Xf(e,n,r),e=e.sibling}function tc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ps(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(tc(e,n,r),e=e.sibling;e!==null;)tc(e,n,r),e=e.sibling}function my(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,o,r),n[Re]=e,n[je]=r}catch(f){$t(e,e.return,f)}}var Xi=!1,Me=!1,$f=!1,gy=typeof WeakSet=="function"?WeakSet:Set,qe=null;function L1(e,n){if(e=e.containerInfo,yd=Tc,e=Ig(e),qh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,P=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(I=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===r&&++P===h&&(E=g),j===f&&++F===o&&(I=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:e,selectionRange:r},Tc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=zr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(r,r.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Td(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function py(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(e,r),o&4&&Wo(5,r);break;case 1:if(Ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(r,r.return,g)}else{var h=zr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(r,r.return,g)}}o&64&&cy(r),o&512&&tl(r,r.return);break;case 3:if(Ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{tp(e,n)}catch(g){$t(r,r.return,g)}}break;case 27:n===null&&o&4&&my(r);case 26:case 5:Ji(e,r),n===null&&o&4&&fy(r),o&512&&tl(r,r.return);break;case 12:Ji(e,r);break;case 31:Ji(e,r),o&4&&vy(e,r);break;case 13:Ji(e,r),o&4&&Ey(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Q1.bind(null,r),fA(e,r))));break;case 22:if(o=r.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||Me,h=Xi;var f=Me;Xi=o,(Me=n)&&!f?Zi(e,r,(r.subtreeFlags&8772)!==0):Ji(e,r),Xi=h,Me=f}break;case 30:break;default:Ji(e,r)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,dn=!1;function $i(e,n,r){for(r=r.child;r!==null;)_y(e,n,r),r=r.sibling}function _y(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:Me||Ri(r,n),$i(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Me||Ri(r,n);var o=fe,h=dn;Ps(r.type)&&(fe=r.stateNode,dn=!1),$i(e,n,r),ul(r.stateNode),fe=o,dn=h;break;case 5:Me||Ri(r,n);case 6:if(o=fe,h=dn,fe=null,$i(e,n,r),fe=o,dn=h,fe!==null)if(dn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{fe.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:fe!==null&&(dn?(e=fe,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ba(e)):c_(fe,r.stateNode));break;case 4:o=fe,h=dn,fe=r.stateNode.containerInfo,dn=!0,$i(e,n,r),fe=o,dn=h;break;case 0:case 11:case 14:case 15:Os(2,r,n),Me||Os(4,r,n),$i(e,n,r);break;case 1:Me||(Ri(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&hy(r,n,o)),$i(e,n,r);break;case 21:$i(e,n,r);break;case 22:Me=(o=Me)||r.memoizedState!==null,$i(e,n,r),Me=o;break;default:$i(e,n,r)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(r){$t(n,n.return,r)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(r){$t(n,n.return,r)}}function P1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var r=P1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Y1.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ps(E.type)){fe=E.stateNode,dn=!1;break t}break;case 5:fe=E.stateNode,dn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));_y(f,g,h),fe=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var ei=null;function Ty(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(Os(3,e,e.return),Wo(3,e),Os(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Me||r===null||Ri(r,r.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ei;if(mn(n,e),gn(e),o&512&&(Me||r===null||Ri(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,r),f[Re]=e,Ie(f),o=f;break t;case"link":var g=T_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ie(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?A_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Me||r===null||Ri(r,r.return)),r!==null&&o&4&&Yf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Me||r===null||Ri(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(lt){$t(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Yf(e,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){$t(e,e.return,lt)}}break;case 3:if(yc=null,h=ei,ei=gc(n.containerInfo),mn(n,e),ei=h,gn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(lt){$t(e,e.return,lt)}$f&&($f=!1,Ay(e));break;case 4:o=ei,ei=gc(e.stateNode.containerInfo),mn(n,e),gn(e),ei=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=Xi,F=Me;if(Xi=P||h,Me=F||I,mn(n,e),Me=F,Xi=P,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Xi||Me||jr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){$t(I,I.return,lt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){$t(I,I.return,lt)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?h_(q,!0):h_(I.stateNode,!1)}catch(lt){$t(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(e,r))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(dy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(e);tc(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var E=Kf(e);tc(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Kf(e);Xf(e,P,I);break;default:throw Error(a(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),jr(n);break;case 1:Ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hy(n,n.return,r),jr(n);break;case 27:ul(n.stateNode);case 26:case 5:Ri(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}e=e.sibling}}function Zi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,r),Wo(4,f);break;case 1:if(Zi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Wg(I[h],E)}catch(P){$t(o,o.return,P)}}r&&g&64&&cy(f),tl(f,f.return);break;case 27:my(f);case 26:case 5:Zi(h,f,r),r&&o===null&&g&4&&fy(f),tl(f,f.return);break;case 12:Zi(h,f,r);break;case 31:Zi(h,f,r),r&&g&4&&vy(h,f);break;case 13:Zi(h,f,r),r&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,r),tl(f,f.return);break;case 30:break;default:Zi(h,f,r)}n=n.sibling}}function Jf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&jo(r))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e))}function ni(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,r,o),n=n.sibling}function Sy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,o),h&2048&&Wo(9,n);break;case 1:ni(e,n,r,o);break;case 3:ni(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){ni(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(n,n.return,I)}}else ni(e,n,r,o);break;case 31:ni(e,n,r,o);break;case 13:ni(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,r,o):el(e,n):f._visibility&2?ni(e,n,r,o):(f._visibility|=2,Na(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(g,n);break;case 24:ni(e,n,r,o),h&2048&&Zf(n.alternate,n);break;default:ni(e,n,r,o)}}function Na(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,E,I,h),Wo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,E,I,h):el(f,g):(F._visibility|=2,Na(f,g,E,I,h)),h&&P&2048&&Jf(g.alternate,g);break;case 24:Na(f,g,E,I,h),h&&P&2048&&Zf(g.alternate,g);break;default:Na(f,g,E,I,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:el(r,o),h&2048&&Jf(o.alternate,o);break;case 24:el(r,o),h&2048&&Zf(o.alternate,o);break;default:el(r,o)}n=n.sibling}}var nl=8192;function Oa(e,n,r){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)by(e,n,r),e=e.sibling}function by(e,n,r){switch(e.tag){case 26:Oa(e,n,r),e.flags&nl&&e.memoizedState!==null&&bA(r,ei,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,r);break;case 3:case 4:var o=ei;ei=gc(e.stateNode.containerInfo),Oa(e,n,r),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Oa(e,n,r),nl=o):Oa(e,n,r));break;default:Oa(e,n,r)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qe=o,Iy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Os(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):il(e);break;default:il(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];qe=o,Iy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Iy(e,n){for(;qe!==null;){var r=qe;switch(r.tag){case 0:case 11:case 15:Os(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:jo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,qe=o;else t:for(r=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(yy(o),o===r){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var z1={getCacheForType:function(e){var n=Ye(De),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ye(De).controller.signal}},j1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,se=null,Ct=null,Ot=0,Xt=0,Rn=null,Ms=!1,Ma=!1,Wf=!1,Wi=0,ye=0,Vs=0,Br=0,td=0,In=0,Va=0,sl=null,pn=null,ed=!1,ic=0,Cy=0,sc=1/0,rc=null,xs=null,Pe=0,Us=null,xa=null,ts=0,nd=0,id=null,Dy=null,rl=0,sd=null;function Cn(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:G.T!==null?cd():au()}function Ny(){if(In===0)if((Ot&536870912)===0||Lt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),In=e}else In=536870912;return e=bn.current,e!==null&&(e.flags|=32),In}function yn(e,n,r){(e===se&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),ks(e,Ot,In,!1)),gr(e,r),((Ft&2)===0||e!==se)&&(e===se&&((Ft&2)===0&&(Br|=r),ye===4&&ks(e,Ot,In,!1)),Ii(e))}function Oy(e,n,r){if((Ft&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?H1(e,n):ad(e,n,!0),f=o;do{if(h===0){Ma&&!o&&ks(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!B1(r)){h=ad(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=sl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ua(E,g).flags|=256),g=ad(E,g,!1),g!==2){if(Wf&&!I){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,In,!Ms);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-on(),10<h)){if(ks(o,n,In,!Ms),ui(o,0,!0)!==0)break t;ts=n,o.timeoutHandle=l_(My.bind(null,o,r,pn,rc,ed,n,In,Br,Va,Ms,f,"Throttled",-0,0),h);break t}My(o,r,pn,rc,ed,n,In,Br,Va,Ms,f,null,-0,0)}}break}while(!0);Ii(e)}function My(e,n,r,o,h,f,g,E,I,P,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},by(n,f,Y);var lt=(f&62914560)===f?ic-on():(f&4194048)===f?Cy-on():0;if(lt=wA(Y,lt),lt!==null){ts=f,e.cancelPendingCommit=lt(jy.bind(null,e,n,f,r,o,h,g,E,I,F,Y,null,j,q)),ks(e,f,g,!P);return}}jy(e,n,f,r,o,h,g,E,I)}function B1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,r,o){n&=~td,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&pr(e,r,n)}function ac(){return(Ft&6)===0?(al(0),!1):!0}function rd(){if(Ct!==null){if(Xt===0)var e=Ct.return;else e=Ct,Hi=Mr=null,Tf(e),wa=null,qo=0,e=Ct;for(;e!==null;)uy(e.alternate,e),e=e.return;Ct=null}}function Ua(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,oA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ts=0,rd(),se=e,Ct=r=Bi(e.current,null),Ot=n,Xt=0,Rn=null,Ms=!1,Ma=Qn(e,n),Wf=!1,Va=In=td=Br=Vs=ye=0,pn=sl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return Wi=n,Iu(),r}function Vy(e,n){bt=null,G.H=$o,n===ba||n===Uu?(n=Xg(),Xt=3):n===uf?(n=Xg(),Xt=4):Xt=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ct===null&&(ye=1,Xu(e,kn(n,e.current)))}function xy(){var e=bn.current;return e===null?!0:(Ot&4194048)===Ot?jn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===jn:!1}function Uy(){var e=G.H;return G.H=$o,e===null?$o:e}function ky(){var e=G.A;return G.A=z1,e}function oc(){ye=4,Ms||(Ot&4194048)!==Ot&&bn.current!==null||(Ma=!0),(Vs&134217727)===0&&(Br&134217727)===0||se===null||ks(se,Ot,In,!1)}function ad(e,n,r){var o=Ft;Ft|=2;var h=Uy(),f=ky();(se!==e||Ot!==n)&&(rc=null,Ua(e,n)),n=!1;var g=ye;t:do try{if(Xt!==0&&Ct!==null){var E=Ct,I=Rn;switch(Xt){case 8:rd(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Xt;if(Xt=0,Rn=null,ka(e,E,I,P),r&&Ma){g=0;break t}break;default:P=Xt,Xt=0,Rn=null,ka(e,E,I,P)}}q1(),g=ye;break}catch(F){Vy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Hi=Mr=null,Ft=o,G.H=h,G.A=f,Ct===null&&(se=null,Ot=0,Iu()),g}function q1(){for(;Ct!==null;)Ly(Ct)}function H1(e,n){var r=Ft;Ft|=2;var o=Uy(),h=ky();se!==e||Ot!==n?(rc=null,sc=on()+500,Ua(e,n)):Ma=Qn(e,n);t:do try{if(Xt!==0&&Ct!==null){n=Ct;var f=Rn;e:switch(Xt){case 1:Xt=0,Rn=null,ka(e,n,f,1);break;case 2:case 9:if(Yg(f)){Xt=0,Rn=null,Py(n);break}n=function(){Xt!==2&&Xt!==9||se!==e||(Xt=7),Ii(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Yg(f)?(Xt=0,Rn=null,Py(n)):(Xt=0,Rn=null,ka(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?S_(g):E.stateNode.complete){Xt=0,Rn=null;var I=E.sibling;if(I!==null)Ct=I;else{var P=E.return;P!==null?(Ct=P,lc(P)):Ct=null}break e}}Xt=0,Rn=null,ka(e,n,f,5);break;case 6:Xt=0,Rn=null,ka(e,n,f,6);break;case 8:rd(),ye=6;break t;default:throw Error(a(462))}}G1();break}catch(F){Vy(e,F)}while(!0);return Hi=Mr=null,G.H=o,G.A=h,Ft=r,Ct!==null?0:(se=null,Ot=0,Iu(),ye)}function G1(){for(;Ct!==null&&!Uh();)Ly(Ct)}function Ly(e){var n=oy(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function Py(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=ey(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ey(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Tf(n);default:uy(r,n),n=Ct=kg(n,Wi),n=oy(r,n,Wi)}e.memoizedProps=e.pendingProps,n===null?lc(e):Ct=n}function ka(e,n,r,o){Hi=Mr=null,Tf(n),wa=null,qo=0;var h=n.return;try{if(M1(e,h,n,r,Ot)){ye=1,Xu(e,kn(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ye=1,Xu(e,kn(r,e.current)),Ct=null;return}n.flags&32768?(Lt||o===1?e=!0:Ma||(Ot&536870912)!==0?e=!1:(Ms=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Ms);return}e=n.return;var r=U1(n.alternate,n,Wi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ye===0&&(ye=5)}function zy(e,n){do{var r=k1(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);ye=6,Ct=null}function jy(e,n,r,o,h,f,g,E,I){e.cancelPendingCommit=null;do uc();while(Pe!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Yh,Ph(e,r,f,g,E,I),e===se&&(Ct=se=null,Ot=0),xa=n,Us=e,ts=r,nd=f,id=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K1(fs,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,g=Ft,Ft|=4;try{L1(e,n,r)}finally{Ft=g,it.p=h,G.T=o}}Pe=1,By(),qy(),Hy()}}function By(){if(Pe===1){Pe=0;var e=Us,n=xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{Ty(n,e);var f=_d,g=Ig(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Rg(E.ownerDocument.documentElement,E)){if(I!==null&&qh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,yt=Math.min(I.start,lt),te=I.end===void 0?yt:Math.min(I.end,lt);!q.extend&&yt>te&&(g=te,te=yt,yt=g);var x=wg(E,yt),N=wg(E,te);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),yt>te?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!yd,_d=yd=null}finally{Ft=h,it.p=o,G.T=r}}e.current=n,Pe=2}}function qy(){if(Pe===2){Pe=0;var e=Us,n=xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{py(e,n.alternate,n)}finally{Ft=h,it.p=o,G.T=r}}Pe=3}}function Hy(){if(Pe===4||Pe===3){Pe=0,Wl();var e=Us,n=xa,r=ts,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,xa=Us=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xs=null),Li(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(ts&3)!==0&&uc(),Ii(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===sd?rl++:(rl=0,sd=e):rl=0,al(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,jo(n)))}function uc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Pe!==5)return!1;var e=Us,n=nd;nd=0;var r=Li(ts),o=G.T,h=it.p;try{it.p=32>r?32:r,G.T=null,r=id,id=null;var f=Us,g=ts;if(Pe=0,xa=Us=null,ts=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,Ry(f.current),Sy(f,f.current,g,r),Ft=E,al(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{it.p=h,G.T=o,Gy(e,n)}}function Qy(e,n,r){n=kn(r,n),n=kf(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(gr(e,2),Ii(e))}function $t(e,n,r){if(e.tag===3)Qy(e,e,r);else for(;n!==null;){if(n.tag===3){Qy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xs===null||!xs.has(o))){e=kn(r,e),r=Yp(2),o=Cs(n,r,2),o!==null&&(Kp(r,o,n,e),gr(o,2),Ii(o));break}}n=n.return}}function od(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new j1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),e=F1.bind(null,e,n,r),n.then(e,e))}function F1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,se===e&&(Ot&r)===r&&(ye===4||ye===3&&(Ot&62914560)===Ot&&300>on()-ic?(Ft&2)===0&&Ua(e,0):td|=r,Va===Ot&&(Va=0)),Ii(e)}function Yy(e,n){n===0&&(n=ru()),e=Dr(e,n),e!==null&&(gr(e,n),Ii(e))}function Q1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Yy(e,r)}function Y1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,r)}function K1(e,n){return Le(e,n)}var cc=null,La=null,ld=!1,hc=!1,ud=!1,Ls=0;function Ii(e){e!==La&&e.next===null&&(La===null?cc=La=e:La=La.next=e),hc=!0,ld||(ld=!0,$1())}function al(e,n){if(!ud&&hc){ud=!0;do for(var r=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Jy(o,f))}else f=Ot,f=ui(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(r=!0,Jy(o,f));o=o.next}while(r);ud=!1}}function X1(){Ky()}function Ky(){hc=ld=!1;var e=0;Ls!==0&&aA()&&(e=Ls);for(var n=on(),r=null,o=cc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(La=r)):(r=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Pe!==0&&Pe!==5||al(e),Ls!==0&&(Ls=0)}function Xy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,I=h[g];I===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Lh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,r=Ot,r=ui(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hs(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&hs(o),Li(r)){case 2:case 8:r=po;break;case 32:r=fs;break;case 268435456:r=tu;break;default:r=fs}return o=$y.bind(null,e),r=Le(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&hs(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(uc()&&e.callbackNode!==r)return null;var o=Ot;return o=ui(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),Xy(e,on()),e.callbackNode!=null&&e.callbackNode===r?$y.bind(null,e):null)}function Jy(e,n){if(uc())return null;Oy(e,n,!0)}function $1(){lA(function(){(Ft&6)!==0?Le(go,X1):Ky()})}function cd(){if(Ls===0){var e=Aa;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ls=e}return Ls}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Wy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function J1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Zy((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?Zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ls!==0){var I=g?Wy(h,g):new FormData(h);Nf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Wy(h,g):new FormData(h),Nf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],Z1=fd.toLowerCase(),W1=fd[0].toUpperCase()+fd.slice(1);ti(Z1,"on"+W1)}ti(Ng,"onAnimationEnd"),ti(Og,"onAnimationIteration"),ti(Mg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(g1,"onTransitionRun"),ti(p1,"onTransitionStart"),ti(y1,"onTransitionCancel"),ti(Vg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function t_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=I}}}}function Dt(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||(e_(n,e,2,!1),r.add(o))}function dd(e,n,r){var o=0;n&&(o|=4),e_(r,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[fc]){e[fc]=!0,vo.forEach(function(r){r!=="selectionchange"&&(tA.has(r)||dd(r,!1,e),dd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,dd("selectionchange",!1,n))}}function e_(e,n,r,o){switch(N_(n)){case 2:var h=CA;break;case 8:h=DA;break;default:h=Dd}r=h.bind(null,n,r,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function gd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}_s(function(){var P=f,F=Mn(r),Y=[];t:{var j=xg.get(e);if(j!==void 0){var q=Ei,lt=e;switch(e){case"keypress":if(Sr(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":lt="focus",q=wr;break;case"focusout":lt="blur",q=wr;break;case"beforeblur":case"afterblur":q=wr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ng:case Og:case Mg:q=pu;break;case Vg:q=T;break;case"scroll":case"scrollend":q=Oo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ji;break;case"toggle":case"beforetoggle":q=St}var yt=(n&4)!==0,te=!yt&&(e==="scroll"||e==="scrollend"),x=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=$n(N,x),Q!=null&&yt.push(ll(N,Q,L))),te)break;N=N.return}0<yt.length&&(j=new q(j,lt,null,r,F),Y.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Co&&(lt=r.relatedTarget||r.fromElement)&&(di(lt)||lt[hi]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=P,lt=lt?di(lt):null,lt!==null&&(te=c(lt),yt=lt.tag,lt!==te||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(yt=Mo,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ji,Q="onPointerLeave",x="onPointerEnter",N="pointer"),te=q==null?j:En(q),L=lt==null?j:En(lt),j=new yt(Q,N+"leave",q,r,F),j.target=te,j.relatedTarget=L,Q=null,di(F)===P&&(yt=new yt(x,N+"enter",lt,r,F),yt.target=L,yt.relatedTarget=te,Q=yt),te=Q,q&&lt)e:{for(yt=eA,x=q,N=lt,L=0,Q=x;Q;Q=yt(Q))L++;Q=0;for(var mt=N;mt;mt=yt(mt))Q++;for(;0<L-Q;)x=yt(x),L--;for(;0<Q-L;)N=yt(N),Q--;for(;L--;){if(x===N||N!==null&&x===N.alternate){yt=x;break e}x=yt(x),N=yt(N)}yt=null}else yt=null;q!==null&&n_(Y,j,q,yt,!1),lt!==null&&te!==null&&n_(Y,te,lt,yt,!0)}}t:{if(j=P?En(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Bt=vg;else if(yg(j))if(Eg)Bt=f1;else{Bt=c1;var ct=u1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&aa(P.elementType)&&(Bt=vg):Bt=h1;if(Bt&&(Bt=Bt(e,P))){_g(Y,Bt,r,F);break t}ct&&ct(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&wo(j,"number",j.value)}switch(ct=P?En(P):window,e){case"focusin":(yg(ct)||ct.contentEditable==="true")&&(ma=ct,Hh=P,Lo=null);break;case"focusout":Lo=Hh=ma=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Cg(Y,r,F);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":Cg(Y,r,F)}var wt;if(Gt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else da?Rr(e,r)&&(Mt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Mt="onCompositionStart");Mt&&(Si&&r.locale!=="ko"&&(da||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&da&&(wt=No()):(vi=F,Do="value"in vi?vi.value:vi.textContent,da=!0)),ct=dc(P,Mt),0<ct.length&&(Mt=new Ai(Mt,e,null,r,F),Y.push({event:Mt,listeners:ct}),wt?Mt.data=wt:(wt=fa(r),wt!==null&&(Mt.data=wt)))),(wt=xn?r1(e,r):a1(e,r))&&(Mt=dc(P,"onBeforeInput"),0<Mt.length&&(ct=new Ai("onBeforeInput","beforeinput",null,r,F),Y.push({event:ct,listeners:Mt}),ct.data=wt)),J1(Y,e,P,r,F)}t_(Y,n)})}function ll(e,n,r){return{instance:e,listener:n,currentTarget:r}}function dc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,r),h!=null&&o.unshift(ll(e,h,f)),h=$n(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function eA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=$n(r,f),P!=null&&g.unshift(ll(r,P,I))):h||(P=$n(r,f),P!=null&&g.push(ll(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var nA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(nA,`
`).replace(iA,"")}function s_(e,n){return n=i_(n),i_(e)===n}function Wt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,r,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,sa(e,r,o))}}function pd(e,n,r,o,h,f){switch(r){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[je]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sa(e,r,o)}}}function Xe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,r,null)}}h&&Wt(e,n,"srcSet",r.srcSet,r,null),o&&Wt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Wt(e,n,o,F,r,null)}}cu(e,f,E,I,P,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Wt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ms(e,!!o,n,!1):r!=null&&ms(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,g,E,r,null)}gs(e,o,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,I,o,r,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Dt(ol[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,P,o,r,null)}return;default:if(aa(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&pd(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Wt(e,n,E,o,r,null))}function sA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:o.hasOwnProperty(q)||Wt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=r[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Wt(e,n,j,q,o,Y)}}ra(e,g,E,I,P,F,f,h);return;case"select":q=g=E=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=r[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Wt(e,n,h,f,o,I)}n=E,r=g,o=q,j!=null?ms(e,!!r,j,!1):!!o!=!!r&&(n!=null?ms(e,!!r,n,!0):ms(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}hu(e,j,q);return;case"option":for(var lt in r)j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,n,lt,null,o,j));for(I in o)j=o[I],q=r[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,I,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)j=r[yt],r.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&Wt(e,n,yt,null,o,j);for(P in o)if(j=o[P],q=r[P],o.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,P,j,o,q)}return;default:if(aa(n)){for(var te in r)j=r[te],r.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&pd(e,n,te,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||pd(e,n,F,j,o,q);return}}for(var x in r)j=r[x],r.hasOwnProperty(x)&&j!=null&&!o.hasOwnProperty(x)&&Wt(e,n,x,null,o,j);for(Y in o)j=o[Y],q=r[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Wt(e,n,Y,j,o,q)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var F=I.transferSize,Y=I.initiatorType;F&&r_(Y)&&(I=I.responseEnd,g+=F*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function aA(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(uA)}:l_;function uA(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function c_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ul(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ul(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ul(e.ownerDocument.body);r=h}while(r);Ba(n)}function h_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function cA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function hA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Bn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function Ad(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bd=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,r){switch(n=mc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var qn=new Map,p_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=it.d;it.d={f:dA,r:mA,D:gA,C:pA,L:yA,m:_A,X:EA,S:vA,M:TA};function dA(){var e=es.f(),n=ac();return e||n}function mA(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):es.r(e)}var Pa=typeof document>"u"?null:document;function y_(e,n,r){var o=Pa;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Xe(n,"link",e),Ie(n),o.head.appendChild(n)))}}function gA(e){es.D(e),y_("dns-prefetch",e,null)}function pA(e,n){es.C(e,n),y_("preconnect",e,n)}function yA(e,n,r){es.L(e,n,r);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}qn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),Xe(n,"link",e),Ie(n),o.head.appendChild(n)))}}function _A(e,n){es.m(e,n);var r=Pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!qn.has(f)&&(e=b({rel:"modulepreload",href:e},n),qn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(f)))return}o=r.createElement("link"),Xe(o,"link",e),Ie(o),r.head.appendChild(o)}}}function vA(e,n,r){es.S(e,n,r);var o=Pa;if(o&&e){var h=mi(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=qn.get(f))&&wd(e,r);var I=g=o.createElement("link");Ie(I),Xe(I,"link",e),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function EA(e,n){es.X(e,n);var r=Pa;if(r&&e){var o=mi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=b({src:e,async:!0},n),(n=qn.get(h))&&Rd(e,n),f=r.createElement("script"),Ie(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function TA(e,n){es.M(e,n);var r=Pa;if(r&&e){var o=mi(r).hoistableScripts,h=ja(e),f=o.get(h);f||(f=r.querySelector(hl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&Rd(e,n),f=r.createElement("script"),Ie(f),Xe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,r,o){var h=(h=ut.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=za(r.href),r=mi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=za(r.href);var f=mi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(e,r),f||AA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(r),r=mi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+hn(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function AA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Xe(n,"link",r),Ie(n),e.head.appendChild(n))}function ja(e){return'[src="'+hn(e)+'"]'}function hl(e){return"script[async]"+e}function E_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Xe(o,"style",h),pc(o,r.precedence,e),n.instance=o;case"stylesheet":h=za(r.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=v_(r),(h=qn.get(h))&&wd(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Xe(f,"link",o),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=ja(r.src),(h=e.querySelector(hl(f)))?(n.instance=h,Ie(h),h):(o=r,(h=qn.get(f))&&(o=b({},r),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,r.precedence,e));return n.instance}function pc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function T_(e,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[fi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function A_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function SA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=za(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ie(f);return}f=n.ownerDocument||n,o=v_(o),(h=qn.get(h))&&wd(o,h),f=f.createElement("link"),Ie(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Xe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=_c.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Id=0;function wA(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Id===0&&(Id=62500*rA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Id?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(RA,e),vc=null,_c.call(e))}function RA(e,n){if(!(n.state.loading&4)){var r=vc.get(e);if(r)var o=r.get(null);else{r=new Map,vc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function IA(e,n,r,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function b_(e,n,r,o,h,f,g,E,I,P,F,Y){return e=new IA(e,n,r,g,I,P,F,Y,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=af(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),e}function w_(e){return e?(e=ya,e):ya}function R_(e,n,r,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Cs(e,o,n),r!==null&&(yn(r,e,n),Go(r,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Cd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&yn(n,e,67108864),Cd(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=Cn();n=yr(n);var r=Dr(e,n);r!==null&&yn(r,e,n),Cd(e,n)}}var Tc=!0;function CA(e,n,r,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Dd(e,n,r,o)}finally{it.p=f,G.T=h}}function DA(e,n,r,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Dd(e,n,r,o)}finally{it.p=f,G.T=h}}function Dd(e,n,r,o){if(Tc){var h=Nd(o);if(h===null)gd(e,n,o,Ac,r),O_(e,o);else if(OA(h,e,n,r,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<NA.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-_e(g);E.entanglements[1]|=I,g&=~I}Ii(f),(Ft&6)===0&&(sc=on()+500,al(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&yn(E,f,2),ac(),Cd(f,2)}if(f=Nd(o),f===null&&gd(e,n,o,Ac,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,r)}}function Nd(e){return e=Mn(e),Od(e)}var Ac=null;function Od(e){if(Ac=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case go:return 2;case po:return 8;case fs:case kh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Md=!1,zs=null,js=null,Bs=null,dl=new Map,ml=new Map,qs=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function OA(e,n,r,o,h){switch(n){case"focusin":return zs=gl(zs,e,n,r,o,h),!0;case"dragenter":return js=gl(js,e,n,r,o,h),!0;case"mouseover":return Bs=gl(Bs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,e,n,r,o,h)),!0}return!1}function M_(e){var n=di(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){D_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){D_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Nd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Co=o,r.target.dispatchEvent(o),Co=null}else return n=On(r),n!==null&&C_(n),e.blockedOn=r,!1;n.shift()}return!0}function V_(e,n,r){Sc(e)&&r.delete(n)}function MA(){Md=!1,zs!==null&&Sc(zs)&&(zs=null),js!==null&&Sc(js)&&(js=null),Bs!==null&&Sc(Bs)&&(Bs=null),dl.forEach(V_),ml.forEach(V_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MA)))}var wc=null;function x_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||r)===null)continue;break}var f=On(r);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ba(e){function n(I){return bc(I,e)}zs!==null&&bc(zs,e),js!==null&&bc(js,e),Bs!==null&&bc(Bs,e),dl.forEach(n),ml.forEach(n);for(var r=0;r<qs.length;r++){var o=qs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qs.length&&(r=qs[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&qs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[je]||null;if(typeof f=="function")g||x_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Od(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),x_(r)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}Rc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();R_(r,o,e,n,null,null)},Rc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),ac(),n[hi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var r=0;r<qs.length&&n!==0&&n<qs[r].priority;r++);qs.splice(r,0,e),r===0&&M_(e)}};var k_=t.version;if(k_!=="19.2.4")throw Error(a(527,k_,"19.2.4"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Fn=Ic.inject(VA),Ge=Ic}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Hp,f=Gp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=b_(e,1,!1,null,null,r,o,null,h,f,g,U_),e[hi]=n.current,md(e),new Vd(n)},yl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Hp,g=Gp,E=Fp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=b_(e,1,!0,n,r??null,o,h,I,f,g,E,U_),n.context=w_(null),r=n.current,o=Cn(),o=yr(o),h=Is(o),h.callback=null,Cs(r,h,o),r=o,n.current.lanes=r,gr(n,r),Ii(n),e[hi]=n.current,md(e),new Rc(n)},yl.version="19.2.4",yl}var Q_;function HA(){if(Q_)return kd.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=qA(),kd.exports}var GA=HA();const FA=()=>{};var Y_={};const C0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},QA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;v||(H=64,d||(M=64)),a.push(i[A],i[b],i[M],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(C0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):QA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new YA;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),b!==64){const tt=y<<6&192|b;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(s){const t=C0(s);return D0.encodeByteArray(t,!0)},Kc=function(s){return KA(s).replace(/\./g,"")},N0=function(s){try{return D0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $A=()=>XA().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ZA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&N0(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return FA()||$A()||JA()||ZA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},O0=s=>mh()?.emulatorHosts?.[s],WA=s=>{const t=O0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},M0=()=>mh()?.config,V0=s=>mh()?.[`_${s}`];class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(s){return(await fetch(s,{credentials:"include"})).ok}function eS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const wl={};function nS(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function iS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let K_=!1;function U0(s,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||wl[s]===t||wl[s]||K_)return;wl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=nS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K_=!0,d()},M}function A(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function b(){const M=iS(a),H=i("text"),tt=document.getElementById(H)||document.createElement("span"),J=i("learnmore"),et=document.getElementById(J)||document.createElement("a"),rt=i("preprendIcon"),ht=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;p(ft),A(et,J);const Pt=y();v(ht,rt),ft.append(ht,tt,et,Pt),document.body.appendChild(ft)}c?(tt.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function rS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const dS="FirebaseError";class us extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=dS,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new us(l,p,a)}}function mS(s,t){return s.replace(gS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const gS=/\{\$([^}]+)}/g;function pS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Yr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(X_(c)&&X_(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}function ql(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yS(s,t){const i=new _S(s,t);return i.subscribe.bind(i)}class _S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=jd),l.error===void 0&&(l.error=jd),l.complete===void 0&&(l.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}function Ze(s){return s&&s._delegate?s._delegate:s}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class ES{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new tS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(s){return s===qr?void 0:s}function AS(s){return s.instantiationMode==="EAGER"}class SS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ES(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const bS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},wS=Vt.INFO,RS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},IS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=RS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const CS=(s,t)=>t.some(i=>s instanceof i);let $_,J_;function DS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k0=new WeakMap,Zd=new WeakMap,L0=new WeakMap,Bd=new WeakMap,Im=new WeakMap;function OS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i($s(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&k0.set(i,s)}).catch(()=>{}),Im.set(t,s),t}function MS(s){if(Zd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Zd.set(s,t)}let Wd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||L0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $s(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function VS(s){Wd=s(Wd)}function xS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(qd(this),t,...i);return L0.set(a,t.sort?t.sort():[t]),$s(a)}:NS().includes(s)?function(...t){return s.apply(qd(this),t),$s(k0.get(this))}:function(...t){return $s(s.apply(qd(this),t))}}function US(s){return typeof s=="function"?xS(s):(s instanceof IDBTransaction&&MS(s),CS(s,DS())?new Proxy(s,Wd):s)}function $s(s){if(s instanceof IDBRequest)return OS(s);if(Bd.has(s))return Bd.get(s);const t=US(s);return t!==s&&(Bd.set(s,t),Im.set(t,s)),t}const qd=s=>Im.get(s);function kS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=$s(d);return a&&d.addEventListener("upgradeneeded",v=>{a($s(d.result),v.oldVersion,v.newVersion,$s(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const LS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],Hd=new Map;function Z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=PS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Hd.set(t,c),c}VS(s=>({...s,get:(t,i,a)=>Z_(t,i)||s.get(t,i,a),has:(t,i)=>!!Z_(t,i)||s.has(t,i)}));class zS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.8";const ss=new Rm("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",GS="@firebase/app-check-compat",FS="@firebase/app-check",QS="@firebase/auth",YS="@firebase/auth-compat",KS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",WS="@firebase/installations",tb="@firebase/installations-compat",eb="@firebase/messaging",nb="@firebase/messaging-compat",ib="@firebase/performance",sb="@firebase/performance-compat",rb="@firebase/remote-config",ab="@firebase/remote-config-compat",ob="@firebase/storage",lb="@firebase/storage-compat",ub="@firebase/firestore",cb="@firebase/ai",hb="@firebase/firestore-compat",fb="firebase",db="12.9.0";const em="[DEFAULT]",mb={[tm]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[FS]:"fire-app-check",[GS]:"fire-app-check-compat",[QS]:"fire-auth",[YS]:"fire-auth-compat",[KS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[WS]:"fire-iid",[tb]:"fire-iid-compat",[eb]:"fire-fcm",[nb]:"fire-fcm-compat",[ib]:"fire-perf",[sb]:"fire-perf-compat",[rb]:"fire-rc",[ab]:"fire-rc-compat",[ob]:"fire-gcs",[lb]:"fire-gcs-compat",[ub]:"fire-fst",[hb]:"fire-fst-compat",[cb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};const Xc=new Map,gb=new Map,nm=new Map;function tv(s,t){try{s.container.addComponent(t)}catch(i){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Za(s){const t=s.name;if(nm.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,s);for(const i of Xc.values())tv(i,s);for(const i of gb.values())tv(i,s);return!0}function Cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ii(s){return s==null?!1:s.settings!==void 0}const pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Bl("app","Firebase",pb);class yb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const oo=db;function P0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(i||(i=M0()),!i)throw Js.create("no-options");const c=Xc.get(l);if(c){if(Yr(i,c.options)&&Yr(a,c.config))return c;throw Js.create("duplicate-app",{appName:l})}const d=new SS(l);for(const v of nm.values())d.addComponent(v);const p=new yb(i,a,d);return Xc.set(l,p),p}function z0(s=em){const t=Xc.get(s);if(!t&&s===em&&M0())return P0();if(!t)throw Js.create("no-app",{appName:s});return t}function Zs(s,t,i){let a=mb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Za(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const _b="firebase-heartbeat-database",vb=1,Ml="firebase-heartbeat-store";let Gd=null;function j0(){return Gd||(Gd=kS(_b,vb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function Eb(s){try{const i=(await j0()).transaction(Ml),a=await i.objectStore(Ml).get(B0(s));return await i.done,a}catch(t){if(t instanceof us)ss.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});ss.warn(i.message)}}}async function ev(s,t){try{const a=(await j0()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(t,B0(s)),await a.done}catch(i){if(i instanceof us)ss.warn(i.message);else{const a=Js.create("idb-set",{originalErrorMessage:i?.message});ss.warn(a.message)}}}function B0(s){return`${s.name}!${s.options.appId}`}const Tb=1024,Ab=30;class Sb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Ab){const l=Rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:i,unsentEntries:a}=bb(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ss.warn(t),""}}}function nv(){return new Date().toISOString().substring(0,10)}function bb(s,t=Tb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),iv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),iv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Eb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function iv(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function Rb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Ib(s){Za(new Kr("platform-logger",t=>new zS(t),"PRIVATE")),Za(new Kr("heartbeat",t=>new Sb(t),"PRIVATE")),Zs(tm,W_,s),Zs(tm,W_,"esm2020"),Zs("fire-js","")}Ib("");var Cb="firebase",Db="12.9.0";Zs(Cb,Db,"app");function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nb=q0,H0=new Bl("auth","Firebase",q0());const $c=new Rm("@firebase/auth");function Ob(s,...t){$c.logLevel<=Vt.WARN&&$c.warn(`Auth (${oo}): ${s}`,...t)}function Lc(s,...t){$c.logLevel<=Vt.ERROR&&$c.error(`Auth (${oo}): ${s}`,...t)}function rs(s,...t){throw Dm(s,...t)}function Di(s,...t){return Dm(s,...t)}function G0(s,t,i){const a={...Nb(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:s.name})}function Ws(s){return G0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return H0.create(s,...t)}function vt(s,t,...i){if(!s)throw Dm(t,...i)}function ns(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function as(s,t){s||ns(t)}function im(){return typeof self<"u"&&self.location?.href||""}function Mb(){return sv()==="http:"||sv()==="https:"}function sv(){return typeof self<"u"&&self.location?.protocol||null}function Vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mb()||oS()||"connection"in navigator)?navigator.onLine:!0}function xb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Hl{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||lS()}get(){return Vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nm(s,t){as(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class F0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ub={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lb=new Hl(3e4,6e4);function gh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function lo(s,t,i,a,l={}){return Q0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:v,...c};return aS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ao(s.emulatorConfig.host)&&(y.credentials="include"),F0.fetch()(await K0(s,s.config.apiHost,i,p),y)})}async function Q0(s,t,i){s._canInitEmulator=!1;const a={...Ub,...t};try{const l=new Pb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Cc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw G0(s,A,y);rs(s,A)}}catch(l){if(l instanceof us)throw l;rs(s,"network-request-failed",{message:String(l)})}}async function Y0(s,t,i,a,l={}){const c=await lo(s,t,i,a,l);return"mfaPendingCredential"in c&&rs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function K0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Nm(s.config,l):`${s.config.apiScheme}://${l}`;return kb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Pb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),Lb.get())})}}function Cc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Di(s,t,a);return l.customData._tokenResponse=i,l}async function zb(s,t){return lo(s,"POST","/v1/accounts:delete",t)}async function Jc(s,t){return lo(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jb(s,t=!1){const i=Ze(s),a=await i.getIdToken(t),l=Om(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(Fd(l.auth_time)),issuedAtTime:Rl(Fd(l.iat)),expirationTime:Rl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function Om(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=N0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function rv(s){const t=Om(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof us&&Bb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Bb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(s){const t=s.auth,i=await s.getIdToken(),a=await Vl(s,Jc(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?X0(l.providerUserInfo):[],d=Gb(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Hb(s){const t=Ze(s);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Gb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function X0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Fb(s,t){const i=await Q0(s,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await K0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&ao(s.emulatorConfig.host)&&(v.credentials="include"),F0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Qb(s,t){return lo(s,"POST","/v2/accounts:revokeToken",gh(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=rv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Fb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ya;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Gs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return jb(this,t)}reload(){return Hb(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ws(this.auth));const t=await this.getIdToken();return await Vl(this,zb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:M,isAnonymous:H,providerData:tt,stsTokenManager:J}=i;vt(b&&J,t,"internal-error");const et=Ya.fromJSON(this.name,J);vt(typeof b=="string",t,"internal-error"),Gs(a,t.name),Gs(l,t.name),vt(typeof M=="boolean",t,"internal-error"),vt(typeof H=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(v,t.name),Gs(y,t.name),Gs(A,t.name);const rt=new si({uid:b,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:y,lastLoginAt:A});return tt&&Array.isArray(tt)&&(rt.providerData=tt.map(ht=>({...ht}))),v&&(rt._redirectEventId=v),rt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?X0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(a);const v=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const av=new Map;function is(s){as(s instanceof Function,"Expected a class definition");let t=av.get(s);return t?(as(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,av.set(s,t),t)}class $0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$0.type="NONE";const ov=$0;function Pc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka(is(ov),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||is(ov);const d=Pc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const M=await Jc(t,{idToken:A}).catch(()=>{});if(!M)break;b=await si._fromGetAccountInfoResponse(t,M,A)}else b=si._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ka(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,t,a))}}function lv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nE(t))return"Blackberry";if(iE(t))return"Webos";if(Z0(t))return"Safari";if((t.includes("chrome/")||W0(t))&&!t.includes("edge/"))return"Chrome";if(eE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function J0(s=an()){return/firefox\//i.test(s)}function Z0(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function W0(s=an()){return/crios\//i.test(s)}function tE(s=an()){return/iemobile/i.test(s)}function eE(s=an()){return/android/i.test(s)}function nE(s=an()){return/blackberry/i.test(s)}function iE(s=an()){return/webos/i.test(s)}function Mm(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Yb(s=an()){return Mm(s)&&!!window.navigator?.standalone}function Kb(){return uS()&&document.documentMode===10}function sE(s=an()){return Mm(s)||eE(s)||iE(s)||nE(s)||/windows phone/i.test(s)||tE(s)}function rE(s,t=[]){let i;switch(s){case"Browser":i=lv(an());break;case"Worker":i=`${lv(an())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${a}`}class Xb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $b(s,t={}){return lo(s,"GET","/v2/passwordPolicy",gh(s,t))}const Jb=6;class Zb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Jb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Wb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new Xb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(Ws(this));const i=t?Ze(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $b(this),i=new Zb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Qb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ob(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ph(s){return Ze(s)}class uv{constructor(t){this.auth=t,this.observer=null,this.addObserver=yS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(s){Vm=s}function ew(s){return Vm.loadJS(s)}function nw(){return Vm.gapiScript}function iw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sw(s,t){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return l;rs(l,"already-initialized")}return i.initialize({options:t})}function rw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function aw(s,t,i){const a=ph(s);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=aE(t),{host:d,port:p}=ow(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(Yr(y,a.config.emulator)&&Yr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ao(d)?(x0(`${c}//${d}${v}`),U0("Auth",!0)):lw()}function aE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function ow(s){const t=aE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:cv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:cv(d)}}}function cv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function lw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class oE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function Xa(s,t){return Y0(s,"POST","/v1/accounts:signInWithIdp",gh(s,t))}const uw="http://localhost";class Xr extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class lE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Gl extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends Gl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Qs extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ys extends Gl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Ks extends Gl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function cw(s,t){return Y0(s,"POST","/v1/accounts:signUp",gh(s,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=hv(a);return new ir({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=hv(a);return new ir({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function hv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function hw(s){if(ii(s.app))return Promise.reject(Ws(s));const t=ph(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await cw(t,{returnSecureToken:!0}),a=await ir._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends us{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Wc(t,i,a,l)}}function uE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,t,a):c})}async function fw(s,t,i=!1){const a=await Vl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ir._forOperation(s,"link",a)}async function dw(s,t,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(Ws(a));const l="reauthenticate";try{const c=await Vl(s,uE(a,l,t,s),i);vt(c.idToken,a,"internal-error");const d=Om(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(s.uid===p,a,"user-mismatch"),ir._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(a,"user-mismatch"),c}}async function mw(s,t,i=!1){if(ii(s.app))return Promise.reject(Ws(s));const a="signIn",l=await uE(s,a,t),c=await ir._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function gw(s,t,i,a){return Ze(s).onIdTokenChanged(t,i,a)}function pw(s,t,i){return Ze(s).beforeAuthStateChanged(t,i)}function yw(s,t,i,a){return Ze(s).onAuthStateChanged(t,i,a)}const th="__sak";class cE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _w=1e3,vw=10;class hE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Kb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,vw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}hE.type="LOCAL";const Ew=hE;class fE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}fE.type="SESSION";const dE=fE;function Tw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new yh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await Tw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function xm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=xm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const M=b;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function Sw(s){Ni().location.href=s}function mE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function bw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ww(){return navigator?.serviceWorker?.controller||null}function Rw(){return mE()?self:null}const gE="firebaseLocalStorageDb",Iw=1,eh="firebaseLocalStorage",pE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,t){return s.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function Cw(){const s=indexedDB.deleteDatabase(gE);return new Fl(s).toPromise()}function rm(){const s=indexedDB.open(gE,Iw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:pE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await Cw(),t(await rm()))})})}async function fv(s,t,i){const a=_h(s,!0).put({[pE]:t,value:i});return new Fl(a).toPromise()}async function Dw(s,t){const i=_h(s,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function dv(s,t){const i=_h(s,!0).delete(t);return new Fl(i).toPromise()}const Nw=800,Ow=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ow)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(Rw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bw(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await fv(t,th,"1"),await dv(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>fv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Dw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>dv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const Mw=yE;new Hl(3e4,6e4);function Vw(s,t){return t?is(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Um extends oE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xw(s){return mw(s.auth,new Um(s),s.bypassAuthState)}function Uw(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),dw(i,new Um(s),s.bypassAuthState)}async function kw(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),fw(i,new Um(s),s.bypassAuthState)}class _E{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Uw;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lw=new Hl(2e3,1e4);class Qa extends _E{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lw.get())};t()}}Qa.currentPopupAction=null;const Pw="pendingRedirect",zc=new Map;class zw extends _E{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await jw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jw(s,t){const i=Hw(t),a=qw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Bw(s,t){zc.set(s._key(),t)}function qw(s){return is(s._redirectPersistence)}function Hw(s){return Pc(Pw,s.config.apiKey,s.name)}async function Gw(s,t,i=!1){if(ii(s.app))return Promise.reject(Ws(s));const a=ph(s),l=Vw(a,t),d=await new zw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Fw=600*1e3;class Qw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Yw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!vE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Fw&&this.cachedEventUids.clear(),this.cachedEventUids.has(mv(t))}saveEventToCache(t){this.cachedEventUids.add(mv(t)),this.lastProcessedEventTime=Date.now()}}function mv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function vE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Yw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(s);default:return!1}}async function Kw(s,t={}){return lo(s,"GET","/v1/projects",t)}const Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$w=/^https?/;async function Jw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Kw(s);for(const i of t)try{if(Zw(i))return}catch{}rs(s,"unauthorized-domain")}function Zw(s){const t=im(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$w.test(i))return!1;if(Xw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Ww=new Hl(3e4,6e4);function gv(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tR(s){return new Promise((t,i)=>{function a(){gv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gv(),i(Di(s,"network-request-failed"))},timeout:Ww.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=iw("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(Di(s,"network-request-failed"))},ew(`${nw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function eR(s){return jc=jc||tR(s),jc}const nR=new Hl(5e3,15e3),iR="__/auth/iframe",sR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Nm(t,sR):`https://${s.config.authDomain}/${iR}`,a={apiKey:t.apiKey,appName:s.name,v:oo},l=aR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function lR(s){const t=await eR(s),i=Ni().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:oR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},nR.get());function v(){Ni().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const uR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cR=500,hR=600,fR="_blank",dR="http://localhost";class pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(s,t,i,a=cR,l=hR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...uR,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();i&&(p=W0(y)?fR:i),J0(y)&&(t=t||dR,v.scrollbars="yes");const A=Object.entries(v).reduce((M,[H,tt])=>`${M}${H}=${tt},`,"");if(Yb(y)&&p!=="_self")return gR(t||"",p),new pv(null);const b=window.open(t||"",p,A);vt(b,s,"popup-blocked");try{b.focus()}catch{}return new pv(b)}function gR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const pR="__/auth/handler",yR="emulator/auth/handler",_R=encodeURIComponent("fac");async function yv(s,t,i,a,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:oo,eventId:l};if(t instanceof lE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",pS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Gl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),y=v?`#${_R}=${encodeURIComponent(v)}`:"";return`${vR(s)}?${ql(p).slice(1)}${y}`}function vR({config:s}){return s.emulator?Nm(s,yR):`https://${s.authDomain}/${pR}`}const Qd="webStorageSupport";class ER{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=Gw,this._overrideRedirectResult=Bw}async _openPopup(t,i,a,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await yv(t,i,a,im(),l);return mR(t,c,xm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await yv(t,i,a,im(),l);return Sw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await lR(t),a=new Qw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return sE()||Z0()||Mm()}}const TR=ER;var _v="@firebase/auth",vv="1.12.0";class AR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bR(s){Za(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(s)},y=new Wb(a,l,c,v);return rw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Kr("auth-internal",t=>{const i=ph(t.getProvider("auth").getImmediate());return(a=>new AR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(_v,vv,SR(s)),Zs(_v,vv,"esm2020")}const wR=300,RR=V0("authIdTokenMaxAge")||wR;let Ev=null;const IR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>RR)return;const l=i?.token;Ev!==l&&(Ev=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function CR(s=z0()){const t=Cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(s,{popupRedirectResolver:TR,persistence:[Mw,Ew,dE]}),a=V0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=IR(c.toString());pw(i,d,()=>d(i.currentUser)),gw(i,p=>d(p))}}const l=O0("auth");return l&&aw(i,`http://${l}`),i}function DR(){return document.getElementsByTagName("head")?.[0]??document}tw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",DR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bR("Browser");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,EE;(function(){var s;function t(D,w){function C(){}C.prototype=w.prototype,D.F=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(V,O,U){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return w.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],O=D.g[2];let U=D.g[3],R;R=w+(U^C&(O^U))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(O^U&(C^O))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(C^O^U)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(O^(C|~U))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+U&4294967295}a.prototype.v=function(D,w){w===void 0&&(w=D.length);const C=w-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<w;){if(O==0)for(;U<=C;)l(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<w;)if(V[O++]=D.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<w;)if(V[O++]=D[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)D[w++]=this.g[C]>>>V&255;return D};function c(D,w){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function d(D,w){this.h=w;const C=[];let V=!0;for(let O=D.length-1;O>=0;O--){const U=D[O]|0;V&&U==w||(C[O]=U,V=!1)}this.g=C}var p={};function v(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return et(y(-D));const w=[];let C=1;for(let V=0;D>=C;V++)w[V]=D/C|0,C*=4294967296;return new d(w,0)}function A(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return et(A(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=b;for(let U=0;U<D.length;U+=8){var O=Math.min(8,D.length-U);const R=parseInt(D.substring(U,U+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var b=v(0),M=v(1),H=v(16777216);s=d.prototype,s.m=function(){if(J(this))return-et(this).m();let D=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(tt(this))return"0";if(J(this))return"-"+et(this).toString(D);const w=y(Math.pow(D,6));var C=this;let V="";for(;;){const O=Pt(C,w).g;C=rt(C,O.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=O,tt(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function tt(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function J(D){return D.h==-1}s.l=function(D){return D=rt(this,D),J(D)?-1:tt(D)?0:1};function et(D){const w=D.g.length,C=[];for(let V=0;V<w;V++)C[V]=~D.g[V];return new d(C,~D.h).add(M)}s.abs=function(){return J(this)?et(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),C=[];let V=0;for(let O=0;O<=w;O++){let U=V+(this.i(O)&65535)+(D.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,C[O]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function rt(D,w){return D.add(et(w))}s.j=function(D){if(tt(this)||tt(D))return b;if(J(this))return J(D)?et(this).j(et(D)):et(et(this).j(D));if(J(D))return et(this.j(et(D)));if(this.l(H)<0&&D.l(H)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const U=this.i(V)>>>16,R=this.i(V)&65535,ne=D.i(O)>>>16,ge=D.i(O)&65535;C[2*V+2*O]+=R*ge,ht(C,2*V+2*O),C[2*V+2*O+1]+=U*ge,ht(C,2*V+2*O+1),C[2*V+2*O+1]+=R*ne,ht(C,2*V+2*O+1),C[2*V+2*O+2]+=U*ne,ht(C,2*V+2*O+2)}for(D=0;D<w;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=w;D<2*w;D++)C[D]=0;return new d(C,0)};function ht(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ft(D,w){this.g=D,this.h=w}function Pt(D,w){if(tt(w))throw Error("division by zero");if(tt(D))return new ft(b,b);if(J(D))return w=Pt(et(D),w),new ft(et(w.g),et(w.h));if(J(w))return w=Pt(D,et(w)),new ft(et(w.g),w.h);if(D.g.length>30){if(J(D)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(D)<=0;)C=re(C),V=re(V);var O=Rt(C,1),U=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!tt(V);){var R=U.add(V);R.l(D)<=0&&(O=O.add(C),U=R),V=Rt(V,1),C=Rt(C,1)}return w=rt(D,O.j(w)),new ft(O,w)}for(O=b;D.l(w)>=0;){for(C=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),R=U.j(w);J(R)||R.l(D)>0;)C-=V,U=y(C),R=U.j(w);tt(U)&&(U=M),O=O.add(U),D=rt(D,R)}return new ft(O,D)}s.B=function(D){return Pt(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&D.i(V);return new d(C,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|D.i(V);return new d(C,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^D.i(V);return new d(C,this.h^D.h)};function re(D){const w=D.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(C,D.h)}function Rt(D,w){const C=w>>5;w%=32;const V=D.g.length-C,O=[];for(let U=0;U<V;U++)O[U]=w>0?D.i(U+C)>>>w|D.i(U+C+1)<<32-w:D.i(U+C);return new d(O,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,EE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,tr=d}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TE,El,AE,Bc,am,SE,bE,wE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,k,B){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[k].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=u.length||0;const B=k.length||0;u.length=_+B;for(let nt=0;nt<B;nt++)u[_+nt]=k[nt]}else u.push(k)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function rt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,_){const T=ft.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new J(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Rt=!1,D=new ht,w=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(C)}};function C(){for(var u;u=rt();){try{u.h.call(u.g)}catch(_){et(_)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ne,O),ne.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<z.length;B++)_=z[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Z(u){this.src=u,this.g={},this.h=0}Z.prototype.add=function(u,m,_,T,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=ut(u,m,T,k);return nt>-1?(m=u[nt],_||(m.fa=!1)):(m=new it(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function st(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(T,k,1),B&&(dt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ut(u,m,_,T){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var pt="closure_lm_"+(Math.random()*1e6|0),It={};function kt(u,m,_,T,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)kt(u,m[B],_,T,k);return null}return _=mo(_),u&&u[ge]?u.J(m,_,p(T)?!!T.capture:!1,k):de(u,m,_,!1,T,k)}function de(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");const nt=p(k)?!!k.capture:!!k;let St=ie(u);if(St||(u[pt]=St=new Z(u)),_=St.add(m,_,T,nt,B),_.proxy)return _;if(T=cn(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(k=nt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(ae(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cn(){function u(_){return m.call(u.src,u.listener,_)}const m=Qt;return u}function jt(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)jt(u,m[B],_,T,k);else T=p(T)?!!T.capture:!!T,_=mo(_),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=ut(m,_,T,k),_>-1&&(dt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ie(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ut(m,_,T,k)),(_=u>-1?m[u]:null)&&tn(_))}function tn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])st(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ae(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ie(m))?(st(_,u),_.h==0&&(_.src=null,m[pt]=null)):dt(u)}}}function ae(u){return u in It?It[u]:It[u]="on"+u}function Qt(u,m){if(u.da)u=!0;else{m=new ne(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&tn(u),u=_.call(T,m)}return u}function ie(u){return u=u[pt],u instanceof Z?u:null}var Gn="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[Gn]||(u[Gn]=function(m){return u.handleEvent(m)}),u[Gn])}function be(){V.call(this),this.i=new Z(this),this.M=this,this.G=null}b(be,V),be.prototype[ge]=!0,be.prototype.removeEventListener=function(u,m,_,T){jt(this,u,m,_,T)};function Le(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var k=m;m=new O(T,u),X(m,k)}k=!0;let B,nt;if(_)for(nt=_.length-1;nt>=0;nt--)B=m.g=_[nt],k=hs(B,T,!0,m)&&k;if(B=m.g=u,k=hs(B,T,!0,m)&&k,k=hs(B,T,!1,m)&&k,_)for(nt=0;nt<_.length;nt++)B=m.g=_[nt],k=hs(B,T,!1,m)&&k}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)dt(_[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},be.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function hs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==_){const St=nt.listener,ve=nt.ha||nt.src;nt.fa&&st(u.i,nt),k=St.call(ve,T)!==!1&&k}}return k&&!T.defaultPrevented}function Uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Uh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){V.call(this),this.h=u,this.g={}}b(dr,V);var go=[];function po(u){Nt(u.g,function(m,_){this.g.hasOwnProperty(_)&&tn(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),po(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,kh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){O.call(this,"d")}b(Ge,O);function Nn(){O.call(this,"c")}b(Nn,O);var _e={},iu=null;function ea(){return iu=iu||new be}_e.Ia="serverreachability";function su(u){O.call(this,_e.Ia,u)}b(su,O);function oi(u){const m=ea();Le(m,new su(m))}_e.STAT_EVENT="statevent";function mr(u,m){O.call(this,_e.STAT_EVENT,u),this.stat=m}b(mr,O);function we(u){const m=ea();Le(m,new mr(m,u))}_e.Ja="timingevent";function li(u,m){O.call(this,_e.Ja,u),this.size=m}b(li,O);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Lh(u,m,_,T,k,B){u.info(function(){if(u.g)if(B){var nt="",St=B.split("&");for(let Gt=0;Gt<St.length;Gt++){var ve=St[Gt].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const xn=he.split("_");nt=xn.length>=2&&xn[1]=="type"?nt+(he+"="+ve+"&"):nt+(he+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+nt})}function ru(u,m,_,T,k,B,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+nt})}function ci(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,_)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return fs(B)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function yr(){}b(yr,eu),yr.prototype.g=function(){return new XMLHttpRequest},_o=new yr;function Li(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Yn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Re={},je={};function hi(u,m,_){u.M=1,u.A=_r(Ce(m)),u.u=_,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),fi(u),u.B=Ce(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Kn,u.g=Tu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(go[0]=k.toString()),k=go);for(let B=0;B<k.length;B++){const nt=kt(_,k[B],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Jn(this.g),ve=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||St!=4||ve==7||(ve==8||Gt<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var _=zh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,we(12),En(this),On(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<_.length;)if(he=lu(this,_),he==je){St==4&&(this.m=4,we(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,we(15),ci(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,he,null),mi(this,he);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),On(this);else if(_.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Vo(nt),nt.P=!0,we(11))}}else ci(this.i,this.l,_,null),mi(this,_);St==4&&En(this),this.o&&!this.K&&(St==4?yu(this.j,this):(this.o=!1,fi(this)))}else zi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),En(this),On(this)}}}catch{}};function zh(u){if(!ou(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let _="";const T=m.length,k=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(k&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?je:(_=Number(m.substring(_,T)),isNaN(_)?Re:(T+=1,T+_>m.length?je:(m=m.slice(T,T+_),u.C=T+_,m)))}Yn.prototype.cancel=function(){this.K=!0,En(this)};function fi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(oi(),we(17)),En(this),this.m=2,On(this)):ia(this,this.T-u)};function On(u){u.j.I==0||u.K||yu(u.j,u)}function En(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||pi(_.h,u))){if(!u.L&&pi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ha(_),Es(_);else break t;wr(_),we(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ui(y(_.Va,_),6e3));gi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ai(_,11)}else if((u.L||_.g==u)&&ha(_),!R(m))for(k=_.Ba.g.parse(m),m=0;m<k.length;m++){let Gt=k[m];const he=Gt[0];if(!(he<=_.K))if(_.K=he,Gt=Gt[1],_.I==2)if(Gt[0]=="c"){_.M=Gt[1],_.ba=Gt[2];const xn=Gt[3];xn!=null&&(_.ka=xn,_.j.info("VER="+_.ka));const Si=Gt[4];Si!=null&&(_.za=Si,_.j.info("SVER="+_.za));const Zn=Gt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Wn=u.g;if(Wn){const Rr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=T.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const fa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Kt(T.J,T.G,fa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var nt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),nt.L){Ao(T.h,nt);var St=nt,ve=T.O;ve&&(St.H=ve),St.D&&(di(St),fi(St)),T.g=nt}else gu(T);_.i.length>0&&Ti(_)}else Gt[0]!="stop"&&Gt[0]!="close"||Ai(_,7);else _.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ai(_,7):Oo(_):Gt[0]!="noop"&&_.l&&_.l.qa(Gt),_.A=0)}}oi(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return H(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let k,B=null;T>=0?(k=u[_].substring(0,T),B=u[_].substring(T+1)):k=u[_],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,bo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),ds(this,m[4]),this.h=yi(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ra,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ra,!0),"@"),u.push(Li(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vr(_,_.charAt(0)=="/"?wo:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vr(_,hu)),u.join("")},Tn.prototype.resolve=function(u){const m=Ce(this);let _=!!u.j;_?Be(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ds(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let nt=0;nt<k.length;){const St=k[nt++];St=="."?T&&nt==k.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&nt==k.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=k}return _?m.h=T:_=u.i.toString()!=="",_?bo(m,du(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ce(u){return new Tn(u)}function Be(u,m,_){u.j=_?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,_){m instanceof gs?(u.i=m,oa(u.i,u.l)):(_||(m=vr(m,ms)),u.i=new gs(m,u.l))}function Kt(u,m,_){u.i.set(m,_)}function _r(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,cu=/[#\?:]/g,wo=/[#\?]/g,ms=/[#\?@]/g,hu=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=gs.prototype,s.add=function(u,m){fn(this),this.i=null,u=ps(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function fu(u,m){fn(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return fn(u),m=ps(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)};function Io(u,m){fn(u);let _=[];if(typeof m=="string")Ro(u,m)&&(_=_.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return fn(this),this.i=null,u=ps(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,_){fu(u,m),_.length>0&&(u.i=null,u.g.set(ps(u,m),H(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const k=Li(_);_=Io(this,_);for(let B=0;B<_.length;B++){let nt=k;_[B]!==""&&(nt+="="+Li(_[B])),u.push(nt)}}return this.i=u.join("&")};function du(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,T){const k=T.toLowerCase();T!=k&&(fu(this,T),aa(this,k,_))},u)),u.j=m}function Xn(u,m){const _=new Qn;if(d.Image){const T=new Image;T.onload=A(Mn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Mn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Mn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Mn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const _=new Qn,T=new AbortController,k=setTimeout(()=>{T.abort(),Mn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?Mn(_,"TestPingServer: ok",!0,m):Mn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Mn(_,"TestPingServer: error",!1,m)})}function Mn(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function ys(){this.g=new tu}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}b(_i,eu),_i.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Er,be),s=Er.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_s(this):$n(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},s.Na=function(u){this.g&&(this.response=u,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return Nt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Tr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Vn(_),typeof u=="string"?_!=null&&Li(_):Kt(u,m,_))}function Jt(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,be);var vi=/^https?$/i,Do=["POST","PUT"];s=Jt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ar(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of _)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ar(this,B)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Pi(u)}function No(u){u.A||(u.A=!0,Le(u,"complete"),Le(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Le(this,"complete"),Le(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},s.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Le(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let nt=String(u.D).match(uu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!vi.test(nt?nt.toLowerCase():"")}_=T}if(_)Le(u,"complete"),Le(u,"success");else{u.o=6;try{var k=Jn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",No(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Le(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kh(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=au(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,T){we(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ti(this)};function Oo(u){if(ua(u),u.I==3){var m=u.V++,_=Ce(u.J);if(Kt(_,"SID",u.M),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),br(u,_),m=new Yn(u,u.j,m),m.M=2,m.A=_r(Ce(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}vu(u)}function Es(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ua(u){Es(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||w(),Rt||(re(),Rt=!0),D.add(m,u),u.D=0}}function ca(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=S(B),X(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=mu(this,k,m),_=Ce(this.J),Kt(_,"RID",u),Kt(_,"CVER",22),this.G&&Kt(_,"X-HTTP-Session-Id",this.G),br(this,_),B&&(this.R?m="headers="+Li(Vn(B))+"&"+m:this.u&&Tr(_,this.u,B)),To(this.h,k),this.Ra&&Kt(_,"TYPE","init"),this.S?(Kt(_,"$req",m),Kt(_,"SID","null"),k.U=!0,hi(k,_,null)):hi(k,_,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||Eo(this.h)||Mo(this))};function Mo(u,m){var _;m?_=m.l:_=u.V++;const T=Ce(u.J);Kt(T,"SID",u.M),Kt(T,"RID",_),Kt(T,"AID",u.K),br(u,T),u.u&&u.o&&Tr(T,u.u,u.o),_=new Yn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,_),hi(_,T,m)}function br(u,m){u.H&&Nt(u.H,function(_,T){Kt(m,T,_)}),u.l&&Nt({},function(_,T){Kt(m,T,_)})}function mu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let St=-1;for(;;){const ve=["count="+_];St==-1?_>0?(St=k[0].g,ve.push("ofs="+St)):St=0:ve.push("ofs="+St);let Gt=!0;for(let he=0;he<_;he++){var B=k[he].g;const xn=k[he].map;if(B-=St,B<0)St=Math.max(0,k[he].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var nt=xn instanceof Map?xn:Object.entries(xn);for(const[Si,Zn]of nt){let Wn=Zn;p(Zn)&&(Wn=fs(Zn)),ve.push(B+Si+"="+encodeURIComponent(Wn))}}catch(Si){throw ve.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(xn)}}if(Gt){nt=ve.join("&");break t}}nt=void 0}return u=u.i.splice(0,_),m.G=u,nt}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||w(),Rt||(re(),Rt=!0),D.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Es(this),pu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=_r(Ce(m)),_.u=null,_.R=!0,na(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),wr(this),we(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var _=null;if(u.g==m){ha(u),Vo(u),u.g=null;var T=2}else if(pi(u.h,m))_=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=ea(),Le(T,new li(T,_)),Ti(u)}else gu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&wr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function _u(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const k=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),_r(T),k?Xn(T.toString(),_):Co(T.toString(),_)}else we(2);u.I=0,u.l&&u.l.pa(m),vu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,_){var T=_ instanceof Tn?Ce(_):new Tn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ds(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new Tn(null);T&&Be(B,T),m&&(B.g=m),k&&ds(B,k),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Kt(T,_,m),Kt(T,"VER",u.ka),br(u,T),T}function Tu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new _i({ab:_})):new Jt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){be.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}b(ln,be),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Oo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=fs(u),u=_);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ti(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,ln.Z.N.call(this)};function Su(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Su,Ge);function bu(){Nn.call(this),this.status=1}b(bu,Nn);function ji(u){this.g=u}b(ji,Au),ji.prototype.ra=function(){Le(this.g,"a")},ji.prototype.qa=function(u){Le(this.g,new Su(u))},ji.prototype.pa=function(u){Le(this.g,new bu)},ji.prototype.oa=function(){Le(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,wE=function(){return new Ts},bE=function(){return ea()},SE=_e,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Bc=pr,yo.COMPLETE="complete",AE=yo,nu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",be.prototype.listen=be.prototype.J,El=nu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,TE=Jt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let uo="12.9.0";function NR(s){uo=s}const $r=new Rm("@firebase/firestore");function qa(){return $r.logLevel}function ot(s,...t){if($r.logLevel<=Vt.DEBUG){const i=t.map(km);$r.debug(`Firestore (${uo}): ${s}`,...i)}}function os(s,...t){if($r.logLevel<=Vt.ERROR){const i=t.map(km);$r.error(`Firestore (${uo}): ${s}`,...i)}}function Jr(s,...t){if($r.logLevel<=Vt.WARN){const i=t.map(km);$r.warn(`Firestore (${uo}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,RE(s,a,i)}function RE(s,t,i){let a=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw os(a),new Error(a)}function Yt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||RE(t,l,a)}function At(s,t){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends us{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class MR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class VR{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new IE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class xR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class UR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=LR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function xt(s,t){return s<t?-1:s>t?1:0}function om(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Yd(l)===Yd(c)?xt(l,c):Yd(l)?1:-1}return xt(s.length,t.length)}const PR=55296,zR=57343;function Yd(s){const t=s.charCodeAt(0);return t>=PR&&t<=zR}function Wa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Sv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),l=Ci.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class oe extends Ci{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ci{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return jR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Je([Sv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(oe.fromString(t))}static fromName(t){return new gt(oe.fromString(t).popFirst(5))}static empty(){return new gt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new oe(t.slice()))}}function CE(s,t,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function BR(s,t,i,a){if(t===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function bv(s){if(!gt.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wv(s){if(gt.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function DE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function Oi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vh(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function ke(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ql(s,t){if(!DE(s))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}const Rv=-62135596800,Iv=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Iv);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:ke("string",ce._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ce(0,0))}static max(){return new Et(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function qR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new sr(l,gt.empty(),t)}function HR(s){return new sr(s.readTime,s.key,xl)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(Et.min(),gt.empty(),xl)}static max(){return new sr(Et.max(),gt.empty(),xl)}}function GR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:xt(s.largestBatchId,t.largestBatchId))}const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==FR)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function YR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;const Pm=-1;function Th(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function KR(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const NE="";function XR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Cv(t)),t=$R(s.get(i),t);return Cv(t)}function $R(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case NE:i+="";break;default:i+=c}}return i}function Cv(s){return s+NE+""}function Dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function cr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function OE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new $e(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new ze(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ME("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=JR.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(s.seconds),nanos:Ae(s.nanos)}}function Ae(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?We.fromBase64String(s):We.fromUint8Array(s)}const VE="server_timestamp",xE="__type__",UE="__previous_value__",kE="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[xE]?.stringValue===VE}function Ah(s){const t=s.mapValue.fields[UE];return zm(t)?Ah(t):t}function Ul(s){const t=rr(s.mapValue.fields[kE].timestampValue);return new ce(t.seconds,t.nanos)}class ZR{constructor(t,i,a,l,c,d,p,v,y,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=b}}const ih="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function WR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(s.options.projectId,t)}const LE="__type__",t2="__max__",Oc={mapValue:{}},PE="__vector__",sh="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:n2(s)?9007199254740991:e2(s)?10:11:_t(28295,{value:s})}function ki(s,t){if(s===t)return!0;const i=or(s);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ul(s).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Dv(d)!==Dv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ki(d[v],p[v])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Ll(s,t){return(s.values||[]).find((i=>ki(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=or(s),a=or(t);if(i!==a)return xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),v=Ae(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return Ov(s.timestampValue,t.timestampValue);case 4:return Ov(Ul(s),Ul(t));case 5:return om(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),v=ar(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=xt(p[y],v[y]);if(A!==0)return A}return xt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=xt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:xt(Ae(c.longitude),Ae(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Mv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[sh]?.arrayValue,A=v[sh]?.arrayValue,b=xt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:Mv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const M=om(v[b],A[b]);if(M!==0)return M;const H=to(p[v[b]],y[A[b]]);if(H!==0)return H}return xt(v.length,A.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Ov(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const i=rr(s),a=rr(t),l=xt(i.seconds,a.seconds);return l!==0?l:xt(i.nanos,a.nanos)}function Mv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return xt(i.length,a.length)}function eo(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function qc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ah(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return cr(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function Vv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function um(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function Uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function e2(s){return(s?.mapValue?.fields||{})[LE]?.stringValue===PE}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function n2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new vn(Il(this.value))}}function zE(s){const t=[];return cr(s.fields,((i,a)=>{const l=new Je([i]);if(Hc(a)){const c=zE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Dn(t)}class rn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new rn(t,0,Et.min(),Et.min(),Et.min(),vn.empty(),0)}static newFoundDocument(t,i,a,l){return new rn(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new rn(t,2,i,Et.min(),Et.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,Et.min(),Et.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function kv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Lv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ki(s.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function i2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class jE{}class Ue extends jE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new r2(t,i,a):i==="array-contains"?new l2(t,a):i==="in"?new u2(t,a):i==="not-in"?new c2(t,a):i==="array-contains-any"?new h2(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new a2(t,a):new o2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends jE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ai(t,i)}matches(t){return BE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(s){return s.op==="and"}function qE(s){return s2(s)&&BE(s)}function s2(s){for(const t of s.filters)if(t instanceof ai)return!1;return!0}function cm(s){if(s instanceof Ue)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(qE(s))return s.filters.map((t=>cm(t))).join(",");{const t=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${t})`}}function HE(s,t){return s instanceof Ue?(function(a,l){return l instanceof Ue&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(s,t):s instanceof ai?(function(a,l){return l instanceof ai&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&HE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function GE(s){return s instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(s):"Filter"}class r2 extends Ue{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class a2 extends Ue{constructor(t,i){super(t,"in",i),this.keys=FE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class o2 extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=FE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function FE(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class l2 extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&Ll(i.arrayValue,this.value)}}class u2 extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class c2 extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class h2 extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class f2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Pv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new f2(s,t,i,a,l,c,d)}function Bm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!i2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!HE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Lv(s.startAt,t.startAt)&&Lv(s.endAt,t.endAt)}function hm(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Yl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function d2(s,t,i,a,l,c,d,p){return new Yl(s,t,i,a,l,c,d,p)}function Hm(s){return new Yl(s)}function zv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function m2(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function QE(s){return s.collectionGroup!==null}function Cl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new ah(Je.keyField(),a))}return t.Ie}function Mi(s){const t=At(s);return t.Ee||(t.Ee=g2(t,Cl(s))),t.Ee}function g2(s,t){if(s.limitType==="F")return Pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return Pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function fm(s,t){const i=s.filters.concat([t]);return new Yl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function oh(s,t,i){return new Yl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Sh(s,t){return qm(Mi(s),Mi(t))&&s.limitType===t.limitType}function YE(s){return`${Bm(Mi(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>GE(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function bh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=kv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Cl(a),l)||a.endAt&&!(function(d,p,v){const y=kv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Cl(a),l))})(s,t)}function p2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KE(s){return(t,i)=>{let a=!1;for(const l of Cl(s)){const c=y2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function y2(s,t,i){const a=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?to(v,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:s.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const _2=new me(gt.comparator);function ls(){return _2}const XE=new me(gt.comparator);function Tl(...s){let t=XE;for(const i of s)t=t.insert(i.key,i);return t}function $E(s){let t=XE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Dl()}function JE(){return Dl()}function Dl(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const v2=new me(gt.comparator),E2=new ze(gt.comparator);function Ut(...s){let t=E2;for(const i of s)t=t.add(i);return t}const T2=new ze(xt);function A2(){return T2}function Gm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function ZE(s){return{integerValue:""+s}}function S2(s,t){return KR(t)?ZE(t):Gm(s,t)}class wh{constructor(){this._=void 0}}function b2(s,t,i){return s instanceof Pl?(function(l,c){const d={fields:{[xE]:{stringValue:VE},[kE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=Ah(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,t):s instanceof zl?tT(s,t):s instanceof jl?eT(s,t):(function(l,c){const d=WE(l,c),p=jv(d)+jv(l.Ae);return um(d)&&um(l.Ae)?ZE(p):Gm(l.serializer,p)})(s,t)}function w2(s,t,i){return s instanceof zl?tT(s,t):s instanceof jl?eT(s,t):i}function WE(s,t){return s instanceof lh?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Pl extends wh{}class zl extends wh{constructor(t){super(),this.elements=t}}function tT(s,t){const i=nT(t);for(const a of s.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class jl extends wh{constructor(t){super(),this.elements=t}}function eT(s,t){let i=nT(t);for(const a of s.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class lh extends wh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function jv(s){return Ae(s.integerValue||s.doubleValue)}function nT(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class R2{constructor(t,i){this.field=t,this.transform=i}}function I2(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof zl&&l instanceof zl||a instanceof jl&&l instanceof jl?Wa(a.elements,l.elements,ki):a instanceof lh&&l instanceof lh?ki(a.Ae,l.Ae):a instanceof Pl&&l instanceof Pl})(s.transform,t.transform)}class C2{constructor(t,i){this.version=t,this.transformResults=i}}class Vi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Vi}static exists(t){return new Vi(void 0,t)}static updateTime(t){return new Vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Rh{}function iT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new rT(s.key,Vi.none()):new Kl(s.key,s.data,Vi.none());{const i=s.data,a=vn.empty();let l=new ze(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hr(s.key,a,new Dn(l.toArray()),Vi.none())}}function D2(s,t,i){s instanceof Kl?(function(l,c,d){const p=l.value.clone(),v=qv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof hr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=qv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(sT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,a){return s instanceof Kl?(function(c,d,p,v){if(!Gc(c.precondition,d))return p;const y=c.value.clone(),A=Hv(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof hr?(function(c,d,p,v){if(!Gc(c.precondition,d))return p;const y=Hv(c.fieldTransforms,v,d),A=d.data;return A.setAll(sT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function N2(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=WE(a.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function Bv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>I2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Kl extends Rh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends Rh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function qv(s,t,i){const a=new Map;Yt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,w2(d,p,i[l]))}return a}function Hv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,b2(c,d,t))}return a}class rT extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O2 extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&D2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=JE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=iT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>Bv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>Bv(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return v2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class V2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class x2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ve,zt;function U2(s){switch(s){case K.OK:return _t(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function aT(s){if(s===void 0)return os("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ve.OK:return K.OK;case Ve.CANCELLED:return K.CANCELLED;case Ve.UNKNOWN:return K.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return K.INTERNAL;case Ve.UNAVAILABLE:return K.UNAVAILABLE;case Ve.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ve.NOT_FOUND:return K.NOT_FOUND;case Ve.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ve.ABORTED:return K.ABORTED;case Ve.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ve.DATA_LOSS:return K.DATA_LOSS;default:return _t(39323,{code:s})}}(zt=Ve||(Ve={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function k2(){return new TextEncoder}const L2=new tr([4294967295,4294967295],0);function Gv(s){const t=k2().encode(s),i=new EE;return i.update(t),new Uint8Array(i.digest())}function Fv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,a],0),new tr([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(tr.fromNumber(a)));return l.compare(L2)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Gv(t),[a,l]=Fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Gv(t),[a,l]=Fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ih(Et.min(),l,new me(xt),ls(),Ut())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,Ut(),Ut(),Ut())}}class Fc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class oT{constructor(t,i){this.targetId=t,this.Ce=i}}class lT{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Qv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Yv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.He=Mc(),this.Je=Mc(),this.Ze=new me(xt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new gt(c.path);this.et(i,d,rn.newNoDocument(d,Et.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(a).toUint8Array()}catch(v){if(v instanceof ME)return Jr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Qm(d,l,c)}catch(v){return Jr(v instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const v=new gt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,rn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ut();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ih(t,i,this.Ze,this.je,a);return this.je=ls(),this.He=Mc(),this.Je=Mc(),this.Ze=new me(xt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Qv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ze(xt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ze(xt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new me(gt.comparator)}function Yv(){return new me(gt.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class q2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(s,t){return s.useProto3Json||Th(t)?t:{value:t}}function uh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function H2(s,t){return uh(s,t.toTimestamp())}function xi(s){return Yt(!!s,49232),Et.fromTimestamp((function(i){const a=rr(i);return new ce(a.seconds,a.nanos)})(s))}function Ym(s,t){return mm(s,t).canonicalString()}function mm(s,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function cT(s){const t=oe.fromString(s);return Yt(gT(t),10190,{key:t.toString()}),t}function gm(s,t){return Ym(s.databaseId,t.path)}function Kd(s,t){const i=cT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(fT(i))}function hT(s,t){return Ym(s.databaseId,t)}function G2(s){const t=cT(s);return t.length===4?oe.emptyPath():fT(t)}function pm(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fT(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Kv(s,t,i){return{name:gm(s,t),fields:i.value.mapValue.fields}}function F2(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),We.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),We.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:aT(y.code);return new at(A,y.message||"")})(d);i=new lT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Kd(s,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):Et.min(),p=new vn({mapValue:{fields:a.document.fields}}),v=rn.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Fc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Kd(s,a.document),c=a.readTime?xi(a.readTime):Et.min(),d=rn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Fc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Kd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new x2(l,c),p=a.targetId;i=new oT(p,d)}}return i}function Q2(s,t){let i;if(t instanceof Kl)i={update:Kv(s,t.key,t.value)};else if(t instanceof rT)i={delete:gm(s,t.key)};else if(t instanceof hr)i={update:Kv(s,t.key,t.data),updateMask:eI(t.fieldMask)};else{if(!(t instanceof O2))return _t(16599,{dt:t.type});i={verify:gm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:H2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function Y2(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(Et.min())&&(d=xi(c)),new C2(d,l.transformResults||[])})(i,t)))):[]}function K2(s,t){return{documents:[hT(s,t.path)]}}function X2(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hT(s,l);const c=(function(y){if(y.length!==0)return mT(ai.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:Ga(M.field),direction:Z2(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function $2(s){let t=G2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const M=dT(b);return M instanceof ai&&qE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((M=>(function(tt){return new ah(Fa(tt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let M;return M=typeof b=="object"?b.value:b,Th(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(b){const M=!!b.before,H=b.values||[];return new rh(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const M=!b.before,H=b.values||[];return new rh(H,M)})(i.endAt)),d2(t,l,d,c,p,"F",v,y)}function J2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Ue.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ue.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((a=>dT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function Z2(s){return z2[s]}function W2(s){return j2[s]}function tI(s){return B2[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Je.fromServerFormat(s.fieldPath)}function mT(s){return s instanceof Ue?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:W2(i.op),value:i.value}}})(s):s instanceof ai?(function(i){const a=i.getFilters().map((l=>mT(l)));return a.length===1?a[0]:{compositeFilter:{op:tI(i.op),filters:a}}})(s):_t(54877,{filter:s})}function eI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function pT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Xs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=We.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class nI{constructor(t){this.yt=t}}function iI(s){const t=$2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?oh(t,t.limit,"L"):t}class sI{constructor(){this.Sn=new rI}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(sr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class rI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(oe.comparator)).toArray()}}const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(yT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class no{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}const $v="LruGarbageCollector",aI=1048576;function Jv([s,t],[i,a]){const l=xt(s,i);return l===0?xt(t,a):l}class oI{constructor(t){this.Pr=t,this.buffer=new ze(Jv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Jv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot($v,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?ot($v,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Ar(3e5)}))}}class uI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Eh.ce);const a=new oI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Xv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),qa()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function cI(s,t){return new uI(s,t)}class hI{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class dI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,Dn.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Tl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ls();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((v,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof hr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Nl(A.mutation,y,A.mutation.getFieldMask(),ce.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new fI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Dl();let l=new me(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||Dn.empty();A=p.applyToLocalView(y,A),a.set(v,A);const b=(l.get(p.batchId)||Ut()).add(v);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,b=JE();A.forEach((M=>{if(!c.has(M)){const H=iT(i.get(M),a.get(M));H!==null&&b.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return m2(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Hr());let p=xl,v=c;return d.next((y=>$.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ut()))).next((A=>({batchId:p,changes:$E(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let l=Tl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(v=>{const y=(function(b,M){return new Yl(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((b,M)=>{d=d.insert(b,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,rn.newInvalidDocument(A)))}));let p=Tl();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Nl(A.mutation,y,Dn.empty(),ce.now()),bh(i,y)&&(p=p.insert(v,y))})),p}))}}class mI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:iI(l.bundledQuery),readTime:xi(l.readTime)}})(i)),$.resolve()}}class gI{constructor(){this.overlays=new me(gt.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Hr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Hr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new V2(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ut(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class pI{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Km{constructor(){this.kr=new ze(He.Kr),this.qr=new ze(He.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new He(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new He(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new gt(new oe([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new gt(new oe([])),a=new He(i,t),l=new He(i,t+1);let c=Ut();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return gt.comparator(t.key,i.key)||xt(t.Hr,i.Hr)}static Ur(t,i){return xt(t.Hr,i.Hr)||gt.comparator(t.key,i.key)}}class yI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(He.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new M2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(xt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new He(new gt(c),0);let p=new ze(xt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new He(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _I{constructor(t){this.ti=t,this.docs=(function(){return new me(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=ls();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():rn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ls();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||GR(HR(A),a)<=0||(l.has(A.key)||bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ni(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new vI(this)}getSize(t){return $.resolve(this.size)}}class vI extends hI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class EI{constructor(t){this.persistence=t,this.ri=new Wr((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Km,this.targetCount=0,this.oi=no._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new no(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}class _T{constructor(t,i){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new pI,this.referenceDelegate=t(this),this.li=new EI(this),this.indexManager=new sI,this.remoteDocumentCache=(function(l){return new _I(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new nI(i),this.Pi=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new gI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new yI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new TI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class TI extends QR{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Km,this.Ai=null}static Vi(t){return new Xm(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=gt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.fi=new Wr((a=>XR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=cI(this,i)}static Vi(t,i){return new ch(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}wr(t,i,a){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(t,i.fromCache,a,l)}}class AI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class SI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cS()?8:YR(an())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new AI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(qa()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(qa()<=Vt.DEBUG&&ot("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(qa()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):$.resolve())}gs(t,i){if(zv(i))return $.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=oh(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,oh(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return zv(i)||l.isEqual(Et.min())?$.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(qa()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.Ds(t,d,i,qR(l,xl)).next((p=>p)))}))}bs(t,i){let a=new ze(KE(t));return i.forEach(((l,c)=>{bh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return qa()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(t,i,sr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",bI=3e8;class wI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new me(xt),this.Fs=new Wr((c=>Bm(c)),qm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function RI(s,t,i,a){return new wI(s,t,i,a)}async function vT(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ut();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function II(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const b=y.batch,M=b.keys();let H=$.resolve();return M.forEach((tt=>{H=H.next((()=>A.getEntry(v,tt))).next((J=>{const et=y.docVersions.get(tt);Yt(et!==null,48541),J.version.compareTo(et)<0&&(b.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),A.addEntry(J)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function ET(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function CI(s,t){const i=At(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const M=l.get(b);if(!M)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,b))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(We.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(b,H),(function(J,et,rt){return J.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=bI?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(M,H,A)&&p.push(i.li.updateTargetData(c,H))}));let v=ls(),y=Ut();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(DI(c,d,t.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(Et.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function DI(s,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=ls();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):ot(Jm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function NI(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function OI(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Xs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function ym(s,t,i){const a=At(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;ot(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Zv(s,t,i){const a=At(s);let l=Et.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const b=At(v),M=b.Fs.get(A);return M!==void 0?$.resolve(b.vs.get(M)):b.li.getTargetData(y,A)})(a,d,Mi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Ut()))).next((p=>(MI(a,p2(t),p),{documents:p,ks:c})))))}function MI(s,t,i){let a=s.Ms.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Wv{constructor(){this.activeTargetIds=A2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VI{constructor(){this.vo=new Wv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Wv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xI{Mo(t){}shutdown(){}}const t0="ConnectivityMonitor";class e0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(t0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(t0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function _m(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Xd="RestConnection",UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=_m(),p=this.Qo(t,i.toUriEncodedString());ot(Xd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),A=ao(y);return this.zo(t,p,v,a,A).then((b=>(ot(Xd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Jr(Xd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=UI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class LI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const nn="WebChannelConnection",_l=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class $a extends kI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!$a.c_){const t=bE();_l(t,SE.STAT_EVENT,(i=>{i.stat===am.PROXY?ot(nn,"STAT_EVENT: detected buffering proxy"):i.stat===am.NOPROXY&&ot(nn,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(t,i,a,l,c){const d=_m();return new Promise(((p,v)=>{const y=new TE;y.setWithCredentials(!0),y.listenOnce(AE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const b=y.getResponseJson();ot(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Bc.TIMEOUT:ot(nn,`RPC '${t}' ${d} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=y.getStatus();if(ot(nn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const tt=H?.error;if(tt&&tt.status&&tt.message){const J=(function(rt){const ht=rt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ht)>=0?ht:K.UNKNOWN})(tt.status);v(new at(J,tt.message))}else v(new at(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(nn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=_m(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");ot(nn,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let b=!1,M=!1;const H=new LI({Ho:tt=>{M?ot(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(b||(ot(nn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),ot(nn,`RPC '${t}' stream ${l} sending:`,tt),A.send(tt))},Jo:()=>A.close()});return _l(A,El.EventType.OPEN,(()=>{M||(ot(nn,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),_l(A,El.EventType.CLOSE,(()=>{M||(M=!0,ot(nn,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(A))})),_l(A,El.EventType.ERROR,(tt=>{M||(M=!0,Jr(nn,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),H.o_(new at(K.UNAVAILABLE,"The operation could not be completed")))})),_l(A,El.EventType.MESSAGE,(tt=>{if(!M){const J=tt.data[0];Yt(!!J,16349);const et=J,rt=et?.error||et[0]?.error;if(rt){ot(nn,`RPC '${t}' stream ${l} received error:`,rt);const ht=rt.status;let ft=(function(Rt){const D=Ve[Rt];if(D!==void 0)return aT(D)})(ht),Pt=rt.message;ht==="NOT_FOUND"&&Pt.includes("database")&&Pt.includes("does not exist")&&Pt.includes(this.databaseId.database)&&Jr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ft===void 0&&(ft=K.INTERNAL,Pt="Unknown error status: "+ht+" with message "+rt.message),M=!0,H.o_(new at(ft,Pt)),A.close()}else ot(nn,`RPC '${t}' stream ${l} received:`,J),H.__(J)}})),$a.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wE()}}function PI(s){return new $a(s)}function $d(){return typeof document<"u"?document:null}function Ch(s){return new q2(s,!0)}$a.c_=!1;class TT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const n0="PersistentStream";class AT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(n0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zI extends AT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=F2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?xi(d.readTime):Et.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=hm(v)?{documents:K2(c,v)}:{query:X2(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uT(c,d.resumeToken);const y=dm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const y=dm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=J2(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.K_(i)}}class jI extends AT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Y2(t.writeResults,t.commitTime),a=xi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Q2(this.serializer,a)))};this.K_(i)}}class BI{}class qI extends BI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(K.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HI(s,t,i,a){return new qI(s,t,i,a)}class GI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class FI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(ot(Zr,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await $l(y),y.Va.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Va=new GI(a,l)}}async function Dh(s){if(ta(s))for(const t of s.Ra)await t(!0)}async function $l(s){for(const t of s.Ra)await t(!1)}function ST(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),eg(i)?tg(i):fo(i).O_()&&Wm(i,t))}function Zm(s,t){const i=At(s),a=fo(i);i.Ia.delete(t),a.O_()&&bT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Va.set("Unknown"))}function Wm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(s).Z_(t)}function bT(s,t){s.da.$e(t),fo(s).X_(t)}function tg(s){s.da=new P2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),fo(s).start(),s.Va.ua()}function eg(s){return ta(s)&&!fo(s).x_()&&s.Ia.size>0}function ta(s){return At(s).Ea.size===0}function wT(s){s.da=void 0}async function QI(s){s.Va.set("Online")}async function YI(s){s.Ia.forEach(((t,i)=>{Wm(s,t)}))}async function KI(s,t){wT(s),eg(s)?(s.Va.ha(t),tg(s)):s.Va.set("Unknown")}async function XI(s,t,i){if(s.Va.set("Online"),t instanceof lT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){ot(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await hh(s,a)}else if(t instanceof Fc?s.da.Xe(t):t instanceof oT?s.da.st(t):s.da.tt(t),!i.isEqual(Et.min()))try{const a=await ET(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(We.EMPTY_BYTE_STRING,A.snapshotVersion)),bT(c,v);const b=new Xs(A.target,v,y,A.sequenceNumber);Wm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ot(Zr,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,t,i){if(!ho(t))throw t;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>ET(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Zr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Dh(s)}))}function RT(s,t){return t().catch((i=>hh(s,i,t)))}async function Nh(s){const t=At(s),i=lr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pm;for(;$I(t);)try{const l=await NI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,JI(t,l)}catch(l){await hh(t,l)}IT(t)&&CT(t)}function $I(s){return ta(s)&&s.Ta.length<10}function JI(s,t){s.Ta.push(t);const i=lr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function IT(s){return ta(s)&&!lr(s).x_()&&s.Ta.length>0}function CT(s){lr(s).start()}async function ZI(s){lr(s).ra()}async function WI(s){const t=lr(s);for(const i of s.Ta)t.ea(i.mutations)}async function tC(s,t,i){const a=s.Ta.shift(),l=Fm.from(a,t,i);await RT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Nh(s)}async function eC(s,t){t&&lr(s).Y_&&await(async function(a,l){if((function(d){return U2(d)&&d!==K.ABORTED})(l.code)){const c=a.Ta.shift();lr(a).B_(),await RT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(a)}})(s,t),IT(s)&&CT(s)}async function i0(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await $l(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function nC(s,t){const i=At(s);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function fo(s){return s.ma||(s.ma=(function(i,a,l){const c=At(i);return c.sa(),new zI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:QI.bind(null,s),Yo:YI.bind(null,s),t_:KI.bind(null,s),J_:XI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),eg(s)?tg(s):s.Va.set("Unknown")):(await s.ma.stop(),wT(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,a,l){const c=At(i);return c.sa(),new jI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZI.bind(null,s),t_:eC.bind(null,s),ta:WI.bind(null,s),na:tC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ng{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ng(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(s,t){if(os("AsyncQueue",`${t}: ${s}`),ho(s))return new at(K.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=Tl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class s0{constructor(){this.ga=new me(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class io{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class iC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class sC{constructor(){this.queries=r0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=r0(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function r0(){return new Wr((s=>YE(s)),Sh)}async function DT(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new iC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ig(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sg(i)}async function NT(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rC(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function aC(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function sg(s){s.Ca.forEach((t=>{t.next()}))}var vm,a0;(a0=vm||(vm={})).Ma="default",a0.Cache="cache";class OT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new io(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class MT{constructor(t){this.key=t}}class VT{constructor(t){this.key=t}}class oC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=KE(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new s0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const M=l.get(A),H=bh(this.query,b)?b:null,tt=!!M&&this.mutatedKeys.has(M.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let et=!1;M&&H?M.data.isEqual(H.data)?tt!==J&&(a.track({type:3,doc:H}),et=!0):this.su(M,H)||(a.track({type:2,doc:H}),et=!0,(v&&this.eu(H,v)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),et=!0):M&&!H&&(a.track({type:1,doc:M}),et=!0,(v||y)&&(p=!0)),et&&(H?(d=d.add(H),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(H,tt){const J=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:et})}};return J(H)-J(tt)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new VT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new MT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rg="SyncEngine";class lC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class uC{constructor(t){this.key=t,this.hu=!1}}class cC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((p=>YE(p)),Sh),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(gt.comparator),this.Au=new Map,this.Vu=new Km,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hC(s,t,i=!0){const a=zT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xT(a,t,i,!0),l}async function fC(s,t){const i=zT(s);await xT(i,t,!0,!1)}async function xT(s,t,i,a){const l=await OI(s.localStore,Mi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await dC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&ST(s.remoteStore,l),p}async function dC(s,t,i,a,l){s.pu=(b,M,H)=>(async function(J,et,rt,ht){let ft=et.view.ru(rt);ft.Ss&&(ft=await Zv(J.localStore,et.query,!1).then((({documents:D})=>et.view.ru(D,ft))));const Pt=ht&&ht.targetChanges.get(et.targetId),re=ht&&ht.targetMismatches.get(et.targetId)!=null,Rt=et.view.applyChanges(ft,J.isPrimaryClient,Pt,re);return l0(J,et.targetId,Rt.au),Rt.snapshot})(s,b,M,H);const c=await Zv(s.localStore,t,!0),d=new oC(t,c.ks),p=d.ru(c.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,v);l0(s,i,y.au);const A=new lC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function mC(s,t,i){const a=At(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Sh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(co)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function gC(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function pC(s,t,i){const a=SC(s);try{const l=await(function(d,p){const v=At(d),y=ce.now(),A=p.reduce(((H,tt)=>H.add(tt.key)),Ut());let b,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let tt=ls(),J=Ut();return v.xs.getEntries(H,A).next((et=>{tt=et,tt.forEach(((rt,ht)=>{ht.isValidDocument()||(J=J.add(rt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,tt))).next((et=>{b=et;const rt=[];for(const ht of p){const ft=N2(ht,b.get(ht.key).overlayedDocument);ft!=null&&rt.push(new hr(ht.key,ft,zE(ft.value.mapValue),Vi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,y,rt,p)})).next((et=>{M=et;const rt=et.applyToLocalDocumentSet(b,J);return v.documentOverlayCache.saveOverlays(H,et.batchId,rt)}))})).then((()=>({batchId:M.batchId,changes:$E(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new me(xt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Jl(a,l.changes),await Nh(a.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");i.reject(c)}}async function UT(s,t){const i=At(s);try{const a=await CI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await co(a)}}function o0(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,b)=>{for(const M of b.ba)M.va(p)&&(y=!0)})),y&&sg(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function yC(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(gt.comparator);d=d.insert(c,rn.newNoDocument(c,Et.min()));const p=Ut().add(c),v=new Ih(Et.min(),new Map,new me(xt),d,p);await UT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),ag(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(co)}async function _C(s,t){const i=At(s),a=t.batch.batchId;try{const l=await II(i.localStore,t);LT(i,a,null),kT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await co(l)}}async function vC(s,t,i){const a=At(s);try{const l=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((b=>(Yt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);LT(a,t,i),kT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await co(l)}}function kT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function LT(s,t,i){const a=At(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function Em(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||PT(s,a)}))}function PT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Zm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),ag(s))}function l0(s,t,i){for(const a of i)a instanceof MT?(s.Vu.addReference(a.key,t),EC(s,a)):a instanceof VT?(ot(rg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||PT(s,a.key)):_t(19791,{wu:a})}function EC(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(rg,"New document in limbo: "+i),s.Eu.add(a),ag(s))}function ag(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(oe.fromString(t)),a=s.fu.next();s.Au.set(a,new uC(i)),s.Ru=s.Ru.insert(i,a),ST(s.remoteStore,new Xs(Mi(Hm(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function Jl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=$m.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(y,(M=>$.forEach(M.Ts,(H=>A.persistence.referenceDelegate.addReference(b,M.targetId,H))).next((()=>$.forEach(M.Is,(H=>A.persistence.referenceDelegate.removeReference(b,M.targetId,H)))))))))}catch(b){if(!ho(b))throw b;ot(Jm,"Failed to update sequence numbers: "+b)}for(const b of y){const M=b.targetId;if(!b.fromCache){const H=A.vs.get(M),tt=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(tt);A.vs=A.vs.insert(M,J)}}})(a.localStore,c))}async function TC(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){ot(rg,"User change. New user:",t.toKey());const a=await vT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new at(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ns)}}function AC(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function zT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yC.bind(null,t),t.Pu.J_=rC.bind(null,t.eventManager),t.Pu.yu=aC.bind(null,t.eventManager),t}function SC(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return RI(this.persistence,new SI,t.initialUser,this.serializer)}Cu(t){return new _T(Xm.Vi,this.serializer)}Du(t){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class bC extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new _T((a=>ch.Vi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>o0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await nC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new sC})()}createDatastore(t){const i=Ch(t.databaseInfo.databaseId),a=PI(t.databaseInfo);return HI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new FI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>o0(this.syncEngine,i,0)),(function(){return e0.v()?new e0:new xI})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,A){const b=new cC(l,c,d,p,v,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);ot(Zr,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class jT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class wC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(ur,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await vT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function u0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await RC(s);ot(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>i0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>i0(t.remoteStore,l))),s._onlineComponents=t}async function RC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(ur,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Jr("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new fh)}}else ot(ur,"Using default OfflineComponentProvider"),await Jd(s,new bC(void 0));return s._offlineComponents}async function BT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(ur,"Using user provided OnlineComponentProvider"),await u0(s,s._uninitializedComponentsProvider._online)):(ot(ur,"Using default OnlineComponentProvider"),await u0(s,new Tm))),s._onlineComponents}function IC(s){return BT(s).then((t=>t.syncEngine))}async function Am(s){const t=await BT(s),i=t.eventManager;return i.onListen=hC.bind(null,t.syncEngine),i.onUnlisten=mC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=fC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=gC.bind(null,t.syncEngine),i}function CC(s,t,i,a){const l=new jT(a),c=new OT(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>DT(await Am(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>NT(await Am(s),c)))}}function DC(s,t,i={}){const a=new er;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const A=new jT({next:M=>{A.Nu(),d.enqueueAndForget((()=>NT(c,b))),M.fromCache&&v.source==="server"?y.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),b=new OT(p,A,{includeMetadataChanges:!0,Ka:!0});return DT(c,b)})(await Am(s),s.asyncQueue,t,i,a))),a.promise}function NC(s,t){const i=new er;return s.asyncQueue.enqueueAndForget((async()=>pC(await IC(s),t,i))),i.promise}function qT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const OC="ComponentProvider",c0=new Map;function MC(s,t,i,a,l){return new ZR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,qT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const HT="firestore.googleapis.com",h0=!0;class f0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=h0}else this.host=t.host,this.ssl=t.ssl??h0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aI)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new OR;switch(a.type){case"firstParty":return new UR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=c0.get(i);a&&(ot(OC,"Removing Datastore"),c0.delete(i),a.terminate())})(this),Promise.resolve()}}function VC(s,t,i,a={}){s=Oi(s,Oh);const l=ao(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(x0(`https://${p}`),U0("Firestore",!0)),c.host!==HT&&c.host!==p&&Jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Yr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=sn.MOCK_USER;else{y=eS(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new sn(b)}s._authCredentials=new MR(new IE(y,A))}}class fr{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new fr(this.firestore,t,this._query)}}class Se{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,Se._jsonSchema))return new Se(t,a||null,new gt(oe.fromString(i.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:ke("string",Se._jsonSchemaVersion),referencePath:ke("string")};class nr extends fr{constructor(t,i,a){super(t,i,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new gt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function d0(s,t,...i){if(s=Ze(s),CE("collection","path",t),s instanceof Oh){const a=oe.fromString(t,...i);return wv(a),new nr(s,null,a)}{if(!(s instanceof Se||s instanceof nr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return wv(a),new nr(s.firestore,null,a)}}function xc(s,t,...i){if(s=Ze(s),arguments.length===1&&(t=Lm.newId()),CE("doc","path",t),s instanceof Oh){const a=oe.fromString(t,...i);return bv(a),new Se(s,null,new gt(a))}{if(!(s instanceof Se||s instanceof nr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return bv(a),new Se(s.firestore,s instanceof nr?s.converter:null,new gt(a))}}const m0="AsyncQueue";class g0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TT(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&ot(m0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;ot(m0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",p0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ng.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function p0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class so extends Oh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new g0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new g0(t),this._firestoreClient=void 0,await t}}}function xC(s,t){const i=typeof s=="object"?s:z0(),a=typeof s=="string"?s:ih,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=WA("firestore");c&&VC(l,...c)}return l}function og(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||UC(s),s._firestoreClient}function UC(s){const t=s._freezeSettings(),i=MC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new wC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(We.fromBase64String(t))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:ke("string",Hn._jsonSchemaVersion),bytes:ke("string")};class lg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mh{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:ke("string",Ui._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ri(t.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ke("string",ri._jsonSchemaVersion),vectorValues:ke("object")};const kC=/^__.*__$/;class LC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class GT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function FT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:s})}}class ug{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ug({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(FT(this.dataSource)&&kC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class PC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(t)}createContext(t,i,a,l=!1){return new ug({dataSource:t,methodName:i,targetDoc:a,path:Je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(s){const t=s._freezeSettings(),i=Ch(s._databaseId);return new PC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function zC(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);fg("Data must be an object, but it was:",d,a);const p=QT(a,d);let v,y;if(c.merge)v=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const M=ro(t,b,i);if(!d.contains(M))throw new at(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);XT(A,M)||A.push(M)}v=new Dn(A),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new LC(new vn(p),v,y)}class Vh extends Mh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}class hg extends Mh{_toFieldTransform(t){return new R2(t.path,new Pl)}isEqual(t){return t instanceof hg}}function jC(s,t,i,a){const l=s.createContext(1,t,i);fg("Data must be an object, but it was:",l,a);const c=[],d=vn.empty();cr(a,((v,y)=>{const A=KT(t,v,i);y=Ze(y);const b=l.childContextForFieldPath(A);if(y instanceof Vh)c.push(A);else{const M=Zl(y,b);M!=null&&(c.push(A),d.set(A,M))}}));const p=new Dn(c);return new GT(d,p,l.fieldTransforms)}function BC(s,t,i,a,l,c){const d=s.createContext(1,t,i),p=[ro(t,a,i)],v=[l];if(c.length%2!=0)throw new at(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(ro(t,c[M])),v.push(c[M+1]);const y=[],A=vn.empty();for(let M=p.length-1;M>=0;--M)if(!XT(y,p[M])){const H=p[M];let tt=v[M];tt=Ze(tt);const J=d.childContextForFieldPath(H);if(tt instanceof Vh)y.push(H);else{const et=Zl(tt,J);et!=null&&(y.push(H),A.set(H,et))}}const b=new Dn(y);return new GT(A,b,d.fieldTransforms)}function qC(s,t,i,a=!1){return Zl(i,s.createContext(a?4:3,t))}function Zl(s,t){if(YT(s=Ze(s)))return fg("Unsupported field value:",t,s),QT(s,t);if(s instanceof Mh)return(function(a,l){if(!FT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Zl(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return S2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:uT(l.serializer,a._byteString)};if(a instanceof Se){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,p){const v=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[LE]:{stringValue:PE},[sh]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Gm(p.serializer,A)}))}}}}}})(a,l);if(pT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${vh(a)}`)})(s,t)}function QT(s,t){const i={};return OE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(s,((a,l)=>{const c=Zl(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function YT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ce||s instanceof Ui||s instanceof Hn||s instanceof Se||s instanceof Mh||s instanceof ri||pT(s))}function fg(s,t,i){if(!YT(i)||!DE(i)){const a=vh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function ro(s,t,i){if((t=Ze(t))instanceof lg)return t._internalPath;if(typeof t=="string")return KT(s,t);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const HC=new RegExp("[~\\*/\\[\\]]");function KT(s,t,i){if(t.search(HC)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new lg(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new at(K.INVALID_ARGUMENT,p+s+v)}function XT(s,t){return s.some((i=>i.isEqual(t)))}class GC{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new ri(i)}convertGeoPoint(t){return new Ui(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=rr(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Yt(gT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return l.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class dg extends GC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,i)}}function Sl(){return new hg("serverTimestamp")}const y0="@firebase/firestore",_0="4.11.0";function v0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class $T{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(ro("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class FC extends $T{data(){return super.data()}}function JT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class ZT extends mg{}function QC(s,t,...i){let a=[];t instanceof mg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof gg)).length,p=c.filter((v=>v instanceof xh)).length;if(d>1||d>0&&p>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class xh extends ZT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new xh(t,i,a)}_apply(t){const i=this._parse(t);return WT(t._query,i),new fr(t.firestore,t.converter,fm(t._query,i))}_parse(t){const i=cg(t.firestore);return(function(c,d,p,v,y,A,b){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){T0(b,A);const tt=[];for(const J of b)tt.push(E0(v,c,J));M={arrayValue:{values:tt}}}else M=E0(v,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||T0(b,A),M=qC(p,d,b,A==="in"||A==="not-in");return Ue.create(y,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function YC(s,t,i){const a=t,l=ro("where",s);return xh._create(l,a,i)}class gg extends mg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new gg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const v of p)WT(d,v),d=fm(d,v)})(t._query,i),new fr(t.firestore,t.converter,fm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends ZT{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new pg(t,i,a)}_apply(t){return new fr(t.firestore,t.converter,oh(t._query,this._limit,this._limitType))}}function KC(s){return pg._create("limit",s,"F")}function E0(s,t,i){if(typeof(i=Ze(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QE(t)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(oe.fromString(i));if(!gt.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Vv(s,new gt(a))}if(i instanceof Se)return Vv(s,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(i)}.`)}function T0(s,t){if(!Array.isArray(s)||s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WT(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function XC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends $T{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ro("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:ke("string",Gr._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Qc extends Gr{data(t={}){return super.data(t)}}class Fr{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:$C(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $C(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Fr._jsonSchemaVersion="firestore/querySnapshot/1.0",Fr._jsonSchema={type:ke("string",Fr._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function JC(s){s=Oi(s,fr);const t=Oi(s.firestore,so),i=og(t),a=new dg(t);return JT(s._query),DC(i,s._query).then((l=>new Fr(t,a,s,l)))}function ZC(s,t,i){s=Oi(s,Se);const a=Oi(s.firestore,so),l=XC(s.converter,t),c=cg(a);return t1(a,[zC(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Vi.none())])}function A0(s,t,i,...a){s=Oi(s,Se);const l=Oi(s.firestore,so),c=cg(l);let d;return d=typeof(t=Ze(t))=="string"||t instanceof lg?BC(c,"updateDoc",s._key,t,i,a):jC(c,"updateDoc",s._key,t),t1(l,[d.toMutation(s._key,Vi.exists(!0))])}function WC(s,...t){s=Ze(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||v0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(v0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Se)d=Oi(s.firestore,so),p=Hm(s._key.path),c={next:y=>{t[a]&&t[a](tD(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Oi(s,fr);d=Oi(y.firestore,so),p=y._query;const A=new dg(d);c={next:b=>{t[a]&&t[a](new Fr(d,A,y,b))},error:t[a+1],complete:t[a+2]},JT(s._query)}const v=og(d);return CC(v,p,l,c)}function t1(s,t){const i=og(s);return NC(i,t)}function tD(s,t,i){const a=i.docs.get(t._key),l=new dg(s);return new Gr(s,l,t._key,a,new bl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){NR(oo),Za(new Kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new so(new VR(a.getProvider("auth-internal")),new kR(d,a.getProvider("app-check-internal")),WR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Zs(y0,_0,t),Zs(y0,_0,"esm2020")})();const e1=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const eD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const S0=s=>{const t=nD(s);return t.charAt(0).toUpperCase()+t.slice(1)};var iD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const rD=ee.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>ee.createElement("svg",{ref:v,...iD,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:e1("lucide",l),...!c&&!sD(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>ee.createElement(y,A)),...Array.isArray(c)?c:[c]]));const cs=(s,t)=>{const i=ee.forwardRef(({className:a,...l},c)=>ee.createElement(rD,{ref:c,iconNode:t,className:e1(`lucide-${eD(S0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=S0(s),i};const aD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],n1=cs("lock",aD);const oD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lD=cs("rotate-ccw",oD);const uD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],cD=cs("shield-alert",uD);const hD=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}]],fD=cs("signal-low",hD);const dD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],i1=cs("target",dD);const mD=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gD=cs("trophy",mD);const pD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],b0=cs("users",pD);const yD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_D=cs("wifi-off",yD);const vD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ED=cs("zap",vD),TD={apiKey:"AIzaSyC7Gm_3Lie_unVXaw6s7wVp2urxt7RAyJ0",authDomain:"gridlock100.firebaseapp.com",projectId:"gridlock100",storageBucket:"gridlock100.firebasestorage.app",messagingSenderId:"295310640766",appId:"1:295310640766:web:f1b85dd7a46b28e3d27a2f",measurementId:"G-JVY8NNNLHQ"},s1=P0(TD),w0=CR(s1),Uc=xC(s1),kc="grid-lock-100-dev",xe=8,vl=100,Sm=[{id:"1x1",shape:[[1]]},{id:"2x1",shape:[[1,1]]},{id:"1x2",shape:[[1],[1]]},{id:"3x1",shape:[[1,1,1]]},{id:"1x3",shape:[[1],[1],[1]]},{id:"2x2",shape:[[1,1],[1,1]]},{id:"L",shape:[[1,0],[1,0],[1,1]]},{id:"T",shape:[[1,1,1],[0,1,0]]},{id:"Z",shape:[[1,1,0],[0,1,1]]}],Qr=()=>Array(xe).fill().map(()=>Array(xe).fill(0)),Yc=(s=3)=>Array(s).fill(null).map((t,i)=>({uid:Math.random().toString(36).substr(2,9),...Sm[Math.floor(Math.random()*Sm.length)]})),bm=s=>s?s.map(t=>t?{uid:t.uid,id:t.id}:null):[],R0=s=>s?s.map(t=>{if(!t)return null;const i=Sm.find(a=>a.id===t.id);return{...t,shape:i?i.shape:[[1]]}}):[],Ol=s=>s.flat().join(""),I0=s=>{const t=Qr();if(!s)return t;for(let i=0;i<64;i++){const a=Math.floor(i/xe),l=i%xe;t[a][l]=parseInt(s[i]||"0")}return t};function AD(){const[s,t]=ee.useState(null),[i,a]=ee.useState(null),[l,c]=ee.useState(null),[d,p]=ee.useState(null),[v,y]=ee.useState("menu"),[A,b]=ee.useState(!1);ee.useEffect(()=>((async()=>await hw(w0))(),yw(w0,t)),[]);const M=()=>{b(!0);const J=Ol(Qr()),et={p1:{uid:s?.uid||"solo",gridStr:J,score:0,pieces:Yc(3),attackIncoming:null,lockedUntil:0,lastSeen:Date.now()},p2:{uid:"bot",gridStr:J,score:0,pieces:[],attackIncoming:null,lockedUntil:0,lastSeen:Date.now()},winner:null,status:"playing",createdAt:Date.now()};p(et),c("p1"),y("playing")},H=async()=>{if(console.log("findMatch: Starting matchmaking found..."),!s){console.log("findMatch: No user found, aborting.");return}b(!1),y("finding"),console.log("findMatch: Status set to finding. UserId:",s.uid);try{const J=d0(Uc,"artifacts",kc,"public","data","matches");console.log("findMatch: Querying for waiting matches in",J.path);const et=QC(J,YC("status","==","waiting"),KC(1)),rt=await JC(et);if(console.log("findMatch: Query Snapshot size:",rt.size),rt.empty){console.log("findMatch: No waiting matches found. Creating new match...");const ht=xc(d0(Uc,"artifacts",kc,"public","data","matches")),ft=bm(Yc(3)),Pt=bm(Yc(3)),re={p1:{uid:s.uid,gridStr:Ol(Qr()),score:0,pieces:ft,attackIncoming:null,lockedUntil:0,lastSeen:Sl()},p2:{uid:null,gridStr:Ol(Qr()),score:0,pieces:Pt,attackIncoming:null,lockedUntil:0,lastSeen:Sl()},winner:null,status:"waiting",createdAt:Sl()};await ZC(ht,re),console.log("findMatch: Created new match:",ht.id),a(ht.id),c("p1")}else{const ht=rt.docs[0],ft=ht.data();if(console.log("findMatch: Found waiting match:",ht.id,ft),ft.p1.uid===s.uid){console.log("findMatch: User is already P1 in this match. Rejoining as P1."),a(ht.id),c("p1");return}console.log("findMatch: Joining as P2..."),await A0(xc(J,ht.id),{"p2.uid":s.uid,status:"playing",startTime:Sl()}),console.log("findMatch: Joined successfully."),a(ht.id),c("p2")}}catch(J){console.error("Matchmaking error:",J),y("menu")}},tt=async J=>{if(A)p(et=>{const rt=JSON.parse(JSON.stringify(et));return Object.keys(J).forEach(ht=>{const ft=ht.split(".");ft.length===1?rt[ht]=J[ht]:ft.length===2&&(rt[ft[0]][ft[1]]=J[ht])}),rt});else{if(!i)return;await A0(xc(Uc,"artifacts",kc,"public","data","matches",i),J)}};return ee.useEffect(()=>{if(A||!i||!s)return;const J=WC(xc(Uc,"artifacts",kc,"public","data","matches",i),et=>{if(et.exists()){const rt=et.data();rt.p1?.pieces&&(rt.p1.pieces=R0(rt.p1.pieces)),rt.p2?.pieces&&(rt.p2.pieces=R0(rt.p2.pieces)),p(rt),rt.status==="playing"&&v!=="playing"&&y("playing"),rt.status==="finished"&&y("finished")}},et=>console.error("Sync error",et));return()=>J()},[i,s,v,A]),s?W.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500 selection:text-white overflow-hidden touch-none",children:[v==="menu"&&W.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-6 space-y-8 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black",children:[W.jsxs("div",{className:"text-center space-y-2",children:[W.jsx("h1",{className:"text-6xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br from-cyan-400 to-blue-600",children:"GRID LOCK"}),W.jsx("p",{className:"text-xl text-slate-400 font-mono tracking-widest",children:"100 BLOCK RACE"})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md w-full",children:[W.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 backdrop-blur-sm",children:[W.jsx(ED,{className:"w-6 h-6 text-yellow-400 mb-2"}),W.jsx("h3",{className:"font-bold",children:"Speed"}),W.jsx("p",{className:"text-xs text-slate-400",children:"Clear lines fast to score points."})]}),W.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 backdrop-blur-sm",children:[W.jsx(n1,{className:"w-6 h-6 text-red-400 mb-2"}),W.jsx("h3",{className:"font-bold",children:"Attack"}),W.jsx("p",{className:"text-xs text-slate-400",children:"Clear 3+ lines to lock opponent's pieces."})]})]}),W.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[W.jsx("button",{onClick:H,className:"group relative px-8 py-4 bg-cyan-500 hover:bg-cyan-400 text-slate-950 font-bold text-xl rounded-full transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(6,182,212,0.5)] w-full",children:W.jsxs("span",{className:"flex items-center justify-center gap-2",children:[W.jsx(b0,{className:"w-6 h-6 fill-current"}),"MULTIPLAYER"]})}),W.jsx("button",{onClick:M,className:"group px-8 py-3 bg-slate-800 hover:bg-slate-700 text-slate-200 font-bold text-lg rounded-full transition-all hover:scale-105 active:scale-95 border border-slate-700 w-full",children:W.jsxs("span",{className:"flex items-center justify-center gap-2",children:[W.jsx(i1,{className:"w-5 h-5 text-emerald-400"}),"SOLO TRAINING"]})})]})]}),v==="finding"&&W.jsxs("div",{className:"flex flex-col items-center justify-center h-screen space-y-6",children:[W.jsxs("div",{className:"relative",children:[W.jsx("div",{className:"w-16 h-16 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"}),W.jsx(b0,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 text-cyan-500"})]}),W.jsx("p",{className:"text-slate-400 animate-pulse",children:"Scanning network for opponent..."})]}),(v==="playing"||v==="finished")&&d&&W.jsx(SD,{matchId:i,playerRole:l,gameState:d,userId:s.uid,onGameUpdate:tt,isSolo:A})]}):W.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:"Authenticating..."})}function SD({matchId:s,playerRole:t,gameState:i,userId:a,onGameUpdate:l,isSolo:c}){const d=t==="p1"?"p2":"p1",p=i[t],v=i[d],[y,A]=ee.useState(I0(p.gridStr)),[b,M]=ee.useState(p.pieces),[H,tt]=ee.useState(null),[J,et]=ee.useState(null),[rt,ht]=ee.useState([]),[ft,Pt]=ee.useState(!1),[re,Rt]=ee.useState(!1),[D,w]=ee.useState(new Set),[C,V]=ee.useState([]),[O,U]=ee.useState(!1),R=ee.useRef(null);ee.useEffect(()=>{if(c||i.status!=="playing")return;const S=setInterval(()=>{l({[`${t}.lastSeen`]:Sl()})},1e3),z=setInterval(()=>{if(i.winner)return;const X=v.lastSeen;if(!X)return;const Z=X.toMillis?X.toMillis():X,st=Date.now()-Z;st>5e3?U(!0):U(!1),st>1e4&&(console.log("Opponent timed out! Claiming victory."),l({status:"finished",winner:a}))},500);return()=>{clearInterval(S),clearInterval(z)}},[c,i.status,i.winner,v.lastSeen,t]),ee.useEffect(()=>{if(p.attackIncoming){if(p.attackIncoming.type==="lock"){const S=Math.floor(Math.random()*3);ht(z=>[...z,S]),Rt(!0),setTimeout(()=>Rt(!1),500),setTimeout(()=>{ht(z=>z.filter(X=>X!==S))},p.attackIncoming.duration)}l({[`${t}.attackIncoming`]:null})}},[p.attackIncoming,t]),ee.useEffect(()=>{const S=p.lockedUntil>Date.now();if(Pt(S),S){const z=p.lockedUntil-Date.now();setTimeout(()=>Pt(!1),z)}},[p.lockedUntil]);const ne=(S,z,X)=>{if(ft||rt.includes(X)||D.size>0)return;const Z=S.touches?S.touches[0].clientX:S.clientX,st=S.touches?S.touches[0].clientY:S.clientY;tt({piece:z,index:X,currentX:Z,currentY:st,offsetX:0,offsetY:0})},ge=S=>{if(!H)return;S.preventDefault();const z=S.touches?S.touches[0].clientX:S.clientX,X=S.touches?S.touches[0].clientY:S.clientY;let Z=null;if(R.current){const st=R.current.getBoundingClientRect(),ut=st.width/xe,pt=z-st.left,It=X-st.top,kt=H.piece.shape[0].length*ut,de=H.piece.shape.length*ut,cn=Math.floor((pt-kt/2+ut/2)/ut),jt=Math.floor((It-de/2+ut/2)/ut);it(H.piece.shape,cn,jt,y)&&(Z={x:cn,y:jt})}tt(st=>({...st,currentX:z,currentY:X})),et(Z)},G=async()=>{H&&(J&&dt(H.piece,J.x,J.y,H.index,H.currentX,H.currentY),tt(null),et(null))},it=(S,z,X,Z)=>{for(let st=0;st<S.length;st++)for(let ut=0;ut<S[st].length;ut++)if(S[st][ut]===1){const pt=X+st,It=z+ut;if(pt<0||pt>=xe||It<0||It>=xe||Z[pt][It]===1)return!1}return!0},dt=async(S,z,X,Z,st,ut)=>{const pt=y.map(jt=>[...jt]);S.shape.forEach((jt,tn)=>{jt.forEach((ae,Qt)=>{ae===1&&(pt[X+tn][z+Qt]=1)})});const It=[...b];It[Z]=null,M(It),A(pt);const kt=new Set,de=new Set;for(let jt=0;jt<xe;jt++)pt[jt].every(tn=>tn===1)&&kt.add(jt);for(let jt=0;jt<xe;jt++){let tn=!0;for(let ae=0;ae<xe;ae++)pt[ae][jt]===0&&(tn=!1);tn&&de.add(jt)}const cn=kt.size>0||de.size>0;if(S.shape.flat().filter(jt=>jt).length,cn){const jt=new Set;for(let Qt=0;Qt<xe;Qt++)for(let ie=0;ie<xe;ie++)(kt.has(Qt)||de.has(ie))&&jt.add(`${Qt}-${ie}`);w(jt);const ae=kt.size*xe+de.size*xe-kt.size*de.size;V(Qt=>[...Qt,{id:Date.now(),x:st,y:ut,value:ae}]),setTimeout(()=>{V(Qt=>Qt.filter(ie=>Date.now()-ie.id<1e3))},1100),setTimeout(()=>{Nt(pt,It,kt,de),w(new Set)},1e3)}else Nt(pt,It,new Set,new Set)},Nt=(S,z,X,Z,st)=>{const ut=Qr();for(let Qt=0;Qt<xe;Qt++)for(let ie=0;ie<xe;ie++)X.has(Qt)||Z.has(ie)?ut[Qt][ie]=0:ut[Qt][ie]=S[Qt][ie];const pt=X.size*xe+Z.size*xe-X.size*Z.size,It=pt>0?pt:0,kt=X.size+Z.size,de=[...z];de.every(Qt=>Qt===null)&&Yc(3).forEach((ie,Gn)=>de[Gn]=ie),A(ut),M(de);const cn=de.filter(Qt=>Qt!==null);let jt=!1;if(cn.length===0)jt=!0;else t:for(let Qt of cn)for(let ie=0;ie<xe;ie++)for(let Gn=0;Gn<xe;Gn++)if(it(Qt.shape,ie,Gn,ut)){jt=!0;break t}const tn=c?de:bm(de),ae={[`${t}.gridStr`]:Ol(ut),[`${t}.pieces`]:tn,[`${t}.score`]:p.score+It};p.score+It>=vl&&(ae.status="finished",ae.winner=a),kt>=3&&!c&&(ae[`${t==="p1"?"p2":"p1"}.attackIncoming`]={type:"lock",duration:7e3,timestamp:Date.now()}),jt||(Rt(!0),setTimeout(()=>Rt(!1),800),ae[`${t}.gridStr`]=Ol(Qr()),ae[`${t}.score`]=Math.max(0,p.score+It-10),ae[`${t}.lockedUntil`]=Date.now()+3e3,A(Qr())),l(ae)},Ht=(S,z,X,Z)=>D.has(`${z}-${X}`)?"bg-white z-20 animate-clearing shadow-[0_0_15px_white] border-2 border-white":S===0?Z?"bg-white/10 border-2 border-white/40 border-dashed animate-pulse":"bg-slate-800/50 border-2 border-transparent":Z?"bg-cyan-500/30 border-2 border-cyan-500/50":t==="p1"?"bg-cyan-500 border-2 border-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.5)]":"bg-fuchsia-500 border-2 border-fuchsia-400 shadow-[0_0_10px_rgba(217,70,239,0.5)]";return W.jsxs("div",{className:"h-screen w-full flex flex-col relative overflow-hidden",onMouseMove:ge,onTouchMove:ge,onMouseUp:G,onTouchEnd:G,children:[re&&W.jsx("div",{className:"absolute inset-0 bg-red-500/20 z-50 pointer-events-none animate-pulse"}),C.map(S=>W.jsxs("div",{className:"fixed z-[100] text-4xl font-black text-yellow-400 animate-float-score pointer-events-none drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]",style:{left:S.x,top:S.y},children:["+",S.value]},S.id)),W.jsxs("div",{className:"flex-none p-4 flex justify-between items-end bg-slate-900 border-b border-slate-800 z-10",children:[W.jsxs("div",{className:"flex flex-col gap-1 w-1/3",children:[W.jsxs("div",{className:"flex justify-between text-xs font-mono text-cyan-400",children:[W.jsx("span",{children:c?"SCORE":"YOU"}),W.jsxs("span",{children:[Math.floor(p.score),"/",vl]})]}),W.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:W.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-500",style:{width:`${p.score/vl*100}%`}})})]}),W.jsx("div",{className:"flex flex-col items-center",children:W.jsx("div",{className:"bg-slate-800 px-3 py-1 rounded text-xs font-mono text-slate-400 border border-slate-700",children:"TARGET: 100"})}),W.jsx("div",{className:"flex flex-col gap-1 w-1/3 text-right",children:c?W.jsxs("div",{className:"flex justify-end items-center gap-2 text-slate-500 text-xs font-mono h-full",children:[W.jsx(i1,{className:"w-4 h-4"})," SOLO MODE"]}):W.jsxs(W.Fragment,{children:[W.jsxs("div",{className:"flex justify-between text-xs font-mono text-fuchsia-400",children:[W.jsx("span",{children:"OPPONENT"}),W.jsxs("span",{children:[Math.floor(v.score),"/",vl]})]}),W.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:W.jsx("div",{className:"h-full bg-fuchsia-500 transition-all duration-500",style:{width:`${v.score/vl*100}%`}})})]})})]}),!c&&W.jsx("div",{className:"flex-none p-4 flex justify-end relative",children:W.jsxs("div",{className:"bg-slate-900 p-2 rounded-lg border border-slate-700 shadow-xl opacity-80 scale-90 origin-top-right relative",children:[O&&W.jsxs("div",{className:"absolute inset-0 z-20 bg-slate-950/80 flex flex-col items-center justify-center rounded-lg animate-pulse backdrop-blur-sm",children:[W.jsx(fD,{className:"w-8 h-8 text-yellow-500 mb-1"}),W.jsx("span",{className:"text-[10px] text-yellow-500 font-bold uppercase tracking-wider",children:"Reconnecting"})]}),W.jsx("div",{className:"grid grid-cols-8 gap-[1px] bg-slate-800 border border-slate-800 mb-2 w-[120px] h-[120px]",children:I0(v.gridStr).map((S,z)=>S.map((X,Z)=>W.jsx("div",{className:`w-full h-full ${X?"bg-fuchsia-500/80":"bg-slate-900"}`},`${z}-${Z}`)))}),W.jsx("div",{className:"flex justify-center gap-1 h-8",children:v.pieces.map((S,z)=>W.jsx("div",{className:"w-8 bg-slate-800/50 rounded flex items-center justify-center",children:S&&W.jsx("div",{className:"w-3 h-3 bg-fuchsia-500/50 rounded-sm"})},z))})]})}),W.jsxs("div",{className:`flex-1 flex flex-col items-center justify-center gap-6 relative ${c?"pt-8":""}`,children:[i.winner&&W.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-950/90 backdrop-blur",children:W.jsxs("div",{className:"text-center p-8 bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl transform scale-110",children:[i.winner===a||c?W.jsxs(W.Fragment,{children:[W.jsx(gD,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4 animate-bounce"}),W.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"VICTORY"}),W.jsx("p",{className:"text-cyan-400",children:c?"Target Reached!":i.status==="finished"&&i.winner===a?"You Won!":"Target Reached!"})]}):W.jsxs(W.Fragment,{children:[W.jsx(cD,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),W.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"DEFEAT"}),W.jsx("p",{className:"text-slate-400",children:"Opponent claimed the grid."})]}),!c&&i.winner===a&&W.jsxs("div",{className:"mt-2 text-xs text-slate-500 flex items-center justify-center gap-1",children:[W.jsx(_D,{className:"w-3 h-3"}),"If opponent disconnects (>10s), you win automatically."]}),W.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-2 bg-white text-black font-bold rounded-full hover:bg-slate-200",children:"Play Again"})]})}),W.jsxs("div",{ref:R,className:`relative bg-slate-900 p-2 rounded-xl border border-slate-700 shadow-2xl transition-all duration-300 ${ft?"grayscale brightness-50 pointer-events-none":""}`,children:[ft&&W.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center text-red-500 font-bold animate-pulse",children:[W.jsx(lD,{className:"w-12 h-12 mb-2 animate-spin"}),W.jsx("span",{className:"text-2xl",children:"BOARD WIPE"}),W.jsx("span",{className:"text-xs text-white",children:"NO MOVES POSSIBLE (-10 PTS)"})]}),W.jsx("div",{className:"grid grid-cols-8 gap-1 w-[300px] h-[300px] sm:w-[360px] sm:h-[360px]",children:y.map((S,z)=>S.map((X,Z)=>{const st=J&&J.y<=z&&z<J.y+H.piece.shape.length&&J.x<=Z&&Z<J.x+H.piece.shape[0].length&&H.piece.shape[z-J.y][Z-J.x]===1;return W.jsx("div",{className:`w-full h-full rounded-sm transition-colors duration-100 ${Ht(X,z,Z,st)}`},`${z}-${Z}`)}))})]}),W.jsx("div",{className:"w-full max-w-md px-4 pb-8 flex justify-center gap-4 h-24",children:b.map((S,z)=>{const X=rt.includes(z),Z=H&&H.index===z;return W.jsxs("div",{className:`flex-1 h-24 bg-slate-800/50 rounded-lg border-2 border-slate-800 flex items-center justify-center relative ${X?"border-red-500/50 bg-red-900/10":""}`,onMouseDown:st=>S&&!X&&ne(st,S,z),onTouchStart:st=>S&&!X&&ne(st,S,z),children:[X&&W.jsx(n1,{className:"w-8 h-8 text-red-500 absolute z-20 animate-lock"}),S&&!Z&&W.jsx("div",{className:`grid gap-[2px] pointer-events-none opacity-${X?"20":"100"}`,style:{gridTemplateColumns:`repeat(${S.shape[0].length}, 1fr)`},children:S.shape.map((st,ut)=>st.map((pt,It)=>pt?W.jsx("div",{className:"w-4 h-4 bg-cyan-500 rounded-sm shadow-sm"},`${ut}-${It}`):W.jsx("div",{},`${ut}-${It}`)))})]},z)})})]}),H&&W.jsx("div",{className:"fixed pointer-events-none z-50 opacity-80",style:{left:H.currentX,top:H.currentY,transform:"translate(-50%, -50%) scale(1.1)"},children:W.jsx("div",{className:"grid gap-1",style:{gridTemplateColumns:`repeat(${H.piece.shape[0].length}, 1fr)`},children:H.piece.shape.map((S,z)=>S.map((X,Z)=>X?W.jsx("div",{className:"w-8 h-8 bg-cyan-400 rounded-sm shadow-[0_0_15px_rgba(34,211,238,0.8)]"},`${z}-${Z}`):W.jsx("div",{},`${z}-${Z}`)))})})]})}GA.createRoot(document.getElementById("root")).render(W.jsx(ee.StrictMode,{children:W.jsx(AD,{})}));
